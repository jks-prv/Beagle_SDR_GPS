

/* web/extensions/ext.min.js (web/extensions/ext.js = Fri May 20 10:01:51 2022) */
var extint={ws:null,extname:null,srate:0,nom_srate:0,param:null,override_pb:!1,displayed:!1,help_displayed:!1,spectrum_used:!1,current_ext_name:null,using_data_container:!1,hide_func:null,default_w:525,default_h:300,prev_mode:null,seq:0,scanning:0,no_lockout:["noise_blank","noise_filter","ant_switch","iframe","colormap","devl","prefs"],excl_devl:["devl","s4285","prefs"],OPT_NOLOCAL:1},devl={p0:0,p1:0,p2:0,p3:0,p4:0,p5:0,p6:0,p7:0};function ext_switch_to_client(e,t,n){recv_websocket(extint.ws,n),ext_send("SET ext_switch_to_client="+e+" first_time="+(t?1:0)+" rx_chan="+rx_chan),w3_call(e+"_focus")}function ext_send(e,t){null==t&&(t=extint.ws);try{return t.send(e),0}catch(e){console.log("CATCH ext_send('"+s+"') ex="+e),kiwi_trace()}}function ext_panel_show(e,t,n,_){extint_panel_show(e,t,n,_)}function ext_set_data_height(e){var t=w3_el("id-ext-data-container");e?t&&(t.style.height=px(e)):t&&(t.style.height="")}function ext_set_controls_width_height(e,t){panel_set_width_height("ext-controls",e,t)}var EXT_SAVE=!0,EXT_NO_SAVE=!1;function ext_get_cfg_param(e,t,n){var _;e=w3_add_toplevel(e);try{_=getVarFromString(e)}catch(e){_=null}return null!=_&&null!=_||null==t||(_=t,setVarFromString(e,_),null!=n&&n!=EXT_SAVE||cfg_save_json("ext_get_cfg_param",e)),_}function ext_get_cfg_param_string(e,t,n){return kiwi_decodeURIComponent(ext_get_cfg_param_string+":"+e,ext_get_cfg_param(e,t,n))}function ext_set_cfg_param(e,t,n){e=w3_add_toplevel(e),setVarFromString(e,t),null!=n&&n==EXT_SAVE&&cfg_save_json("ext_set_cfg_param",e)}function ext_get_freq_range(){var e=kiwi.freq_offset_kHz;return{lo_kHz:cfg.sdr_hu_lo_kHz+e,hi_kHz:cfg.sdr_hu_hi_kHz+e,offset_kHz:e}}var extint_isAdmin_cb,extint_authkey_cb,ext_zoom={TO_BAND:0,IN:1,OUT:-1,ABS:2,WHEEL:3,CUR:4,NOM_IN:8,MAX_IN:9,MAX_OUT:-9},extint_ext_is_tuning=!1;function ext_tune(e,t,n,_,i,o,a){var l=null!=i&&null!=o;extint_ext_is_tuning=!0,freqmode_set_dsp_kHz(e,t,a),l&&ext_set_passband(i,o),null!=n?n==ext_zoom.CUR?zoom_step(ext_zoom.ABS,zoom_level):zoom_step(n,_):zoom_step(ext_zoom.TO_BAND),extint_ext_is_tuning=!1}function ext_get_freq_Hz(){return{displayed:freq_displayed_Hz,carrier:freq_car_Hz,passband_center:freq_passband_center()}}function ext_get_freq(){return freq_displayed_Hz}function ext_get_freq_kHz(){return(freq_displayed_Hz/1e3).toFixed(2)}function ext_get_carrier_freq(){return freq_car_Hz}function ext_get_passband_center_freq(){return freq_passband_center()}function ext_get_mode(){return cur_mode}function ext_is_IQ_or_stereo_mode(e){return"drm"==(e=e.toLowerCase(e))||"iq"==e||"sas"==e||"qam"==e}function ext_is_IQ_or_stereo_curmode(){return ext_is_IQ_or_stereo_mode(cur_mode)}function ext_get_prev_mode(){return extint.prev_mode}function ext_set_mode(e,t,n){var _="drm"==e;_&&(extint.prev_mode=cur_mode),demodulator_analog_replace(e,t);var i=w3_opt(n,"open_ext",!1),o=w3_opt(n,"no_drm_proc",!1),a="undefined"!=typeof drm&&drm.active;o||(_&&i?a?toggle_panel("ext-controls",1):extint_open("drm"):!_&&a&&(extint_panel_hide(),demodulator_analog_replace(e,t)))}function ext_get_passband(){var e=demodulators[0];return{low:e.low_cut,high:e.high_cut}}function ext_set_passband(e,t,n,_){var i=demodulators[0],o=i.filter;null==e&&(e=i.low_cut),null==t&&(t=i.high_cut);Math.abs(t-e);e=e<o.low_cut_limit?o.low_cut_limit:e,t=t>o.high_cut_limit?o.high_cut_limit:t;var a=!1;Math.abs(t-e)>=o.min_passband&&e<t&&(i.low_cut=e,i.high_cut=t,a=!0),isArg(n)&&n&&a&&(cfg.passbands[cur_mode].last_lo=e,cfg.passbands[cur_mode].last_hi=t),null!=_&&null!=_&&(_*=1e3,freq_car_Hz=freq_dsp_to_car(_)),extint_ext_is_tuning=!0,demodulator_set_offset_frequency(0,freq_car_Hz-center_freq),extint_ext_is_tuning=!1}function ext_get_tuning(){return{low:demod.low_cut,high:demod.high_cut,mode:cur_mode,freq_dial_kHz:freq_displayed_Hz/1e3}}function ext_get_zoom(){return zoom_level}function ext_set_scanning(e){extint.scanning=e?1:0}function ext_agc_delay(e){var t=w3_el("input-decay").value;return isDefined(e)&&setDecay(!0,e),t}function ext_get_optbar(){return readCookie("last_optbar")}function ext_set_optbar(e){extint.optbars[e]&&(writeCookie("last_optbar",e),w3_el("id-nav-"+e).click())}function ext_hasCredential(e,t,n,_){var i;"mfg"==e&&(e="admin"),"admin"==e?(deleteCookie("admin"),deleteCookie("admin-pwd"),i=""):i=(i=readCookie(e))?decodeURIComponent(i):"",extint_pwd_cb=t,extint_pwd_cb_param=n,ext_valpwd(e,i,_)}function ext_valpwd(e,t,n){t=encodeURIComponent(t),"admin"!=e&&writeCookie(e,t),extint_conn_type=e,t=""!=t?t:"#";var _=null,i=readCookie("iplimit"),o=kiwi_url_param(["pwd","password"],"","");""!=o?_=o:i&&""!=i&&(_=i),_=_?" ipl="+_:"",null!=kiwi_url_param(["p","prot","protected"],"true",null)&&"admin"!=e&&(e="prot");var a=0;kiwi_url_param("nolocal")&&(a|=extint.OPT_NOLOCAL),0!=a&&ext_send("SET options="+a),ext_send("SET auth t="+e+" p="+t+_,n)}function ext_isAdmin(e){extint_isAdmin_cb=e,ext_send("SET is_admin")}function ext_get_authkey(e){ext_send("SET get_authkey"),extint_authkey_cb=e}extint.optbars={"optbar-wf":0,"optbar-audio":1,"optbar-agc":2,"optbar-users":3,"optbar-status":4,"optbar-off":5};var extint_adc_clock_Hz=0;function ext_adc_clock_Hz(){return extint_adc_clock_Hz}var extint_adc_gps_clock_corr=0;function ext_adc_gps_clock_corr(){return extint_adc_gps_clock_corr}var extint_adc_clock_nom_Hz=0;function ext_adc_clock_nom_Hz(){return extint_adc_clock_nom_Hz}function ext_sample_rate(){return extint.srate}function ext_nom_sample_rate(){return extint.nom_srate}var extint_audio_data_cb=null;function ext_register_audio_data_cb(e){extint_audio_data_cb=e}function ext_unregister_audio_data_cb(){extint_audio_data_cb=null}function ext_param(){var e=extint.param;return extint.param=null,e}function ext_panel_set_name(e){extint.current_ext_name=e}function ext_mobile_info(e){var t,n=window.innerWidth,_=window.innerHeight,i={width:n,height:_};return t=owrx.popup_keyboard_active?e?e.isPortrait:1:n<_||mobile_laptop_test?1:0,i.orient_unchanged=e&&e.isPortrait==t?1:0,i.isPortrait=t?1:0,i.iPad=t&&n<=768?1:0,i.small=t&&n<768?1:0,i.narrow=t&&n<=600?1:0,i}function extint_news(e){var t;if(!extint.news_init){if((t=w3_el("id-news")).style.top="",t.style.bottom="",t.style.left="",t.style.right="",kiwi_isMobile()){var n=window.innerWidth,_=window.innerHeight;n<=768&&_>=600?(t.style.bottom="0",t.style.left="0",t.style.width="350px",t.style.height="400px"):(t.style.top="36px",t.style.right="0",t.style.width="150px",t.style.height="150px")}else t.style.bottom="0",t.style.left="0",t.style.width="350px",t.style.height="300px";t.style.visibility="visible",t.style.zIndex=9999,extint.news_init=!0}t=w3_el("id-news-inner"),w3_innerHTML(t,e),w3_scrollDown(t)}function ext_panel_init(){w3_el("id-panels-container").innerHTML+='<div id="id-ext-controls" class="class-panel" data-panel-name="ext-controls" data-panel-pos="bottom-left" data-panel-order="0" data-panel-size="'+extint.default_w+","+extint.default_h+'"></div>';w3_el("id-ext-data-container");w3_el("id-ext-controls").innerHTML=w3_div("id-ext-controls-container w3-relative|width:100%;height:100%;")+w3_div("id-ext-controls-vis class-vis")+w3_div("id-ext-controls-help cl-ext-help",w3_button('id-ext-controls-help-btn w3-green w3-small w3-padding-small w3-disabled||onclick="extint_help_click()"',"help")),w3_el("id-kiwi-body").addEventListener("keyup",function(e){"Escape"==e.key&&extint.displayed&&!confirmation.displayed&&1!=w3_call(extint.current_ext_name+"_escape_key_cb")&&(console.log("EXT ESC: no _escape_key_cb() routine, so doing id-ext-controls-close.click()"),w3_el("id-ext-controls-close").click())},!0)}function ext_show_spectrum(){w3_show_block("id-spectrum-container"),extint.spectrum_used=!0}function ext_hide_spectrum(){w3_hide("id-spectrum-container"),extint.spectrum_used=!1}function extint_panel_show(e,t,n,_,i){var o;extint.using_data_container=!!t,extint.using_data_container?(toggle_or_set_spec(toggle_e.SET,0),w3_hide("id-top-container"),w3_show_block(w3_innerHTML("id-ext-data-container",t))):(w3_hide("id-ext-data-container"),spec.source_wf||w3_show_block("id-top-container")),1==extint.help_displayed&&(confirmation_panel_close(),extint.help_displayed=!1),(o=w3_el("id-ext-controls-close")).onclick=function(){toggle_panel("ext-controls"),extint_panel_hide()},ext_set_data_height(),w3_el("id-ext-controls").style.zIndex=150,w3_create_attribute("id-ext-controls-close-img","src","icons/close.24.png"),(o=w3_el("id-ext-controls-container")).innerHTML=e,n&&n(),extint.hide_func=_,(o=w3_el("id-ext-controls")).style.zIndex=150,w3_visible(o,!0),o.panelShown=1,toggle_or_set_hide_panels(0),w3_el("id-confirmation-container").style.height="",i=isDefined(i)?i:w3_call(extint.current_ext_name+"_help",!1),w3_set_props("id-ext-controls-help-btn","w3-disabled",isUndefined(i)||0==i),w3_show_hide("id-ext-controls-help-btn","off"!=i),extint.displayed=!0}function ext_panel_displayed(e){return extint.displayed&&(!e||e==extint.current_ext_name)}function ext_panel_redisplay(e){w3_innerHTML("id-ext-controls-container",e)}function extint_panel_hide(){extint.using_data_container&&(w3_hide("id-ext-data-container"),ext_hide_spectrum(),w3_show_block("id-top-container"),extint.using_data_container=!1,1==extint.help_displayed&&(confirmation_panel_close(),extint.help_displayed=!1)),w3_visible("id-ext-controls",!1),extint_blur_prev(1),w3_call(extint.hide_func),w3_select_value("id-select-ext",-1),resize_waterfall_container(!0),extint.displayed=!1,freqset_select()}function extint_help_click_now(){extint.help_displayed=w3_call(extint.current_ext_name+"_help",!0)}function extint_help_click(e){w3_contains("id-ext-controls-help-btn","w3-disabled")||(console.log(extint.current_ext_name+"_help_click CLICKED"),e?setTimeout(function(){extint_help_click_now()},2e3):extint_help_click_now())}function extint_environment_changed(e){setTimeout(function(){extint.current_ext_name&&w3_call(extint.current_ext_name+"_environment_changed",e),(e.freq||e.mode||e.zoom||e.waterfall_pan||e.resize)&&mouse_freq_remove(),w3_call("injection_environment_changed",e)},100)}var extint_pwd_cb=null,extint_pwd_cb_param=null,extint_conn_type=null;function extint_valpwd_cb(e){extint_pwd_cb&&extint_pwd_cb(e,extint_pwd_cb_param)}function extint_open_ws_cb(){ext_hasCredential("kiwi",null,null),setTimeout(function(){setInterval(function(){ext_send("SET keepalive")},5e3)},5e3)}function extint_connect_server(){return extint.ws=open_websocket("EXT",extint_open_ws_cb,null,extint_msg_cb),extint.ws}function extint_msg_cb(e,t){switch(e[0]){case"keepalive":break;case"ext_client_init":console.log("ext_client_init is_locked="+ +e[1]),extint_focus(+e[1]);break;default:return!1}return!0}function extint_blur_prev(e){null!=extint.current_ext_name&&(w3_call(extint.current_ext_name+"_blur"),recv_websocket(extint.ws,null),e&&ext_set_controls_width_height(),extint.current_ext_name=null,time_display_setup("id-topbar-right-container")),extint.ws&&ext_send("SET ext_blur="+rx_chan)}function extint_focus(e){var t=extint.current_ext_name;if(console.log("extint_focus: loading "+t+".js"),e&&!extint.no_lockout.includes(t))return extint_panel_show(w3_text("w3-medium w3-text-css-yellow","Cannot use extensions while <br> another channel is in DRM mode."),null,null,null,"off"),void ext_set_controls_width_height(300,75);kiwi_load_js_dir("extensions/"+t+"/"+t,[".js",".css"],function(){console.log("extint_focus: calling "+t+"_main()"),ext_set_controls_width_height(),w3_call(t+"_main")},function(e){if(console.log("extint_focus: "+t+" loaded="+e),e){extint_panel_show("loading extension...",null,null,null,"off"),ext_set_controls_width_height(325,45),kiwi.is_locked&&console.log("==== IS_LOCKED =================================================")}})}var extint_names,extint_first_ext_load=!0;function extint_select(e){extint_blur_prev(0),w3_call(extint.hide_func),freqset_select(),e=+e;var t=w3_el("id-select-ext");if(t){w3_select_value(t,e);var n,_=t.childNodes[e+1].innerHTML.toLowerCase();console.log("extint_select val="+e+" name="+_),extint_names_enum(function(e,t,i,o){_.startsWith(i.toLowerCase())&&(n=e)}),extint.current_ext_name=extint_names[n],extint_first_ext_load?(extint.ws=extint_connect_server(),extint_first_ext_load=!1):ext_send("SET ext_is_locked_status")}else setTimeout(extint_select,1e3,e)}function extint_list_json(e){extint_names=kiwi_JSON_parse("extint_list_json",decodeURIComponent(e))}function extint_names_enum(e){var t,n;for(t=n=0;t<extint_names.length;t++){var _=extint_names[t];if((dbgUs||!extint.excl_devl.includes(_))&&("sig_gen"!=_||!(0!=rx_chan||rx_chans>=14))){"wspr"==_&&(_="WSPR");var i=_.toLowerCase();"cw_decoder"==i&&(i="cw"),"drm"==i&&(i="DRM"),"s_meter"==i&&(i="S_meter"),"wspr"==i&&(i="WSPR"),e(t,n,_,i),n++}}}function extint_select_build_menu(){var e="";return extint_names&&isArray(extint_names)&&extint_names_enum(function(t,n,_,i){var o=ext_get_cfg_param(i+".enable");(null==o||kiwi.is_local[rx_chan])&&(o=!0),"DRM"==_&&(kiwi.DRM_enable=o),"NAVTEX"==_&&(_="NAVTEX/DSC"),e+="<option value="+dq(n)+" kiwi_idx="+dq(t)+" "+(o?"":"disabled")+">"+_+"</option>"}),e}function extint_open(e,t){e=e.toLowerCase();var n=0;extint_names_enum(function(_,i,o,a){var l=ext_get_cfg_param(a+".enable");(null==l||kiwi.is_local[rx_chan])&&(l=!0),!n&&l&&o.toLowerCase().includes(e)&&(t?setTimeout(function(){extint_select(i)},t):extint_select(i),n=1)})}function extint_audio_data(e,t){isFunction(extint_audio_data_cb)&&extint_audio_data_cb(e,t)}




/* web/kiwi/kiwi.min.js (web/kiwi/kiwi.js = Mon May 30 06:53:58 2022) */
var kiwi={isOffset:!1,is_local:[],loaded_files:{},WSPR_rgrid:"",GPS_fixes:0,wf_fps:0,is_multi_core:0,log2_seq:0,inactivity_panel:!1,no_admin_conns_pend:0,notify_seq:0,ident_min:16,volume:50,volume_f:1e-6,muted:1,unmuted_color:"lime",queued:0,modes_l:["am","amn","usb","lsb","cw","cwn","nbfm","iq","drm","usn","lsn","sam","sal","sau","sas","qam"],modes_u:[],modes_s:{},cfg_fields:["min","max","chan"],ITU_s:["any","R1: Europe, Africa","R2: North & South America","R3: Asia / Pacific","show on band scale only","show on band menu only"],ITU_ANY:0,BAND_SCALE_ONLY:4,BAND_MENU_ONLY:5,RX4_WF4:0,RX8_WF2:1,RX3_WF3:2,RX14_WF0:3,cmap_s:["Kiwi","CuteSDR","grey","linear","turbo","SdrDx","custom 1","custom 2","custom 3","custom 4"],cmap_e:{kiwi:0,CuteSDR:1,greyscale:2,linear:3,turbo:4,SdrDx:5,custom_1:6,custom_2:7,custom_3:8,custom_4:9},aper_s:["man","auto"],aper_e:{man:0,auto:1},esc_lt:"",esc_gt:"",xdLocalStorage_ready:!1,prefs_import_ch:-1};kiwi.modes_l.forEach(function(e,i){kiwi.modes_u.push(e.toUpperCase()),kiwi.modes_s[e]=i});var rx_chans,wf_chans,wf_chans_real,max_camp,conn_type,timestamp,gmap,WATERFALL_CALIBRATION_DEFAULT=-13,SMETER_CALIBRATION_DEFAULT=-13,rx_chan=null,try_again="",seriousError=!1,optbar_prefix_color="w3-text-css-orange",dbgUs=!1,dbgUsFirst=!0;function kiwi_bodyonload(e){if(""!=e)kiwi_serious_error(e);else if("LG"==kiwi_isSmartTV()&&kiwi_isChrome()<87){kiwi_serious_error("Browser: "+navigator.userAgent+"<br>Sorry, KiwiSDR requires SmartTV Chrome version >= 87")}else{initCookie("ident","").startsWith("ZL/KF6VO")&&(dbgUs=!0),"undefined"==(conn_type=html("id-kiwi-container").getAttribute("data-type"))&&(conn_type="kiwi"),console.log("conn_type="+conn_type),w3int_init();var i=new Date;timestamp=i.getTime(),extint.ws="kiwi"==conn_type?owrx_ws_open_snd(kiwi_open_ws_cb,{conn_type:conn_type}):kiwi_ws_open(conn_type,kiwi_open_ws_cb,{conn_type:conn_type})}}function kiwi_open_ws_cb(e){"kiwi"!=e.conn_type&&setTimeout(function(){setInterval(function(){ext_send("SET keepalive")},5e3)},5e3),seriousError||ext_hasCredential(e.conn_type,kiwi_valpwd1_cb,e)}function kiwi_load_js_polled(e,i){return e.started||(kiwi_load_js(i,function(){e.finished=!0}),e.started=!0,e.finished=!1),e.finished}function kiwi_load_js_dir(e,i,t,n){for(var r=0;r<i.length;r++)i[r]=e+i[r];kiwi_load_js(i,t,n)}function kiwi_load_js(e,i,t){console.log("DYNLOAD START"),e.push("kiwi/kiwi_js_load.js"),console.log(e);var n=!1;e.forEach(function(t){if(kiwi.loaded_files[t])console.log("already loaded: "+t);else{if(t.includes("kiwi_js_load.js")){if(!n)return}else kiwi.loaded_files[t]=1,n=!0;var r,o=!1;t.endsWith(".js")||t.includes("/js?key=")?((r=document.createElement("script")).src=t,r.type="text/javascript","kiwi/kiwi_js_load.js"==t&&(r.kiwi_js=e[0],r.kiwi_cb=i)):t.endsWith(".css")?((r=document.createElement("link")).rel="stylesheet",r.href=t,r.type="text/css"):o=!0,o?console.log("UNKNOWN FILETYPE "+t):(r.async=!1,document.head.appendChild(r),console.log("loading "+t))}}),console.log("DYNLOAD FINISH"),n?t&&w3_call(t,!0):(t&&w3_call(t,!1),i&&w3_call(i))}function kiwi_ask_pwd_cb(e,i,t){ext_valpwd(conn_type,i)}function kiwi_queue_or_camp_cb(e,i,t){var n=window.location.href;console.log(n),n+=kiwi_add_search_param(window.location,"camp"),console.log("--\x3e "+n),window.location.href=n}function kiwi_ask_pwd(e){console.log("kiwi_ask_pwd chan_no_pwd_true="+chan_no_pwd_true+" client_public_ip="+client_public_ip);var i="",t="";e&&chan_no_pwd_true&&(i="All channels busy that don't require a password ("+chan_no_pwd_true+"/"+rx_chans+")<br>",t="<br> <b>OR</b> <br><br> click to queue for an available channel, <br>or camp on an existing channel: <br>"+w3_button("w3-medium w3-padding-smaller w3-aqua w3-margin-T-8","Queue or Camp","kiwi_queue_or_camp_cb")),kiwi_url_param(["p","prot","protected"],!0,!1)&&e&&(i="You have requested a password protected channel<br>"),kiwi_show_msg("KiwiSDR: software-defined receiver <br>"+i+try_again+w3_input("w3-retain-input-focus w3-margin-TB-8/w3-label-inline w3-label-not-bold/kiwi-pw|padding:1px|size=40","Password:","id-pwd","","kiwi_ask_pwd_cb")+t),w3_field_select("id-pwd",{mobile:1})}var override_freq,override_mode,override_zoom,override_max_dB,override_min_dB,override_9_10,body_loaded=!1;function kiwi_valpwd1_cb(e,i){if(!seriousError)if(1==e)kiwi_ask_pwd("kiwi"==i.conn_type),try_again="Try again. ";else{if(2==e)return void kiwi_show_msg("Still determining local interface address.<br>Please try reloading page in a few moments.");if(3==e)return void kiwi_show_msg("Admin connections not allowed from this ip address.");if(4==e)return void kiwi_show_msg("No admin password set. Can only connect from same local network as Kiwi.<br>Client ip = "+client_public_ip);if(5==e)return void kiwi_show_msg("Multiple connections from the same ip address not allowed.<br>Client ip = "+client_public_ip);0==e&&("kiwi"==i.conn_type?extint.ws=owrx_ws_open_wf(kiwi_open_ws_cb2,i):kiwi_valpwd2_cb(0,i))}}function kiwi_open_ws_cb2(e){ext_hasCredential(e.conn_type,kiwi_valpwd2_cb,e)}function kiwi_valpwd2_cb(e,i){if(!seriousError)if(kiwi_show_msg(""),body_loaded)console.log("kiwi_valpwd2_cb: body_loaded previously!");else{body_loaded=!0,"kiwi"!=i.conn_type&&(w3_hide("id-kiwi-msg-container"),w3_show_block("id-kiwi-container"),w3_el("id-kiwi-body").style.overflow="hidden");try{kiwi_init(),w3_call(i.conn_type+"_main")}catch(e){console.log("EX: "+e),console.log("kiwi_valpwd2_cb: no interface routine for "+i.conn_type+"?")}}}function kiwi_init(){}function kiwi_xdLocalStorage_init(){for(var e=[],i=0;i<2;i++)e[i]="http://pub"+i+".kiwisdr.com/pkgs/xdLocalStorage/xdLocalStorage.php/?key=4e92a0c3194c62b2a067c494e2473e8dfe261138";xdLocalStorageHA.init({iframeUrls:e,initCallback:function(){kiwi.xdLocalStorage_ready=!0,console.log("xdLocalStorageHA READY")}})}function kiwi_get_init_settings(){var e=null==init_frequency?7020:init_frequency;e=ext_get_cfg_param("init.freq",e,EXT_NO_SAVE),init_frequency=override_freq||e;var i=null==init_mode?kiwi.modes_s.lsb:kiwi.modes_s[init_mode];i=ext_get_cfg_param("init.mode",i,EXT_NO_SAVE),init_mode=override_mode||kiwi.modes_l[i],"drm"===init_mode&&(init_mode="am");var t=null==init_zoom?0:init_zoom;t=ext_get_cfg_param("init.zoom",t,EXT_NO_SAVE),init_zoom=isNumber(override_zoom)?override_zoom:t;var n=null==init_max_dB?-10:init_max_dB;n=ext_get_cfg_param("init.max_dB",n,EXT_NO_SAVE),init_max_dB=override_max_dB||n;var r=null==init_min_dB?-110:init_min_dB;r=ext_get_cfg_param("init.min_dB",r,EXT_NO_SAVE),init_min_dB=override_min_dB||r,console.log("INIT f="+init_frequency+" m="+init_mode+" z="+init_zoom+" min="+init_min_dB+" max="+init_max_dB),w3_call("init_scale_dB");var o=ext_get_cfg_param("rx_antenna"),s=w3_el("rx-antenna");null!=s&&o&&(s.innerHTML="Antenna: "+kiwi_decodeURIComponent("rx_antenna",o)),kiwi.WSPR_rgrid=ext_get_cfg_param_string("WSPR.grid","",EXT_NO_SAVE)}var cfg={},adm={};function cfg_save_json(e,i){var t;i.startsWith("adm.")?(t=encodeURIComponent(JSON.stringify(adm,null,3)),extint.ws.send("SET save_adm="+t)):(t=encodeURIComponent(JSON.stringify(cfg,null,3)),extint.ws.send("SET save_cfg="+t)),console.log("cfg_save_json: from="+e+" path="+i+" DONE")}var server_time_utc,server_time_local,server_time_tzid,server_time_tzname,server_tz,geo={geo:"",json:"",retry:0};function kiwi_geolocate(e){var i=kiwi_isFirefox();if(!(i&&i<=28)){var t;switch(null==e&&(e=(new Date).getSeconds()),e%=3){case 0:t="https://ipapi.co/json";break;case 1:t="https://get.geojs.io/v1/ip/geo.json";break;case 2:t="http://ip-api.com/json?fields=49177"}kiwi_ajax(t,function(i){isUndefined(i.AJAX_error)?(console.log("GEOLOC "+t),console.log(i),geoloc_json(i)):geo.retry++<=3&&kiwi_geolocate(e+1)},null,5e3)}}function geoloc_json(e){if(!isDefined(e.AJAX_error)){window.JSON&&window.JSON.stringify?geo.json=JSON.stringify(e):geo.json=e.toString();var i=e.country_name||e.country,t=e.regionName||e.region;"United States"==i&&t&&(i=t+", USA"),geo.geo="",e.city&&(geo.geo+=e.city),i&&(geo.geo+=(e.city?", ":"")+i),console.log("GEOLOC "+geo.geo)}}function kiwi_geo(){return encodeURIComponent(geo.geo)}function kiwi_geojson(){return encodeURIComponent(geo.json)}var time_display_current=!0;function time_display_cb(e){isUndefined(e.tu)||(server_time_utc=e.tu,server_time_local=e.tl,server_time_tzid=decodeURIComponent(e.ti),server_time_tzname=decodeURIComponent(e.tn).replace(/\\/g,"").replace(/_/g," "),server_tz=server_time_tzname,server_time_tzid&&(server_tz+=" ("+server_time_tzid+")"),time_display_started?time_display(time_display_current):(time_display_periodic(),time_display_started=!0))}function time_display(e){if(w3_el("id-time-display-text-inner")){var i=""==server_time_local||"null"==server_time_tzname;w3_innerHTML("id-time-display-UTC",server_time_utc||"?"),w3_innerHTML("id-time-display-local",i?"?":server_time_local),w3_innerHTML("id-time-display-tzname",i?"Lat/lon needed for local time":server_tz),w3_el("id-time-display-logo-inner").style.opacity=e?0:1,w3_el("id-time-display-inner").style.opacity=e?1:0}}function time_display_periodic(){time_display(time_display_current),time_display_current^=1,setTimeout(function(){time_display_periodic()},time_display_current?5e4:1e4)}var time_display_prev,time_display_started=!1;function time_display_setup(e){var i;0==e.startsWith("id-")&&(e+="-time-display"),time_display_prev&&(i=w3_el(time_display_prev))&&(i.innerHTML=""),time_display_prev=e,(i=w3_el(e)).innerHTML=w3_div("id-time-display-inner",w3_div("id-time-display-text-inner",w3_inline("",w3_div("id-time-display-UTC"),w3_div("cl-time-display-text-suffix","UTC")),w3_inline("",w3_div("id-time-display-local"),w3_div("cl-time-display-text-suffix","Local")),w3_div("id-time-display-tzname")))+w3_div("id-time-display-logo-inner",w3_div("id-time-display-logo-text","Powered by"),'<a href="https://github.com/ha7ilm/openwebrx" target="_blank"><img id="id-time-display-logo" src="gfx/openwebrx-top-logo.png" /></a>'),time_display(time_display_current)}function time_display_height(){return 80}function time_display_width(){return 200}function time_display_html(e){return w3_div(e+"-time-display|top:50px; background-color:black; position:relative;")}var ansi={colors:[[0,0,0],[194,54,33],[37,188,36],[173,173,39],[73,46,225],[211,56,211],[51,187,200],[203,204,205],[129,131,131],[252,57,31],[49,231,34],[234,236,35],[88,51,255],[249,53,248],[20,240,240],[233,235,235]],RED:"[97m[101m",YELLOW:"[103m",GREEN:"[102m",CYAN:"[106m",BLUE:"[97m[104m",MAGENTA:"[97m[105m",GREY:"[47m",NORM:"[m",rolling:["RED","YELLOW","GREEN","CYAN","BLUE","MAGENTA","GREY"],rolling_n:7};function kiwi_output_msg(e,i,t){var n=w3_el(e);if(n){var r;try{r=kiwi_decodeURIComponent("kiwi_output_msg",t.s)}catch(e){console.log("decodeURIComponent FAIL:"),console.log(t.s),r=t.s}t.init||(t.el=w3_create_appendElement(n,"pre",""),t.esc={s:"",state:0},t.sgr={span:0,bright:0,fg:null,bg:null},t.return_pending=!1,t.inc=1,t.init=!0);var o="",s=w3_el(i),_=null;isUndefined(t.tstr)&&(t.tstr=""),isUndefined(t.col)&&(t.col=0),!t.process_return_alone||"\r"!=r.charAt(0)||1!=r.length&&"\n"==r.charAt(1)||(r=r.substring(1),t.tstr=o="",t.col=0),t.remove_returns&&(r=r.replace(/\r/g,"")),t.inline_returns&&(r=(r=r.replace(/\r\n/g,"\n")).replace(/\r\n/g,"\n"));for(var a=0;a<r.length;a++){var c=r.charAt(a);if(t.inline_returns&&t.return_pending&&"\r"!=c&&(t.tstr=o="",t.col=0,t.return_pending=!1),"\f"==c){for(;n.firstChild;)n.removeChild(n.firstChild);t.el=w3_create_appendElement(n,"pre",""),t.tstr=o="",t.col=0}else if(t.inline_returns&&"\r"==c)t.return_pending=!0;else if("\t"==c)for(o+="&nbsp;",t.col++;0!=(7&t.col);)o+="&nbsp;",t.col++;else if(""==c)t.esc.s="",t.esc.state=1;else if(1==t.esc.state)if(c<"@"||"["==c)t.esc.s+=c;else{t.esc.s+=c;var l=t.esc.s.charAt(0),d=t.esc.s.charAt(1),w=0,m=0;if("["==l)if("m"==c){for(var p,u=0,f=0,g=t.esc.s.substr(1).split(";"),k=g.length,b=0;b<k&&0==m;b++)if(0==(p=""==g[b]||"m"==g[b]?0:parseInt(g[b])))t.sgr.fg=t.sgr.bg=null,u=1;else if(isNaN(p))m=2;else if(1==p)t.sgr.bright=8;else if(2==p)t.sgr.bright=0;else if(22==p)t.sgr.bright=0;else if(7==p){var v=t.sgr.fg;t.sgr.fg=t.sgr.bg,t.sgr.bg=v,null==t.sgr.fg&&(t.sgr.fg=[255,255,255]),null==t.sgr.bg&&(t.sgr.bg=[0,0,0]),f=1}else if(27==p)t.sgr.fg=t.sgr.bg=null,f=1;else if(p>=30&&p<=37)t.sgr.fg=ansi.colors[p-30+t.sgr.bright],f=1;else if(p>=90&&p<=97)t.sgr.fg=ansi.colors[p-90+8],f=1;else if(39==p)t.sgr.fg=null,f=1;else if(p>=40&&p<=47)t.sgr.bg=ansi.colors[p-40+t.sgr.bright],f=1;else if(p>=100&&p<=107)t.sgr.bg=ansi.colors[p-100+8],f=1;else if(49==p)t.sgr.bg=null,f=1;else if(38==p||48==p){var h,x,y,S,T,R;3!=k||5!=parseInt(g[1])||isNaN(h=parseInt(g[2]))?5!=k||2!=parseInt(g[1])||isNaN(x=parseInt(g[2]))||isNaN(y=parseInt(g[3]))||isNaN(S=parseInt(g[4]))?m=2:(T=[x=w3_clamp(x,0,255),y=w3_clamp(y,0,255),S=w3_clamp(S,0,255)],38==p?t.sgr.fg=T:t.sgr.bg=T,f=1):(b+=2,h<=15?(T=ansi.colors[h],38==p?t.sgr.fg=T:t.sgr.bg=T,f=1):h<=231?(h-=16,h-=36*(x=Math.floor(h/36)),S=h-=6*(y=Math.floor(h/6)),T=[x=Math.floor(255*x/5),y=Math.floor(255*y/5),S=Math.floor(255*S/5)],38==p?t.sgr.fg=T:t.sgr.bg=T,f=1):h<=255?(T=[R=8+10*(h-232),R,R],38==p?t.sgr.fg=T:t.sgr.bg=T,f=1):m=2)}else m=2;u?t.sgr.span&&(o+="</span>",t.sgr.span=0):f?(t.sgr.span&&(o+="</span>"),o+='<span style="'+(t.sgr.fg?"color:"+kiwi_rgb(t.sgr.fg)+";":"")+(t.sgr.bg?"background-color:"+kiwi_rgb(t.sgr.bg)+";":"")+'">',t.sgr.span=1):m=2}else"K"==c?(d.match(/[012]/)&&(w=d-"0"),m="erase in line "+["#0: cur to EOL","#1: cur to BOL","#2: full line"][w]):"P"==c?m="del #"+(w=d-"0")+" chars":"?"==d?m="set/reset mode":"r"==c||(m="l"==c?"reset mode":"J"==c?"0"==d||"J"==d?"erase cur to EOS":"2"==d||"3"==d?"erase full screen":"1"==d?"erase BOS to cur":2:"H"==c?"move row,col":"d"==c?"move row":"G"==c?"move col":2);else"("==l||(m=2);1===m||2===m||isString(m),t.esc.state=0}else c>=" "&&c<="√ø"||"\n"==c?"<"==c?(o+="&lt;",t.col+=t.inc):">"==c?(o+="&gt;",t.col+=t.inc):("\n"!=c&&(o+=c,t.col+=t.inc),"\n"!=c&&t.col!=t.ncol||(_=w3_isScrolledDown(s),t.tstr+=o,""==t.tstr&&(t.tstr="&nbsp;"),t.el.innerHTML=t.tstr,t.tstr=o="",t.el=w3_create_appendElement(n,"pre",""),t.col=0,w3_contains(s,"w3-scroll-down")&&(!t.scroll_only_at_bottom||t.scroll_only_at_bottom&&_)&&w3_scrollDown(s))):c==kiwi.esc_lt?(o+="<",t.inc=0):c==kiwi.esc_gt&&(o+=">",t.inc=1)}_=w3_isScrolledDown(s),t.tstr+=o,t.el.innerHTML=t.tstr,w3_contains(s,"w3-scroll-down")&&(!t.scroll_only_at_bottom||t.scroll_only_at_bottom&&_)&&w3_scrollDown(s)}else console.log("kiwi_output_msg NOT_FOUND id="+e)}function gps_stats_cb(e,i,t,n,r,o){var s=(e?"yes":"pause")+", track "+i+", good "+t+", fixes "+n.toUnits();if(w3_innerHTML("id-msg-gps","GPS: acquire "+s),w3_innerHTML("id-status-gps",w3_text(optbar_prefix_color,"GPS"),w3_text("","acq "+s)),extint_adc_clock_Hz=1e6*r,extint_adc_gps_clock_corr=o,o){s=r.toFixed(6)+" ("+o.toUnits()+" avgs)";var _=w3_el("id-msg-gps");_&&(_.innerHTML+=", ADC clock "+s),w3_innerHTML("id-status-adc",w3_text(optbar_prefix_color,"ADC clock "),w3_text("",s))}}function admin_stats_cb(e,i,t,n,r,o,s,_){if(null!=e){var a=w3_el("id-msg-errors");if(a&&(a.innerHTML="Stats: "+e.toUnits()+" dropped, "+i.toUnits()+" underruns, "+t.toUnits()+" sequence, "+n.toUnits()+" realtime"),a=w3_el("id-status-dp-hist")){for(var c="Datapump: ",l=0;l<r;l++)c+=(l?", ":"")+o[l].toUnits();a.innerHTML=c}if(a=w3_el("id-status-in-hist")){for(c="SoundInQ: ",l=0;l<s;l++)c+=(l?", ":"")+_[l].toUnits();a.innerHTML=c}}}function kiwi_too_busy(e){kiwi_show_msg("Sorry, the KiwiSDR server is too busy right now ("+e+' users max). <br>There is also a limit on the total number of channel queuers and campers. <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.')}function kiwi_exclusive_use(){kiwi_show_msg('Sorry, this Kiwi has been locked for special use. <br>This happens when using an extension (e.g. DRM decoder) that requires all available resources. <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide. <br><br>Áî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ„Åì„ÅÆ„Ç≠„Éº„Ç¶„Ç£„ÅØÁâπÂà•„Å™‰ΩøÁî®„ÅÆ„Åü„ÇÅ„Å´„É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ <br>„Åì„Çå„ÅØ„ÄÅÂà©Áî®ÂèØËÉΩ„Å™„Åô„Åπ„Å¶„ÅÆ„É™„ÇΩ„Éº„Çπ„ÇíÂøÖË¶Å„Å®„Åô„ÇãÊã°ÂºµÊ©üËÉΩÔºàDRM „Éá„Ç≥„Éº„ÉÄ„Éº„Å™„Å©Ôºâ„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´Áô∫Áîü„Åó„Åæ„Åô„ÄÇ <br>‰∏ñÁïå‰∏≠„ÅßÂà©Áî®„Åß„Åç„Çã KiwiSDR „É¨„Ç∑„Éº„Éê„Éº„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ<a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> „ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ')}function kiwi_ip_limit_pwd_cb(e){console.log("kiwi_ip_limit_pwd_cb pwd="+e),writeCookie("iplimit",encodeURIComponent(e)),window.location.reload(!0)}function kiwi_show_error_ask_exemption_cb(e,i,t){kiwi_ip_limit_pwd_cb(i)}function kiwi_show_error_ask_exemption(e){kiwi_show_msg(e+="<br><br>If you have an exemption password from the KiwiSDR owner/admin <br> please enter it here: "+w3_input("w3-retain-input-focus w3-margin-TB-8/w3-label-inline w3-label-not-bold/kiwi-pw|padding:1px|size=40","Password:","id-epwd","","kiwi_show_error_ask_exemption_cb")),w3_field_select("id-epwd",{mobile:1})}function kiwi_inactivity_timeout(e){kiwi_show_msg("Sorry, this KiwiSDR has an inactivity timeout after "+e+" minutes.<br>Reload the page to continue.")}function kiwi_24hr_ip_limit(e,i){kiwi_show_error_ask_exemption("Sorry, this KiwiSDR can only be used for "+e+' minutes every 24 hours by each IP address.<br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.')}function kiwi_password_entry_timeout(){kiwi_show_msg("Timeout. Please reload page to continue.")}function kiwi_up(e){seriousError||(w3_hide("id-kiwi-msg-container"),w3_show_block("id-kiwi-container"),w3_el("id-kiwi-body").style.overflow="hidden")}function kiwi_down(e,i){var t;1==(e=+e)?t='Sorry, software update in progress. Please check back in a few minutes.<br>Or check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.':2==e?t="Backup in progress.":(null!=i&&""!=i||(i='Sorry, this KiwiSDR server is being used for development right now. <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.'),t=i),kiwi_show_msg(t)}var stats_interval=1e4,need_config=!0;function stats_init(){need_config&&(msg_send("SET GET_CONFIG"),need_config=!1),stats_update()}function stats_update(){msg_send("SET STATS_UPD ch="+rx_chan);var e=new Date,i=Math.ceil(e/stats_interval)*stats_interval-e;i<stats_interval/2&&(i+=stats_interval),setTimeout(stats_update,i)}function status_periodic(){w3_innerHTML("id-status-stats-cpu",kiwi_cpu_stats_str),w3_innerHTML("id-status-stats-xfer",kiwi_xfer_stats_str),w3_innerHTML("id-msg-stats-cpu",kiwi_cpu_stats_str_long),w3_innerHTML("id-msg-stats-xfer",kiwi_xfer_stats_str_long)}var kiwi_xfer_stats_str="",kiwi_xfer_stats_str_long="";function xfer_stats_cb(e,i,t,n,r){kiwi_xfer_stats_str=w3_text(optbar_prefix_color,"Net")+w3_text("","aud "+e.toFixed(0)+", wf "+i.toFixed(0)+", http "+n.toFixed(0)+", total "+r.toFixed(0)+" kB/s"),kiwi_xfer_stats_str_long="Network (all channels): audio "+e.toFixed(0)+" kB/s, waterfall "+i.toFixed(0)+" kB/s ("+t.toFixed(0)+" fps), http "+n.toFixed(0)+" kB/s, total "+r.toFixed(0)+" kB/s ("+(8*r).toFixed(0)+" kb/s)"}var kiwi_cpu_stats_str="",kiwi_cpu_stats_str_long="",kiwi_config_str="",kiwi_config_str_long="";function cpu_stats_cb(e,i,t,n){d%=100;var r=e.cc?e.cc:0,o=9*r/5+32,s=e.cc?e.cc>=60?"w3-text-css-red w3-bold":e.cc>=50?"w3-text-css-yellow":"w3-text-css-lime":"",_=r?r.toFixed(0)+"&deg;C "+o.toFixed(0)+"&deg;F ":"",a=e.cf>=1e3?(e.cf/1e3).toFixed(1)+" GHz":e.cf.toFixed(0)+" MHz";kiwi_cpu_stats_str=w3_text(optbar_prefix_color,"BB ")+w3_text("",e.cu[0]+","+e.cs[0]+","+e.ci[0]+" usi% ")+(r?w3_text(s,_):"")+w3_text("",a+" ")+w3_text(optbar_prefix_color,"FPGA")+w3_text("",t.toFixed(0)+"%"),kiwi.wf_fps=n;for(var c="",l="",d="",w=!0,m=0;m<e.cu.length;m++)c+=(w?"":" ")+e.cu[m]+"%",l+=(w?"":" ")+e.cs[m]+"%",d+=(w?"":" ")+e.ci[m]+"%",w=!1;var p="cpu";if(e.cu.length>1){p+="0";for(m=1;m<e.cu.length;m++)p+=" cpu"+m}kiwi_cpu_stats_str_long=w3_inline("",w3_text("w3-text-black","Beagle: "+p+" "+c+" usr | "+l+" sys | "+d+" idle,"+(r?"":" "))+(r?"&nbsp;"+w3_text(s+" w3-text-outline w3-large",_)+"&nbsp;":"")+w3_text("w3-text-black",a+", ")+w3_text("w3-text-black","FPGA eCPU: "+t.toFixed(0)+"%"));var u=i,f=Math.trunc(u%60);u=Math.trunc(u/60);var g=Math.trunc(u%60);u=Math.trunc(u/60);var k=Math.trunc(u%24),b=u=Math.trunc(u/24),v=" ";b&&(v+=b+"d:"),v+=k+":"+g.leadingZeros(2)+":"+f.leadingZeros(2),w3_innerHTML("id-status-config",w3_text(optbar_prefix_color,"Up"),w3_text("",v+", "+kiwi_config_str)),v=" | Uptime: ",b&&(v+=b+" "+(b>1?"days":"day")+" "),v+=k+":"+g.leadingZeros(2)+":"+f.leadingZeros(2);var h=""==server_time_local||"null"==server_time_tzname;server_time_utc&&(v+=" | UTC: "+server_time_utc),isDefined(server_time_tzname)&&(v+=" | Local: ",h||(v+=server_time_local+" "),v+=h?"Lat/lon needed for local time":server_tz),w3_innerHTML("id-msg-config",kiwi_config_str_long+v)}function config_str_update(e,i,t,n){kiwi_config_str="v"+t+"."+n+", "+e+" SDR ch, "+i+" GPS ch",w3_innerHTML("id-status-config",kiwi_config_str),kiwi_config_str_long="Config: v"+t+"."+n+", "+e+" SDR channels, "+i+" GPS channels",w3_innerHTML("id-msg-config",kiwi_config_str)}var config_net={};function config_cb(e,i,t,n,r,o,s,_,a,c,l){config_str_update(e,i,c,l);var d=w3_el("id-net-config");d&&(d.innerHTML=w3_div("",w3_col_percent("",w3_div("","Public IP address (outside your firewall/router): "+n+" [port "+r+"]"),50,w3_div("","Ethernet MAC address: "+a.toUpperCase()),30,w3_div("","KiwiSDR serial number: "+t),20),w3_col_percent("",w3_div("","Private IP address (inside your firewall/router): "+o+" [port "+s+"]"),50,w3_div("","Private netmask: /"+_),50)),config_net.pub_ip=n,config_net.pub_port=r,config_net.pvt_ip=n,config_net.pvt_port=s,config_net.mac=a,config_net.serno=t)}function update_cb(e,i,t,n,r,o,s,_,a,c,l){config_str_update(n,r,o,s);var d,w=w3_el("id-msg-update");w&&(d="Installed version: v"+o+"."+s+", built "+c+" "+l,d+=e?"<br>Cannot build, filesystem is FULL!":t?"<br>Update to version v"+ +_+"."+a+" in progress":i?"<br>Update check pending":-1==_?"<br>Error determining the latest version -- check log":o==_&&s==a?"<br>Running most current version":"<br>Available version: v"+_+"."+a,w.innerHTML=d)}var users_interval=2500,user_init=!1;function users_init(e){if(kiwi.called_from_admin=e.admin,kiwi.called_from_user=e.user,kiwi.called_from_monitor=e.monitor,kiwi.called_from_admin||kiwi.called_from_monitor)for(var i,t=kiwi.called_from_admin?"id-admin-user-":"id-monitor-user-",n=kiwi.called_from_monitor?" w3-padding-LR-2":"",r="",o=0;o<rx_chans;o++)kiwi.called_from_admin&&(r=w3_button("id-user-kick-"+o+" w3-hide w3-small w3-white w3-border w3-border-red w3-round-large w3-padding-0 w3-padding-LR-8","Kick","status_user_kick_cb",o)),i=w3_div("id-campers-"+o+" w3-css-orange w3-padding-LR-8"),w3_el("id-users-list").innerHTML+=w3_inline("/w3-hspace-8",w3_div("id-user-"+o+n,"RX"+o),w3_div(t+o),r,i);users_update(),w3_call("users_setup"),user_init=!0}function users_update(){msg_send("SET GET_USERS"),setTimeout(users_update,users_interval)}function user_cb(e){var i=kiwi.called_from_admin?"id-admin-user-":"id-monitor-user-",t=kiwi_url_origin();e.forEach(function(e){var n="",r="",o=e.i,s=e.n,_=e.f,a=e.g,c=isDefined(e.a)&&""!=e.a?e.a+", ":"",l=e.m,d=e.z,w=e.t,m="";if(e.rt){var p=1==e.rt?" act":" 24h";m=" "+w3_text("w3-text-css-orange|vertical-align:bottom",e.rs+p)}var u=e.e;if(isDefined(s)){var f,g=!1;do{try{f=decodeURIComponent(s),g=!0}catch(e){s=s.slice(0,-1)}}while(!g);var k=kiwi_strip_tags(f,"");kiwi.called_from_admin||""!=k||(k="(no identity)"),""!=k&&(k='"'+k+'"');var b="(null)"==a||""==a?kiwi.called_from_admin?"unknown location":"":decodeURIComponent(a);b=""!=(c=c.replace(/::ffff:/,""))||""!=b?"("+c+b+")":"";var v,h,x=(v=((v=_+kiwi.freq_offset_Hz)/1e3).toFixed(v>1e8?1:2))+" kHz ",y=(_/1e3).toFixed(2);kiwi.called_from_admin?(h=t+"/?f="+y+l+"z"+d,' target="_blank"'):(h="javascript:"+(kiwi.called_from_user?"tune("+y+","+sq(l)+","+d+")":"camp("+o+")"),""),""!=u&&(u=decodeURIComponent(u)+" "),n=w3_sb(k,b)+" ",r=w3_link("w3-link-darker-color",h,x+(e.wf?"WF":l)+" z"+d)+" "+u+w+m}if(user_init&&(kiwi.called_from_user?w3_innerHTML("id-optbar-user-"+o,""!=n?n+"<br>"+r:""):(w3_innerHTML(i+o,n+r+""),w3_hide2("id-user-kick-"+o,""==n),w3_hide2("id-user-bl32-"+o,""==n),w3_hide2("id-user-bl24-"+o,""==n))),o==rx_chan&&isDefined(e.c)){var S=w3_el("id-sam-carrier");S&&w3_innerHTML(S,"carrier "+e.c.toFixed(1)+" Hz")}if(w3_innerHTML("id-campers-"+o,e.ca?e.ca+plural(e.ca," camper"):""),o==rx_chan&&e.rn&&e.rn<=55&&!kiwi.inactivity_panel){var T=1==e.rt?"Inactivity timeout in one minute.<br>Close this panel to avoid disconnection.":"Per 24-hour connection timeout in one minute.";confirmation_show_content(T,360,55,function(){msg_send("SET inactivity_ack"),confirmation_panel_close(),kiwi.inactivity_panel=!1},"red"),kiwi.inactivity_panel=!0}if(o==rx_chan&&e.rn>55&&kiwi.inactivity_panel&&(confirmation_panel_close(),kiwi.inactivity_panel=!1),o==rx_chan&&isNumber(e.fo)&&e.fo!=kiwi.freq_offset_kHz&&!confirmation.displayed){T=w3_div("","Frequency scale offset changed. Page must be reloaded.",w3_inline("w3-halign-space-around/",w3_button("w3-margin-T-16 w3-aqua","OK","freq_offset_page_reload")));confirmation_show_content(T,425,100)}o==rx_chan&&isNumber(e.nc)&&e.nc!=rx_chan&&isNumber(e.ns)&&e.ns!=kiwi.notify_seq&&(console.log("$ NOTIFY sn="+e.ns),msg_send("SET notify_msg"),kiwi.notify_seq=e.ns)})}function freq_offset_page_reload(){window.location.reload(!0)}var toggle_e={SET:1,SET_URL:2,FROM_COOKIE:4,WRITE_COOKIE:8};function kiwi_toggle(e,i,t,n){var r=null;if(e&toggle_e.SET_URL&&(null!=i||null!=i))r=i;else if(e&toggle_e.FROM_COOKIE&&null!=(r=readCookie(n))){var o=parseFloat(r);isNaN(o)||(r=o)}return null==r&&e&toggle_e.SET&&(r=i),null==r&&(r=t),r}function kiwi_plot_max(e){var i=bi[e];return 1024/(i.samplerate/i.plot_samplerate)}function kiwi_fft_mode(){setmaxdb(-30)}function kiwi_mapPinSymbol(e,i){return{path:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z",fillColor:e=e||"red",fillOpacity:1,strokeColor:i=i||"white",strokeWeight:1,scale:1}}function isAdmin(){return 0!=Object.keys(adm).length}var chan_no_pwd,chan_no_pwd_true,client_public_ip,reason_disabled="",version_maj=-1,version_min=-1,debian_ver=-1,tflags={INACTIVITY:1,WF_SM_CAL:2,WF_SM_CAL2:4},kiwi_output_msg_p={scroll_only_at_bottom:!0,process_return_alone:!1};function kiwi_msg(e,i){var t=!0;switch(e[0]){case"version_maj":version_maj=parseInt(e[1]);break;case"version_min":version_min=parseInt(e[1]);break;case"debian_ver":debian_ver=parseInt(e[1]);break;case"client_public_ip":client_public_ip=e[1].replace(/::ffff:/,""),console.log("client public IP: "+client_public_ip);break;case"badp":extint_valpwd_cb(parseInt(e[1]));break;case"chan_no_pwd":chan_no_pwd=parseInt(e[1]);break;case"chan_no_pwd_true":chan_no_pwd_true=parseInt(e[1]);break;case"rx_chans":rx_chans=parseInt(e[1]);break;case"wf_chans":wf_chans=parseInt(e[1]);break;case"wf_chans_real":wf_chans_real=parseInt(e[1]);break;case"rx_chan":rx_chan=parseInt(e[1]);break;case"max_camp":max_camp=parseInt(e[1]);break;case"load_cfg":var n=decodeURIComponent(e[1]);console.log("### load_cfg "+i.stream+" "+n.length),cfg=kiwi_JSON_parse("load_cfg",n),kiwi.isOffset=0!=cfg.freq_offset,kiwi.freq_offset_kHz=cfg.freq_offset,kiwi.freq_offset_Hz=1e3*cfg.freq_offset,kiwi.offset_frac=cfg.freq_offset%1e3*1e3,owrx_cfg();break;case"load_adm":var r=decodeURIComponent(e[1]);console.log("### load_adm "+i.stream+" "+r.length),adm=kiwi_JSON_parse("load_adm",r);break;case"no_admin_conns":kiwi.no_admin_conns_pend++,1==kiwi.no_admin_conns_pend&&(confirmation_panel_close(),confirmation_show_content("Must close all admin connections before attempting this operation.",500,55,function(){confirmation_panel_close(),kiwi.no_admin_conns_pend=0},"red"));break;case"request_dx_update":isAdmin()?dx.ignore_dx_update?dx.ignore_dx_update=!1:dx_update_admin():dx_update_request();break;case"mkr":var o=e[1];(s=kiwi_JSON_parse("mkr",o))&&dx_label_cb(s);break;case"user_cb":var s;(s=kiwi_JSON_parse("user_cb",e[1]))&&user_cb(s);break;case"config_cb":(_=kiwi_JSON_parse("config_cb",e[1]))&&config_cb(_.r,_.g,_.s,_.pu,_.pe,_.pv,_.pi,_.n,_.m,_.v1,_.v2,_.ai);break;case"update_cb":(_=kiwi_JSON_parse("update_cb",e[1]))&&update_cb(_.f,_.p,_.i,_.r,_.g,_.v1,_.v2,_.p1,_.p2,decodeURIComponent(_.d),decodeURIComponent(_.t));break;case"stats_cb":var _;(_=kiwi_JSON_parse("stats_cb",e[1]))&&(null!=_.ce&&cpu_stats_cb(_,_.ct,_.ce,_.fc),xfer_stats_cb(_.ac,_.wc,_.fc,_.ah,_.as),extint.srate=_.sr,extint.nom_srate=_.nsr,gps_stats_cb(_.ga,_.gt,_.gg,_.gf,_.gc,_.go),_.gr&&(kiwi.WSPR_rgrid=decodeURIComponent(_.gr),kiwi.GPS_fixes=_.gf),-1==_.sh?(w3_innerHTML("id-rx-snr",", SNR ",_.sa," dB"),w3_innerHTML("id-msg-snr","SNR: All ",_.sa," dB")):(w3_innerHTML("id-rx-snr",", SNR ",_.sa,":",_.sh," dB"),w3_innerHTML("id-msg-snr","SNR: All ",_.sa," dB, HF ",_.sh," dB")),admin_stats_cb(_.ad,_.au,_.ae,_.ar,_.an,_.ap,_.an2,_.ai),time_display_cb(_));break;case"status_msg_text":kiwi_output_msg_p.s=e[1],kiwi_output_msg("id-output-msg","id-output-msg",kiwi_output_msg_p);break;case"status_msg_html":var a=kiwi_decodeURIComponent("status_msg_html",e[1]);w3_innerHTML("id-status-msg",a),w3_innerHTML("id-msg-status",a);break;case"is_admin":extint_isAdmin_cb(e[1]);break;case"is_local":var c=e[1].split(",");console.log("kiwi_msg rx_chan="+c[0]+" is_local="+c[1]),kiwi.is_local[+c[0]]=+c[1];break;case"is_multi_core":kiwi.is_multi_core=1;break;case"authkey_cb":extint_authkey_cb(e[1]);break;case"down":kiwi_down(e[1],reason_disabled);break;case"too_busy":kiwi_too_busy(parseInt(e[1]));break;case"monitor":kiwi_monitor();break;case"exclusive_use":kiwi_exclusive_use();break;case"inactivity_timeout":kiwi_inactivity_timeout(e[1]);break;case"ip_limit":c=decodeURIComponent(e[1]).split(",");kiwi_24hr_ip_limit(parseInt(c[0]),c[1]);break;case"password_timeout":kiwi_password_entry_timeout();break;case"reason_disabled":reason_disabled=kiwi_decodeURIComponent("reason_disabled",e[1]);break;case"sample_rate":extint.srate=parseFloat(e[1]);break;case"pref_import_ch":kiwi.prefs_import_ch=+e[1];break;case"pref_import":prefs_import_cb(e[1],kiwi.prefs_import_ch);break;case"adc_clk_nom":extint_adc_clock_nom_Hz=+e[1];break;case"notify_msg":a=kiwi_decodeURIComponent("notify_msg",e[1]);if(console.log("notify_msg: "+a),confirmation.displayed)break;a=w3_div("",a),confirmation_show_content(a,425,50),setTimeout(confirmation_panel_close,3e3);break;default:t=!1}return t}function kiwi_debug(e){console.log(e),msg_send("SET dbug_msg="+encodeURIComponent(e))}function kiwi_show_msg(e){html("id-kiwi-msg").innerHTML=e,""==e?(w3_hide("id-kiwi-msg-container"),w3_el("id-kiwi-body").style.overflow="hidden"):(w3_hide("id-kiwi-container"),w3_show_block("id-kiwi-msg-container"),w3_el("id-kiwi-body").style.overflow="scroll")}function kiwi_server_error(e){kiwi_show_msg('Hmm, there seems to be a problem. <br>The server reported the error: <span style="color:red">'+e+"</span>"),seriousError=!0}function kiwi_serious_error(e){kiwi_show_msg(e),seriousError=!0,console.log(e)}function kiwi_trace(e){e&&console.log("kiwi_trace: "+e);try{console.trace()}catch(e){}}function kiwi_trace_mobile(e){alert(e+" "+Error().stack)}




/* web/kiwi/kiwi_ui.min.js */
function dx_get_value(d){return w3_get_value("dx.o."+d+"_"+dx.o.gid)}function dx_update_check(d,o,x){if(d!=dx.IDX_USER){d=+d,dx.o.gid=d,console.log("### dx_update_check gid(idx)="+d+" "+(o==dx.UPD_ADD?"ADD":"MODIFY")),dx.o.fr=+dx_get_value("fr"),dx.o.fm=+dx_get_value("fm"),dx.o.ft=+dx_get_value("ft"),dx.o.fd=dx.o.last_fd[d],dx.o.b=+dx_get_value("b"),dx.o.e=+dx_get_value("e"),dx.o.o=+dx_get_value("o"),dx.o.i=dx_get_value("i"),dx.o.n=dx_get_value("n"),dx.o.p=dx_get_value("p"),x||(d>=0&&dx.o.last_pb[d]?(dx.o.lo=dx.o.last_pb[d][0],dx.o.hi=dx.o.last_pb[d][1]):dx.o.lo=dx.o.hi=0);var _=dx.o.fd<<dx.DX_DOW_SFT|dx.o.ft<<dx.DX_TYPE_SFT|dx.o.fm;if(dx.o.fr>32e3||kiwi.freq_offset_kHz){var e=dx.o.fr-kiwi.freq_offset_kHz;console.log("removing freq_offset from old_freq="+dx.o.fr+" freq_offset_kHz="+kiwi.freq_offset_kHz+" new_freq="+e),dx.o.fr=e}dx.o.fr<0&&(dx.o.fr=0),o==dx.UPD_ADD?dx.o.gid=-1:dx.ignore_dx_update=!0,console.log("dx.o:"),console.log(dx.o);var i=+dx.o.b,t=+dx.o.e;0==i&&0==t&&(t=2400),console.log("SET DX_UPD g="+dx.o.gid+" f="+dx.o.fr+" lo="+dx.o.lo+" hi="+dx.o.hi+" o="+dx.o.o.toFixed(0)+" fl="+_+"(dow="+dx.o.fd+"|ty="+dx.o.ft+"|mo="+dx.o.fm+") b="+i+" e="+t+" i="+dx.o.i+" n="+dx.o.n+" p="+dx.o.p),ext_send("SET DX_UPD g="+dx.o.gid+" f="+dx.o.fr+" lo="+dx.o.lo.toFixed(0)+" hi="+dx.o.hi.toFixed(0)+" o="+dx.o.o.toFixed(0)+" fl="+_+" b="+i+" e="+t+" i="+encodeURIComponent(dx.o.i+"x")+" n="+encodeURIComponent(dx.o.n+"x")+" p="+encodeURIComponent(dx.o.p+"x")),w3_call("dx_sched_save","id-dx-list-saved",1e3)}}function dx_num_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_num_cb path="+d+" val="+o+" o.idx="+_.idx),w3_num_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_sel_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_sel_cb path="+d+" val="+o+" o.idx="+_.idx),w3_string_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_string_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_string_cb path="+d+" val="+o+" o.idx="+_.idx),w3_string_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_dow_button(d,o){var x=w3_remove_trailing_index(d,"_");console.log("dx_dow_button path="+d+" o.idx="+x.idx);var _=x.idx==dx.IDX_USER,e=1<<6-+o,i=_?dx.o.fd:dx.o.last_fd[x.idx],t=i;i^=e,_?dx.o.fd=i:dx.o.last_fd[x.idx]=i;var l=i&e;console.log("dx_dow_button day_i="+o+" dow_b="+e.toHex(2)+" sel="+l.toHex(2)+" before="+t.toHex(2)+" after="+i.toHex(2)+" o.idx="+x.idx),w3_color(d,l?"black":"white",l?dx.dow_colors[o]:"darkGrey"),dx_update_check(x.idx,dx.UPD_MOD)}function dx_sched_time_cb(d,o,x){dx_string_cb(d,o=(+o).toFixed(0).leadingZeros(4),x),w3_set_value(d,o)}function dx_passband_cb(d,o,x){if(!x){var _=o.split(/[,\s]/),e=_.length;if(console.log("dx_passband_cb path="+d+" val="+o+" a.len="+e),console.log(_),1==e&&""!=_[0]){var i=Math.round(_[0].parseFloatWithUnits("kM")/2);dx.o.lo=-i,dx.o.hi=i}else e>=1&&""!=_[0]&&""!=_[e-1]?(dx.o.lo=Math.round(_[0].parseFloatWithUnits("kM")),dx.o.hi=Math.round(_[e-1].parseFloatWithUnits("kM"))):dx.o.lo=dx.o.hi=0;var t=w3_remove_trailing_index(d,"_");console.log("dx_passband_cb lo="+dx.o.lo+" hi="+dx.o.hi+" o.idx="+t.idx),dx_update_check(t.idx,dx.UPD_MOD,!0)}}




/* web/kiwi/kiwi_util.min.js (web/kiwi/kiwi_util.js = Sat May 28 08:02:01 2022) */
function isUndefined(e){return void 0===e}function isDefined(e){return void 0!==e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e&&!isNaN(e)}function isBoolean(e){return"boolean"==typeof e}function isString(e){return"string"==typeof e}function isArray(e){return Array.isArray(e)}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e}function isArg(e){return!isUndefined(e)&&!isNull(e)}function kiwi_typeof(e){return isNull(e)?"null":isArray(e)?"array":typeof e}try{String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>=0})}catch(e){console.log("kiwi_util: String.prototype.includes")}try{String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0==this.indexOf(e)})}catch(e){console.log("kiwi_util: String.prototype.startsWith")}try{String.prototype.endsWith||(String.prototype.endsWith=function(e,i){return(void 0===i||i>this.length)&&(i=this.length),this.substring(i-e.length,i)===e})}catch(e){console.log("kiwi_util: String.prototype.endsWith")}var kiwi_iOS,kiwi_MacOS,kiwi_linux,kiwi_Windows,kiwi_android,kiwi_safari,kiwi_firefox,kiwi_chrome,kiwi_opera,kiwi_smartTV,kiwi_util={};function kiwi_is_iOS(){return kiwi_iOS}function kiwi_isMacOS(){return kiwi_MacOS}function kiwi_isWindows(){return kiwi_Windows}function kiwi_isLinux(){return kiwi_linux}function kiwi_isAndroid(){return kiwi_android}function kiwi_isSmartTV(){return kiwi_smartTV}function kiwi_isMobile(){return force_mobile||kiwi_is_iOS()||kiwi_isAndroid()||"Samsung"==kiwi_isSmartTV()||mobile_laptop_test}function kiwi_isSafari(){return kiwi_safari?kiwi_safari[1]:NaN}function kiwi_isFirefox(){return kiwi_firefox?kiwi_firefox[1]:NaN}function kiwi_isChrome(){return kiwi_chrome?kiwi_chrome[1]:NaN}function kiwi_isOpera(){return kiwi_opera?kiwi_opera[1]:NaN}document.onreadystatechange=function(){if("complete"==document.readyState){var e=navigator.userAgent;console.log(e),kiwi_iOS=e.includes("iPhone")||e.includes("iPad"),kiwi_MacOS=e.includes("OS X"),kiwi_linux=e.includes("Linux"),kiwi_Windows=e.includes("Win"),kiwi_android=e.includes("Android"),kiwi_safari=/safari\/([0-9]+)/i.exec(e),kiwi_browserVersion=/version\/([0-9]+)/i.exec(e),kiwi_firefox=/firefox\/([0-9]+)/i.exec(e),kiwi_chrome=/chrome\/([0-9]+)/i.exec(e),(kiwi_opera=/opera\/([0-9]+)/i.exec(e))||(kiwi_opera=/OPR\/([0-9]+)/i.exec(e)),(kiwi_smartTV=e.includes("SmartTV"))||(kiwi_smartTV=e.includes("SMART-TV")),kiwi_smartTV&&(e.includes("Samsung")?kiwi_smartTV="Samsung":e.includes("LG")&&(kiwi_smartTV="LG")),console.log("MacOS="+kiwi_MacOS+" Linux="+kiwi_linux+" Windows="+kiwi_Windows+" iOS="+kiwi_iOS+" Android="+kiwi_android+" SmartTV="+kiwi_smartTV),kiwi_opera?kiwi_chrome=kiwi_safari=null:kiwi_chrome?kiwi_safari=null:kiwi_safari&&kiwi_browserVersion&&(kiwi_safari[1]=kiwi_browserVersion[1]),console.log("Safari="+kiwi_isSafari()+" Firefox="+kiwi_isFirefox()+" Chrome="+kiwi_isChrome()+" Opera="+kiwi_isOpera()),"undefined"!=typeof kiwi_check_js_version?kiwi_ajax("/VER","kiwi_version_cb"):"undefined"!=typeof kiwi_bodyonload&&kiwi_bodyonload("")}};var kiwi_version_fail=!1;function kiwi_version_cb(e){version_maj=e.maj,version_min=e.min;var i="";kiwi_check_js_version.forEach(function(e){e.VERSION_MAJ==version_maj&&e.VERSION_MIN==version_min||(0==kiwi_version_fail&&(i="Your browser is trying to use incorrect versions of the KiwiSDR Javascript files.<br>Please clear your browser cache and try again.<br>Or click the button below to continue anyway.<br><br>v"+version_maj+"."+version_min+": KiwiSDR server<br>",kiwi_version_fail=!0),i+="v"+e.VERSION_MAJ+"."+e.VERSION_MIN+": "+e.file+"<br>")}),kiwi_version_fail&&(i+="<br>"+w3_button("w3-css-yellow","Continue anyway","kiwi_version_continue_cb")),kiwi_bodyonload(i)}function kiwi_version_continue_cb(){seriousError=!1,kiwi_bodyonload("")}function ord(e,i){return isString(i)?e.charCodeAt(0)-i.charCodeAt(0):e.charCodeAt(0)}function chr(e){return String.fromCharCode(e)}function sq(e){return"'"+e+"'"}function dq(e){return'"'+e+'"'}function dqc(e){return'"'+e+'":'}function paren(e){return"("+e+")"}function plural(e,i){return 1==e?i:i+"s"}function arrayBufferToString(e){var i;try{var t=new Uint8Array(e);i="";for(var r=0;r<t.length;r++)i+=String.fromCharCode(t[r])}catch(t){console.log(e),console.log(t),kiwi_trace("arrayBufferToString"),i=null}return i}function arrayBufferToStringLen(e,i){var t=new Uint8Array(e),r=String();i=Math.min(i,t.length);for(var n=0;n<i;n++)r+=String.fromCharCode(t[n]);return r}function kiwi_dup_array(e){return e.slice()}function kiwi_dedup_array(e,i){var t=[];return e.forEach(function(e,r){i&&i(e)||t.includes(e)||t.push(e)}),t}function kiwi_shallow_copy(e){return Object.assign({},e)}function kiwi_deep_copy(e){return JSON.parse(JSON.stringify(e))}function kiwi_bitReverse(e,t){if(0==e)return 0;var r=0;for(i=0;i<t;i++)r|=(e>>i&1)<<t-1-i;return r>>>0}function kiwi_bitCount(e){return 0==e?0:e.toString(2).match(/1/g).length}function getFirstChars(e,i){arrayBufferToStringLen(e,i)}function kiwi_inet4_d2h(e,i){var t=e.split(".");if(4!=t.length)return null;var r,n,o,a,s=function(e){var i=parseInt(e);return!isNumber(i)||i<0||i>255?null:i};if(null==(r=s(t[0])))return null;if(null==(n=s(t[1])))return null;if(null==(o=s(t[2])))return null;if(null==(a=s(t[3])))return null;var l=r<<24|n<<16|o<<8|a;return i&&(l>=kiwi_ip_10_lo&&l<=kiwi_ip_10_hi||l>=kiwi_ip_172_16_lo&&l<=kiwi_ip_172_16_hi||l>=kiwi_ip_192_168_lo&&l<=kiwi_ip_192_168_hi||l==kiwi_ip_loopback)?null:l}var kiwi_ip_10_lo=kiwi_inet4_d2h("10.0.0.0"),kiwi_ip_10_hi=kiwi_inet4_d2h("10.255.255.255"),kiwi_ip_172_16_lo=kiwi_inet4_d2h("172.16.0.0"),kiwi_ip_172_16_hi=kiwi_inet4_d2h("172.31.255.255"),kiwi_ip_192_168_lo=kiwi_inet4_d2h("192.168.0.0"),kiwi_ip_192_168_hi=kiwi_inet4_d2h("192.168.255.255"),kiwi_ip_loopback=kiwi_inet4_d2h("127.0.0.1");function kiwi_h2n_32(e,i){var t;switch(i){case 0:t=e>>24;break;case 1:t=e>>16;break;case 2:t=e>>8;break;case 3:t=e;break;default:t=0}return 255&t}function kiwi_ip_str(e){var i="";return isNumber(e)?i=kiwi_h2n_32(e,0)+"."+kiwi_h2n_32(e,1)+"."+kiwi_h2n_32(e,2)+"."+kiwi_h2n_32(e,3):isArray(e)?i=e[3]+"."+e[2]+"."+e[1]+"."+e[0]:isObject(e)&&(i=e.a+"."+e.b+"."+e.c+"."+e.d),i}function isHexDigit(e){return"0123456789ABCDEFabcdef".indexOf(e)>-1}Number.prototype.leadingZeros=function(e){var i=String(this);for(isNumber(e)||(e=2);i.length<e;)i="0"+i;return i},String.prototype.leadingZeros=function(e){var i=String(this);for(isNumber(e)||(e=2);i.length<e;)i="0"+i;return i},Number.prototype.fieldWidth=function(e){var i=String(this);if(!isNumber(e))return i;for(;i.length<e;)i=" "+i;return i},String.prototype.fieldWidth=function(e){var i=String(this);if(!isNumber(e))return i;for(;i.length<e;)i=" "+i;return i},String.prototype.filterInt=function(){var e=String(this);return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):NaN},String.prototype.withSign=function(){var e=this;return Number(e)<0?e:"+"+e},String.prototype.positiveWithSign=function(){var e=this;return Number(e)<=0?e:"+"+e},Number.prototype.toHex=function(e){isNumber(e)||(e=0);var i=e<0?0:1;e=Math.abs(e);for(var t=Number(this),r=(t>>>=0).toString(16);r.length<e;)r="0"+r;return i&&(r="0x"+r),r},Number.prototype.toFixedNZ=function(e){for(var i=Number(this).toFixed(e);i.endsWith("0");)i=i.slice(0,-1);return i.endsWith(".")&&(i=i.slice(0,-1)),i},Number.prototype.toUnits=function(){var e=Number(this);return e<1e3?e.toString():e<1e6?(e/1e3).toFixed(1)+"k":e<1e9?(e/1e6).toFixed(1)+"M":(e/1e9).toFixed(1)+"G"},String.prototype.parseFloatWithUnits=function(e,i){var t=String(this),r=parseFloat(t);return isNaN(r)?NaN:(e&&!e.includes("k")||new RegExp("([-0-9.]*k)").test(t)&&(r*=1e3,i&&(r*=i)),e&&!e.includes("M")||new RegExp("([-0-9.]*M)").test(t)&&(r*=1e6,i&&(r*=i)),r)},Number.prototype.withSign=function(){var e=Number(this),i=e.toString();return e<0?i:"+"+i};var kHz=function(e){return(e/1e3).toFixed(3)+"k"};function kiwi_setTimeout(e,i,t){return e(t),setTimeout(e,i,t)}function kiwi_clearTimeout(e){try{clearTimeout(e)}catch(e){}}function kiwi_setInterval(e,i,t){return e(t),setInterval(e,i,t)}function kiwi_clearInterval(e){try{clearInterval(e)}catch(e){}}var littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();function _nochange(e){if(0!=arguments.length)return void 0===e}function _default(e){return 0==arguments.length?NaN:isNaN(e)}function _change(e){return!_nochange(e)&&!_default(e)}function console_log(){for(var e,i=0;i<arguments.length;i++){var t=arguments[i];0==i?e=t+": ":e+="arg"+(i-1)+"="+t+" "}console.log("CONSOLE_LOG "+e)}function console_log_fqn(){for(var e,i=0;i<arguments.length;i++){var t=arguments[i];if(0==i)e=t+": ";else{var r;try{r=getVarFromString(t)}catch(e){r="[not defined]"}var n=t.lastIndexOf(".");e+=(-1==n?t:t.substr(n+1))+"="+r+" "}}console.log("FQN "+e)}function console_log_dbgUs(){if(dbgUs){s="";for(var e=0;e<arguments.length;e++)s+=arguments[e].toString();console.log(s)}}function kiwi_log(e){setTimeout(function(e){console.log(e)},1,e)}function kiwi_trace_log(e){setTimeout(function(e){kiwi_trace(e)},1,e)}function canvas_log(e){isUndefined(owrx.news_acc_s)&&(owrx.news_acc_s="<br>"),"\f"==e?owrx.news_acc_s="<br>":"$"==e.charAt(0)?owrx.news_acc_s+="<br>"+e:owrx.news_acc_s+=("<br>"!=owrx.news_acc_s?" | ":"")+e,extint_news(owrx.news_acc_s)}function canvas_log2(e){kiwi_isMobile()&&toggle_or_set_hide_bars(owrx.HIDE_BANDBAR),w3_innerHTML("id-rx-title",kiwi.log2_seq+": "+e),kiwi.log2_seq++}function kiwi_pathToSelector(e){if(!e||!e.outerHTML)return null;for(var i;e.parentElement;){var t=e.localName;if(!t)break;t=t.toLowerCase();var r=e.parentElement,n=[];if(r.children&&r.children.length>0)for(var o=0;o<r.children.length;o++){var a=r.children[o];a.localName&&a.localName.toLowerCase&&a.localName.toLowerCase()===t&&n.push(a)}n.length>1&&(t+=":eq("+n.indexOf(e)+")"),i=t+(i?">"+i:""),e=r}return i}function kiwi_serializeEvent(e){if(e){var i={eventName:e.toString(),altKey:e.altKey,bubbles:e.bubbles,button:e.button,buttons:e.buttons,cancelBubble:e.cancelBubble,cancelable:e.cancelable,clientX:e.clientX,clientY:e.clientY,composed:e.composed,ctrlKey:e.ctrlKey,currentTarget:e.currentTarget?e.currentTarget.outerHTML:null,defaultPrevented:e.defaultPrevented,detail:e.detail,eventPhase:e.eventPhase,fromElement:e.fromElement?e.fromElement.outerHTML:null,isTrusted:e.isTrusted,layerX:e.layerX,layerY:e.layerY,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,path:kiwi_pathToSelector(e.path&&e.path.length?e.path[0]:null),relatedTarget:e.relatedTarget?e.relatedTarget.outerHTML:null,returnValue:e.returnValue,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,sourceCapabilities:e.sourceCapabilities?e.sourceCapabilities.toString():null,target:e.target?e.target.outerHTML:null,timeStamp:e.timeStamp,toElement:e.toElement?e.toElement.outerHTML:null,type:e.type,view:e.view?e.view.toString():null,which:e.which,x:e.x,y:e.y};return JSON.stringify(i,null,2)}return"(null)"}function event_dump(e,i,t){if(t){var r=isDefined(e.relatedTarget)&&e.relatedTarget?" Trel="+e.relatedTarget.id:"",n="";e.shiftKey&&(n+="shift-"),e.ctrlKey&&(n+="ctrl-"),e.altKey&&(n+="alt-"),e.metaKey&&(n+="meta-"),n+=""+e.key,console.log("event_dump "+i+" "+e.type+" k="+n+" T="+e.target.id+" Tcur="+e.currentTarget.id+r)}else{if(console.log("================================"),!isArg(e))return console.log("EVENT_DUMP: "+i+" bad evt"),void kiwi_trace();console.log("EVENT_DUMP: "+i+" type="+e.type),console.log((e.shiftKey?"SFT ":"")+(e.ctrlKey?"CTL ":"")+(e.altKey?"ALT ":"")+(e.metaKey?"META ":"")+"key="+e.key);var o=e.currentTarget?e.currentTarget.id:"(null)";console.log("this.id="+this.id+" tgt.name="+e.target.nodeName+" tgt.id="+e.target.id+" ctgt.id="+o);var a="";1&e.buttons&&(a+="L"),4&e.buttons&&(a+="M"),2&e.buttons&&(a+="R"),console.log("button="+"LMR"[e.button]+" buttons="+a+" detail="+e.detail),e.type.startsWith("touch")?(console.log("pageX="+e.pageX+" clientX="+e.clientX+" screenX="+e.screenX),console.log("pageY="+e.pageY+" clientY="+e.clientY+" screenY="+e.screenY)):(console.log("pageX="+e.pageX+" clientX="+e.clientX+" screenX="+e.screenX+" offX(EXP)="+e.offsetX+" layerX(DEPR)="+e.layerX),console.log("pageY="+e.pageY+" clientY="+e.clientY+" screenY="+e.screenY+" offY(EXP)="+e.offsetY+" layerY(DEPR)="+e.layerY)),console.log("evt, evt.target, evt.currentTarget, evt.relatedTarget, elementFromPoint:"),console.log(e),console.log(e.target),console.log(e.currentTarget),console.log(e.relatedTarget),isNumber(e.pageX)&&isNumber(e.pageY)?console.log(document.elementFromPoint(e.pageX,e.pageY)):console.log("(no x,y)"),console.log("----")}}function kiwi_rateLimit(e,i){var t=!1;return function(){if(!t){t=!0;var r=arguments;setTimeout(function(){t=!1,e.apply(this,r)},i)}}}function kiwi_UTC_minutes(){var e=new Date;return 60*e.getUTCHours()+e.getUTCMinutes()}function kiwi_hh_mm(e){if(isNumber(e))return e;if(isString(e)){var i=e.split(":"),t=+i[0];if(i.length>1){var r=+i[1]/60;t=t<0?t-r:t+r}return"-0"!=i[0]&&"-00"!=i[0]||(t=-t),t}return null}function kiwi_UTCdoyToDate(e,i,t,r,n){return new Date(Date.UTC(i,0,e,t,r,n))}function kiwi_decodeURIComponent(e,i){var t=null,r=!1;if(dbgUs&&2!=arguments.length)return alert("kiwi_decodeURIComponent: requires exactly two args"),kiwi_trace(),null;for(;null==t;)try{t=decodeURIComponent(i)}catch(l){if(console.log("$kiwi_decodeURIComponent("+e+"): decode fail"),console.log(i),r)return console.log("kiwi_decodeURIComponent("+e+"): DOUBLE DECODE FAIL"),console.log(i),console.log(l),null;for(var n=0;n<i.length-2;n++){var o=i.charAt(n+1),a=i.charAt(n+2);if("%"==i.charAt(n)&&isHexDigit(o)&&isHexDigit(a)&&o>="8"){var s=i.charAt(n-1);s=s.charCodeAt(0),i=i.substr(0,n)+i.substr(n+3),n=0,r=!0}}t=null}return t}kiwi_util.str_recode_lookup=[];var e1=function(e){kiwi_util.str_recode_lookup[ord(e)]=1},e2=function(e){kiwi_util.str_recode_lookup[ord(e)]=2},er=function(e,i,t){for(var r=e;r<=i;r++)kiwi_util.str_recode_lookup[r]=t};function kiwi_str_decode_selective_inplace(e,i){var t,r="",n=e.length,o=(e.length,/[0-9a-fA-F]/);for(t=0;t<n;t++)if("%"==e[t]&&t+2<n&&e[t+1].match(o)&&e[t+2].match(o)){var a=parseInt(e[t+1],16)<<4|parseInt(e[t+2],16);a<128&&(0==kiwi_util.str_recode_lookup[a]||i&&1==kiwi_util.str_recode_lookup[a])?(r+=chr(a),t+=2):r+="%"}else r+=e[t];return r}function kiwi_JSON_parse(e,i){var t;try{t=JSON.parse(i)}catch(r){console.log("kiwi_JSON_parse("+e+"): JSON parse fail"),console.log(i),console.log(r),t=null}return t}function kiwi_remove_escape_sequences(e){for(var i=e.split(""),t=[],r=!1,n=!1,o=0;o<i.length;o++){var a=i[o];r?"m"==a&&(r=!1):n?a==kiwi.esc_gt&&(n=!1):""==a&&o+1<i.length&&"["==i[o+1]?(o++,r=!0):a==kiwi.esc_lt?n=!0:"\f"!=a&&t.push(a)}return t.join("")}function kiwi_clean_html(e){return e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function kiwi_clean_newline(e){return e.replace(/[\r\n\f\v]/g,"").replace(/\t/g," ")}function kiwi_SSL(){return window.location.protocol+"//"}function kiwi_url_origin(){return window.location.origin}function kiwi_host_port(){return window.location.host}function kiwi_host(){return window.location.hostname}function kiwi_url_param(e,i,t){var r=isArray(e);isUndefined(i)&&(i=!0),isUndefined(t)&&(t=null);var n=window.location&&window.location.search&&window.location.search.substr(1);if(!n)return t;var o=t;return n.split("&").forEach(function(t){var n=t.split("=");r?e.forEach(function(e){e==n[0]&&(o=n.length>=2?n[1]:i)}):e==n[0]&&(o=n.length>=2?n[1]:i)}),o}function kiwi_add_search_param(e,i){var t=e.search;return console.log("qs=<"+t+">"),(""==t?"/?":t.includes("?")?"&":"/?")+i}function kiwi_remove_search_param(e,i){return e=e.replace("?"+i+"&","?").replace("&"+i+"&","&").replace("?"+i,"").replace("&"+i,"")}er(0,127,0),e1("&"),e1("'"),e1("+"),e1(";"),e1("<"),e1(">"),e1("`"),e2('"'),e2("%"),e2("\\"),er(0,31,2),er(127,127,2);var kiwiint_dummy_elem={};function html(e){var i=w3_el(e);try{i.value}catch(t){console.log("html('"+e+"')="+i+" FAILED"),dbgUs&&dbgUsFirst&&(dbgUsFirst=!1)}return null==i&&(i=kiwiint_dummy_elem),i}function px(e){if(!isArg(e)||""==e)return"0";var i=parseFloat(e);return isNaN(i)?(console.log("px num="+e),kiwi_trace(),"0"):i.toFixed(0)+"px"}function unpx(e){return parseFloat(e)}function css_style(e,i){return(e=w3_el(e))?getComputedStyle(e,null).getPropertyValue(i):null}function css_style_num(e,i){if(!(e=w3_el(e)))return null;var t=parseInt(css_style(e,i));return isNaN(t)&&(t=0),t}function html_LR_border_pad(e){return css_style_num(e,"border-left-width")+css_style_num(e,"border-right-width")+css_style_num(e,"padding-left")+css_style_num(e,"padding-right")}function cancelEvent(e){return(e=e||window.event).stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function ignore(e){return cancelEvent(e)}function kiwi_rgb(e,i,t){return null==e?"":(isArray(e)&&(i=e[1],t=e[2],e=e[0]),"rgb("+Math.floor(e)+","+Math.floor(i)+","+Math.floor(t)+")")}function hsl(e,i,t){return(i=Math.floor(i))<0&&(i=0),i>100&&(i=100),(t=Math.floor(t))<0&&(t=0),t>100&&(t=100),"hsl("+Math.round(e)+","+i+"%,"+t+"%)"}function createCookie(e,i,t){var r="";if(t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3),r="; expires="+n.toGMTString()}document.cookie=e+"="+i+r+"; path=/; SameSite=Lax;"}function readCookie(e,i){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return isDefined(i)?i:null}function writeCookie(e,i){createCookie(e,i,15330)}function initCookie(e,i){var t=readCookie(e);return null==t?(writeCookie(e,i),i):t}function updateCookie(e,i){var t=readCookie(e);return(null==t||t!=i)&&(writeCookie(e,i),!0)}function deleteCookie(e){null!=readCookie(e)&&createCookie(e,0,-1)}function kiwi_storeGet(e,i){var t;if(!isArg(e))return null;try{if(null==localStorage)return null;null==(t=localStorage.getItem(e))&&(null!=(t=readCookie(e))?(console.log("$moving to storage api: "+e+"="+t),kiwi_storeSet(e,t),deleteCookie(e)):isDefined(i)?(kiwi_storeSet(e,i),t=i):t=null)}catch(i){console.log("$kiwi_storeGet CATCH: "+e),console.log("$kiwi_storeGet CATCH: "+i),t=null}return null==t&&console.log("$ kiwi_storeGet warning: "+e+"=null"),t}function kiwi_storeSet(e,i){if(!isArg(i))return null;try{if(null==localStorage)return null;localStorage.setItem(e,i)}catch(e){return null}return!0}function getVarFromString(e){var t=window,r=e.split(".");for(i=0;i<r.length-1;i++){var n=r[i];if(isUndefined(t=t[n]))throw console.log("getVarFromString: NO SCOPE "+e+" scope_name="+n),"no scope"}return t[r[r.length-1]]}function setVarFromString(e,t){var r=window,n=e.split(".");for(i=0;i<n.length-1;i++)null==r[n[i]]&&(r[n[i]]={}),r=r[n[i]];r[n[n.length-1]]=t}function getType(e){return e&&e.constructor&&e.constructor.name}function kiwi_parseQuery(e){var i=new Object;if(!e)return i;for(var t=e.split(/[;&]/),r=0;r<t.length;r++){var n=t[r].split("=");if(n&&2==n.length){var o=unescape(n[0]),a=unescape(n[1]);a=a.replace(/\+/g," "),i[o]=a}}return i}function getTextWidth(e,i){var t=(getTextWidth.canvas||(getTextWidth.canvas=document.createElement("canvas"))).getContext("2d");return t.font=i,t.measureText(e).width}function kiwi_GETrequest(e,i,t){var r=w3_opt(t,"debug",0),n=document.createElement("iframe"),o=e+"_"+(new Date).toUTCString().substr(17,8);document.body.appendChild(n),n.style.display="none",n.contentWindow.name=o,w3_add(n,"id-kiwi_GETrequest");var a=document.createElement("form");return a.target=o,a.action=i,a.method="GET",w3_add(a,"id-kiwi_GETrequest"),r&&console.log("kiwi_GETrequest: "+o),{iframe:n,form:a,debug:r}}function kiwi_GETrequest_submit(e,i){var t=w3_opt(i,"no_submit",0),r=w3_opt(i,"gc",0);t?console.log("kiwi_GETrequest_submit: NO SUBMIT"):(document.body.appendChild(e.form),e.form.submit(),e.debug&&console.log("kiwi_GETrequest_submit: SUBMITTED")),r&&setTimeout(function(){document.body.removeChild(e.form),document.body.removeChild(e.iframe)},6e4)}function kiwi_GETrequest_param(e,i,t){var r=document.createElement("input");r.type="hidden",r.name=i,r.value=t,e.form.appendChild(r),e.debug&&console.log("kiwi_GETrequest_param: "+i+"="+t)}var ajax_state={DONE:4};function kiwi_ajax(e,i,t,r,n){kiwi_ajax_prim("GET",null,e,i,t,r,void 0,void 0,n)}function kiwi_ajax_progress(e,i,t,r,n,o,a){kiwi_ajax_prim("GET",null,e,i,t,r,n,o,a)}function kiwi_ajax_send(e,i,t,r,n,o){kiwi_ajax_prim("PUT",e,i,t,r,n,void 0,void 0,o)}var ajax_id=0,ajax_requests={};function kiwi_ajax_prim(e,i,t,r,n,o,a,s,l){var c;ajax_id++;var u=function(e){l&&console.log(e)};try{c=new XMLHttpRequest}catch(e){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}}return c.kiwi_id=ajax_id,ajax_requests[ajax_id]={},ajax_requests[ajax_id].didTimeout=!1,ajax_requests[ajax_id].timer=-1,(o=o||0)&&(ajax_requests[ajax_id].timer=setTimeout(function(){var e=c.kiwi_id;ajax_requests[e].didTimeout=!0,ajax_requests[e].timer=-1,console.log("$AJAX TIMEOUT url="+t);w3_call(r,{AJAX_error:"timeout"},n),c.abort(),delete ajax_requests[e]},Math.abs(o))),a&&(u("AJAX with progress_cb="+a),c.onprogress=function(){var e=c.responseText.toString()||"";u("XHR.onprogress="+e),w3_call(a,e,s)}),c.onerror=function(e){u("XHR.onerror="+e),l&&console.log(e)},c.onabort=function(e){u("XHR.onabort="+e),l&&console.log(e)},c.onload=function(e){u("XHR.onload="+e),l&&console.log(e)},c.onloadstart=function(e){u("XHR.onloadstart="+e),l&&console.log(e)},c.onreadystatechange=function(){if(u("XHR.onreadystatechange readyState="+c.readyState),c.readyState!=ajax_state.DONE)return!1;var e=c.kiwi_id,i=ajax_requests[e].timer;if(u("AJAX ORSC ENTER recovered id="+e+" timer="+i+" cb="+r),-1!=i&&(u("AJAX ORSC CLEAR_TIMER recovered id="+e+" timer="+i),kiwi_clearTimeout(i),ajax_requests[e].timer=-1),ajax_requests[e].didTimeout)u("AJAX ORSC TIMED_OUT recovered id="+e);else{var o;if(u("XHR.status="+c.status),u("XHR.statusText="+c.statusText),u("XHR.responseType="+c.responseType),u("XHR.response="+c.response),u("XHR.responseText="+c.responseText),u("XHR.responseURL="+c.responseURL),l&&console.log(c),200!=c.status)console.log("$AJAX BAD STATUS="+c.status+" url="+t),o={AJAX_error:"status",status:c.status};else{var a=c.responseText.toString();if(null==a&&(a=""),a.startsWith("<?xml"))o={XML:!0,text:a};else{var s=a.charAt(0);if("{"==s||"["==s||s>="0"&&s<="9")try{a=kiwi_remove_cjson_comments(a),o=JSON.parse(a),u("AJAX JSON response:"),u(a),u(o)}catch(e){u("AJAX response JSON.parse failed: <"+a+">"),u(e),o={AJAX_error:"JSON parse",JSON_ex:e.toString(),response:a}}else u("AJAX: response didn't begin with JSON '{', '[' or digit? "+a),o={AJAX_error:"JSON prefix",response:a}}}u("AJAX ORSC CALLBACK recovered id="+e+" callback="+typeof r),w3_call(r,o,n)}u("AJAX ORSC ABORT/DELETE"),c.abort(),delete ajax_requests[e]},o>=0&&(c.open(e,t,!0),u("AJAX SEND id="+ajax_id+" url="+t),c.send(i)),!0}function kiwi_remove_cjson_comments(e){for(var i,t;-1!=(i=e.indexOf("\n//"));)t=e.indexOf("\n",i+3),e=e.slice(0,i)+e.slice(t),!0;return e}function kiwi_scrollbar_width(){return kiwi_isMacOS()?10:15}function kiwi_strip_tags(e,i){i=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return i.indexOf("<"+t.toLowerCase()+">")>-1?e:""})}function kiwi_pie(e,i,t,r){var n=2*i;return'<svg width="'+n+'" height="'+n+'" viewbox="0 0 '+n+" "+n+'"><circle cx="'+i+'" cy="'+i+'" r="'+i+'" fill="'+t+'" /><path class="'+e+'" style="fill:'+r+'" transform="translate('+i+", "+i+')" /></svg>'}function kiwi_draw_pie(e,i,t){var r=360*t,n=r*Math.PI/180,o=Math.sin(n)*i,a=Math.cos(n)*-i,s=r>=180?1:0;360==r&&(s=1,o=-.1,a=-i);var l="M 0 0 v "+-i+" A "+i+" "+i+" 1 "+s+" 1 "+o+" "+a+" z";w3_iterate_classname(e,function(e){e.setAttribute("d",l)})}function enc(e){return e.replace(/./gi,function(e){return String.fromCharCode(3^e.charCodeAt(0))})}var sendmail=function(e,i){var t="mailto:"+enc(decodeURIComponent(e))+(isDefined(i)?"?subject="+i:"");window.location.href=t};function line_stroke(e,i,t,r,n,o,a,s){var l=Math.floor(t/2),c=i?t:a-n+1,u=i?s-o+1:t,_=n-(i?l:0),f=o-(i?0:l);e.fillStyle=r,e.fillRect(_,f,c,u)}var wsockets=[];function msg_send(e){for(var i=0;i<wsockets.length;i++){var t=wsockets[i].ws;if(t.up)try{return t.send(e),0}catch(i){return console.log("CATCH msg_send('"+e+"') ex="+i),kiwi_trace(),-1}}return-1}function open_websocket(e,i,t,r,n,o,a){if(!("WebSocket"in window&&"CLOSING"in WebSocket))return console.log("WEBSOCKET TEST"),kiwi_serious_error("Your browser does not support WebSocket, which is required for OpenWebRX to run. <br> Please use an HTML5 compatible browser."),null;var s=kiwi_url_origin().split("://")[1],l="ws://";"https:"===window.location.protocol&&(l="wss://");var c=window.location.href.includes("?no_wf")||window.location.href.includes("&no_wf");s=l+s+"/"+(c?"no_wf/":"kiwi/")+timestamp+"/"+e,c&&(wf.no_wf=!0);var u=new WebSocket(s);return wsockets.push({ws:u,name:e}),u.up=!1,u.stream=e,u.open_cb=i,u.open_cb_param=t,u.msg_cb=r,u.recv_cb=n,u.error_cb=o,u.close_cb=a,u.onopen=function(){if(u.up=!0,u.open_cb)try{u.open_cb(u.open_cb_param)}catch(e){console.log(e)}},u.onmessage=function(e){on_ws_recv(e,u)},u.onclose=function(e){if(u.up=!1,console.log("WS-CLOSE: "+u.stream),u.close_cb)try{u.close_cb(u)}catch(e){console.log(e)}},u.binaryType="arraybuffer",u.onerror=function(e){if(u.error_cb)try{u.error_cb(e,u)}catch(e){console.log(e)}},u}var kiwi_flush_recv_input=!0;function recv_websocket(e,i){"SND"!=e.stream&&"W/F"!=e.stream&&(e.recv_cb=i,null==i&&(kiwi_flush_recv_input=!0))}function on_ws_recv(e,i){var t=e.data;if(t instanceof ArrayBuffer){if(!seriousError){var r=arrayBufferToStringLen(t,3);if("CLI"!=r){var n=!1;if("MSG"==r){var o=arrayBufferToString(t);params=o.substring(4).split(" ");for(var a=0;a<params.length;a++){var s=params[a].split("=");"EXT"==i.stream&&"EXT-STOP-FLUSH-INPUT"==s[0]&&(kiwi_flush_recv_input=!1),0==(n=kiwi_msg(s,i))&&i.msg_cb&&(n=i.msg_cb(s,i)),0==n&&console.log(">>> "+i.stream+": message not claimed: "+params[a])}}else!i.recv_cb||"EXT"==i.stream&&0!=kiwi_flush_recv_input||(i.recv_cb(t,i,r),isDefined(kiwi_gc_recv)&&kiwi_gc_recv&&(t=null))}}}else console.log("on_ws_recv: not an ArrayBuffer?")}window.onbeforeunload=function(){var e;for(e=0;e<wsockets.length;e++){var i=wsockets[e].ws;i&&(i.onclose=function(){},i.close())}};




/* web/kiwi/w3_util.min.js (web/kiwi/w3_util.js = Fri May 20 15:30:29 2022) */
var w3int={menu_cur_id:null,menu_active:!1,menu_debug:!1,menu_close_func:null,prev_menu_hover_el:null,_last_:0};function visible_block(){}var w3_console={};function w3int_console_replacer(e,n){return isUndefined(n)?"<undefined>":isNull(n)?"<null>":isFunction(n)?"<function>":"<"+n.toString()+">"}function w3_strip_quotes(e){return!isString(e)||-1==e.indexOf("'")&&-1==e.indexOf('"')?e:e.replace(/'/g,"").replace(/"/g,"")+" [quotes stripped]"}function w3_esc_dq(e){return isString(e)&&-1!=e.indexOf('"')?e.replace(/"/g,"&quot;"):e}function w3_call(e,n,t,i,l,r){var o=void 0;if(!isArg(e))return o;try{if(isString(e)){var _=getVarFromString(e);isFunction(_)&&(o=_(n,t,i,l,r))}else isFunction(e)?o=e(n,t,i,l,r):console.log("w3_call: func not a string or function")}catch(e){console.log("w3_call: while in func this exception occured:"),console.log(e)}return o}function w3_first_value(e){if(null==e)return"null";var n=typeof e;return"number"===n||"boolean"===n||"string"===n?e:isArray(e)?e[0]:"object"===n?w3_obj_seq_el(e,0):n}function w3_second_value(e){var n=null;return isArray(e)&&e.length>1&&e.length>1&&(n=e[1]),n}function w3_opt(e,n,t){return isDefined(e)&&isDefined(e[n])?e[n]:t}function w3_obj_num(e){return isUndefined(e)||isNull(e)||isObject(e)?e:isNumber(e)?{num:e}:isBoolean(e)?{num:e?1:0}:isString(e)?{num:parseFloat(e)}:e}function w3_obj_seq_el(e,n){var t=Object.keys(e);return!isNumber(n)||n<0||n>=t.length?null:e[t[n]]}function w3_obj_key_seq(e,n){var t=null;return Object.keys(e).forEach(function(e,i){e==n&&(t=i)}),t}function w3_array_el_seq(e,n){var t=null;return e.forEach(function(e,i){e==n&&(t=i)}),t}function w3_obj_enum(e,n,t){var i=w3_opt(t,"key_match",void 0),l=w3_opt(t,"value_match",void 0);Object.keys(e).forEach(function(t,r){var o=e[t];isDefined(i)?t==i&&n(t,r,o):isDefined(l)?o==l&&n(t,r,o):n(t,r,o)})}function w3_ext_param_array_match_str(e,n,t){var i=!1;return e.forEach(function(e,l){var r=e.toString().toLowerCase();!i&&r.startsWith(n)&&(t&&t(l,e.toString()),i=!0)}),i}function w3_ext_param_array_match_num(e,n,t){var i=!1;return e.forEach(function(e,l){var r=parseFloat(e);i||r!=n||(t&&t(l,n),i=!0)}),i}function w3_ext_param(e,n){var t=n.split(":"),i=n.toLowerCase().split(":");return e.startsWith(i[0])?(rv={match:!0},i.length>1?(rv.has_value=!0,rv.num=parseFloat(i[1]),rv.string=i[1],rv.string_case=t[1]):(rv.has_value=!1,rv.num=0,rv.string=""),rv):{match:!1}}function w3_clamp(e,n,t,i){if(isNaN(e))return isDefined(i)?i:Math.NaN;if(isObject(n)){var l=n;try{void 0===l.clamp?e=Math.max(l.min,Math.min(l.max,e)):(e<l.min||e>l.max)&&(e=l.clamp)}catch(e){return console.log("w3_clamp: bad obj:"),void console.log(l)}}else null==i?e=Math.max(n,Math.min(t,e)):(e<n||e>t)&&(e=i);return e}function w3_clamp3(e,n,t,i,l,r){return isNaN(e)?r:e<n?i:e>t?l:e}function w3_add_id(e,n){return""==(e=e||"")?"":(e=e.startsWith("id-")?e:"id-"+e)+(n=n||"")}function w3int_w3_el(e){if(!e||""==e)return null;var n=document.getElementById(e);return null==n&&null!=(n=document.getElementsByName(e))&&(n=n[0]),null==n&&null!=(n=document.getElementsByClassName(e))&&(n=n[0]),n}function w3int_w3_els(e){if(!e||""==e)return null;var n,t=document.getElementById(e);return null!=t?n=[t]:(null!=(t=document.getElementsByName(e))&&0!=t.length||(t=document.getElementsByClassName(e)),n=t),0==n.length&&(n=null),n}function w3_el(e){if(isString(e)){if(""==e)return null;if("body"==e)return document.body;var n=w3int_w3_el(e);return null==n&&null==(n=w3int_w3_el("id-"+e))&&null==(n=w3int_w3_el(e=w3_add_toplevel(e)))&&(n=w3int_w3_el("id-"+e)),n}return e}function w3_els(e,n){if(isString(e)){if(""==e)return null;if("body"==e)return document.body;var t=w3int_w3_els(e);if(null==t&&null==(t=w3int_w3_els("id-"+e))&&null==(t=w3int_w3_els(e=w3_add_toplevel(e)))&&(t=w3int_w3_els("id-"+e)),t&&n)for(var i=0;i<t.length;i++)n(t[i],i);return t}return w3_el(e)}function w3_id(e){var n=w3_el(e);if(!n)return null;if(n.id&&n.id.startsWith("id-"))return n.id;var t=!1,i=null;return w3_iterate_classList(n,function(e,n){e.startsWith("id-")&&!t&&(i=e,t=!0)}),i}function w3_innerHTML(e){var n=w3_el(e);if(!n)return null;for(var t="",i=arguments.length,l=1;l<i;l++)t+=arguments[l];return n.innerHTML=t,n}function w3_clearInnerHTML(e){w3_innerHTML(e,"")}function w3_append_innerHTML(e){var n=w3_el(e);if(!n)return null;for(var t="",i=arguments.length,l=1;l<i;l++)t+=arguments[l];return n.innerHTML+=t,n}function w3_get_innerHTML(e){var n=w3_el(e);return n?n.innerHTML:null}function w3_iterate_classname(e,n){var t=document.getElementsByClassName(e);if(null!=t)for(var i=0;i<t.length;i++)n(t[i],i)}function w3_iterate_classList(e,n){var t=w3_el(e);if(t&&t.classList)for(var i=0;i<t.classList.length;i++)n(t.classList.item(i),i);return t}function w3_create_appendElement(e,n,t){var i=document.createElement(n);return w3_innerHTML(i,t),w3_el(e).appendChild(i),i}function w3_iterate_parent(e,n){var t=w3_el(e),i=0;do{if(null!=n(t,i))break;t=t.parentNode,i++}while(t)}function w3_iterate_children(e,n){for(var t=w3_el(e),i=0;i<t.children.length;i++){n(t.children[i],i)}}function w3_iterateDeep_children(e,n){for(var t=w3_el(e),i=0;i<t.children.length;i++){var l=t.children[i];n(l),l.hasChildNodes&&w3_iterateDeep_children(l,n)}}function w3_iterate_childNodes(e,n){for(var t=w3_el(e),i=0;i<t.childNodes.length;i++){n(t.childNodes[i],i)}}function w3_boundingBox_children(e,n){var t={x1:1e99,x2:0,y1:1e99,y2:0,w:0,h:0};return w3_iterateDeep_children(e,function(e){if("DIV"==e.nodeName||"IMG"==e.nodeName){var i=css_style(e,"position");if("static"!=i&&0!=e.offsetHeight){n&&console.log(e),n&&console.log(e.nodeName+" el.oL="+e.offsetLeft+" el.oW="+e.offsetWidth+" el.oT="+e.offsetTop+" el.oH="+e.offsetHeight+" "+i),t.x1=Math.min(t.x1,e.offsetLeft);var l=e.offsetLeft+e.offsetWidth;t.x2=Math.max(t.x2,l),t.y1=Math.min(t.y1,e.offsetTop);var r=e.offsetTop+e.offsetHeight;t.y2=Math.max(t.y2,r)}}}),t.w=t.x2-t.x1,t.h=t.y2-t.y1,-1e99==t.w&&(t.w=t.h=0),n&&w3_console.log(t,"w3_boundingBox_children"),t}function w3_center_in_window(e,n){var t=w3_el(e);return window.innerHeight/2-t.clientHeight/2}function w3_field_select(e,n){var t=w3_el(e);if(t=t&&isFunction(t.select)?t:null){var i=0,l=0,r=0;n.mobile&&kiwi_isMobile()?r=1:i=l=1,n.blur&&(r=1),n.focus_select&&(i=l=1),n.focus_only&&(i=1,l=0),n.select_only&&(l=1),i&&t.focus(),l&&t.select(),r&&t.blur()}}function w3_add(e,n){if(!e)return null;var t=null,i=w3_el(e);return i?t?void 0:i&&n?((n=n.replace(/\s+/g," ").split(" ")).forEach(function(e){i.classList.add(e)}),t||(t=i),t):null:null}function w3_remove(e,n){if(!e)return null;var t=null,i=w3_el(e);return i?(t||(t=i),i&&n?((n=n.replace(/\s+/g," ").split(" ")).forEach(function(e){i.classList.remove(e)}),t):null):null}function w3_match_wildcard(e,n){var t=w3_el(e);if(!t)return null;for(var i=0;i<t.classList.length;i++){var l=t.classList.item(i);if(l.startsWith(n))return l}return!1}function w3_remove_wildcard(e,n){var t=w3_el(e);if(!t)return null;for(var i=0;i<t.classList.length;i++){var l=t.classList.item(i);l.startsWith(n)&&t.classList.remove(l)}return t}function w3_set_props(e,n,t){var i=w3_el(e);return i?((t=!isArg(t)||t)?w3_add(i,n):w3_remove(i,n),i):i}function w3_remove_then_add(e,n,t){w3_remove(e,n),w3_add(e,t)}function w3_contains(e,n){var t=w3_el(e);if(!t)return 0;var i=t.classList;return i&&i.contains(n)?1:0}function w3_parent_with(e,n){var t=w3_el(e);if(t){var i=null;return w3_iterate_parent(t,function(e){!i&&w3_contains(e,n)&&(i=e)}),i}}function w3_toggle(e,n){var t=w3_el(e);if(t)return w3_contains(t,n)?w3_remove(t,n):w3_add(t,n),t}function w3_appendAllClass(e,n){w3_iterate_classname(e,function(e){e.classList.add(n)})}function w3_setAllHref(e,n){w3_iterate_classname(e,function(e){e.href=n})}function w3_show(e,n){var t=w3_el(e);return t?(w3_remove(t,"w3-hide"),w3_add(t,n||"w3-show-inline-block"),t):t}function w3_create_attribute(e,n,t){var i=w3_el(e);if(null!=i){var l=document.createAttribute(n);l.value=t,i.setAttributeNode(l)}}function w3_attribute(e,n,t,i){var l=w3_el(e);if(null==l)return null;isUndefined(i)||1==i?l.setAttribute(n,t):l.removeAttribute(n)}function w3_show_block(e){return w3_show(e,"w3-show-block")}function w3_show_inline_block(e){return w3_show(e,"w3-show-inline-block")}function w3_show_inline(e){return w3_show(e,"w3-show-inline-new")}function w3_show_table_cell(e){return w3_show(e,"w3-show-table-cell")}function w3_hide(e){var n;return(n=w3_el(e))?(w3_add(n=w3_iterate_classList(n,function(e,t){e.startsWith("w3-show-")&&w3_remove(n,e)}),"w3-hide"),n):n}function w3_hide2(e,n){var t=w3_el(e);return t?(w3_set_props(t,"w3-hide",n=!isArg(n)||n),t):t}function w3_show_hide(e,n,t){return n?w3_show(e,t||"w3-show-block"):w3_hide(e)}function w3_show_hide_inline(e,n){w3_show_hide(e,n,"w3-show-inline-new")}function w3_disable(e,n){w3_set_props(e,"w3-disabled",n)}function w3_visible(e,n){var t=w3_el(e);return t.style.visibility=n?"visible":"hidden",t}function w3_isVisible(e){var n=w3_el(e);return n?"visible"==n.style.visibility:null}w3_console.log=function(e,n){var t=n?n+": ":"";if(isString(e))t+='"'+e.toString()+'"';else if(isObject(e)){console.log(e);var i="JSON "+JSON.stringify(e,w3int_console_replacer);i.includes("\n")&&(i=JSON.stringify(e,w3int_console_replacer,1)),t+=i}else t+=e.toString();console.log(t)};var w3_highlight_time=250,w3_highlight_color="w3-selection-green",w3_selection_green="#4CAF50";function w3_highlight(e){var n=w3_el(e);w3_add(n,n.w3int_highlight_color||w3_highlight_color)}function w3_unhighlight(e){var n=w3_el(e);w3_remove(n,n.w3int_highlight_color||w3_highlight_color)}function w3_isHighlighted(e){var n=w3_el(e);return w3_contains(n,n.w3int_highlight_color||w3_highlight_color)}function w3_schedule_highlight(e){var n=w3_el(e);w3_highlight(n),setTimeout(function(){w3_unhighlight(n)},w3_highlight_time)}function w3_set_highlight_color(e,n){var t=w3_el(e);return t?(w3_isHighlighted(t)?(w3_unhighlight(t),t.w3int_highlight_color=n,w3_highlight(t)):t.w3int_highlight_color=n,t):null}var w3_flag_color="w3-override-yellow";function w3_flag(e){w3_add(w3_el(e),w3_flag_color)}function w3_unflag(e){w3_remove(w3_el(e),w3_flag_color)}function w3_color(e,n,t,i){var l=w3_el(e);if(!l)return null;var r=l.style.color,o=l.style.backgroundColor;return i=isUndefined(i)||i,isArg(n)&&(l.style.color=i?n:""),isArg(t)&&(l.style.backgroundColor=i?t:""),{color:r,backgroundColor:o}}function w3_background_color(e,n){var t=w3_el(e),i=t.style.backgroundColor;return null!=n&&null!=n&&(t.style.backgroundColor=n),i}function w3_colors(e,n){var t=w3_el(e);if(!t)return null;var i=n?n.split(","):null,l=null,r=null;i&&i.length>0&&(l=i[0]),i&&i.length>1&&(r=i[1]),l&&l.startsWith("w3-")?w3_add(t,l):t.style.backgroundColor=l,r&&r.startsWith("w3-")?w3_add(t,r):t.style.color=r}function w3_flip_colors(e,n,t){var i=w3_el(e);if(!i)return null;var l=n?n.split(" "):null;if(!l||2!=l.length)return null;w3_remove(i,l[0]),w3_remove(i,l[1]),w3_add(i,l[t?1:0])}function w3_fg_color_with_opacity_against_bk_color(e,n,t){var i=w3color(e);if(!i.valid)return null;var l=w3color(t);if(!l.valid)return null;var r=1-n,o=Math.round(n*i.red+r*l.red),_=Math.round(n*i.green+r*l.green),a=Math.round(n*i.blue+r*l.blue);return w3color(kiwi_rgb(o,_,a))}function w3_flash_fade(e,n,t,i,l){var r=w3_el(e);return r?(r.style.transition="background 0s",r.style.background=n,setTimeout(function(){r.style.transition="background "+(i?i/1e3:.3)+"s linear",r.style.background=isString(l)?l:"black"},t||50),r):r}function w3_fillText_shadow(e,n,t,i,l,r,o,_){_=_||Math.floor(r/3);var a=e.getContext("2d");a.font=px(r)+" "+l,a.miterLimit=2,a.lineJoin="circle",a.strokeStyle="black",a.lineWidth=_,a.strokeText(n,t,i),a.fillStyle=o,a.lineWidth=1,a.fillText(n,t,i)}function w3_fillText(e,n,t,i,l,r,o,_,a){l&&(e.fillStyle=l),r&&(e.font=r),o&&(e.lineWidth=o),_&&(e.textAlign=_),a&&(e.textBaseline=a);var c=e.measureText(i).width;e.fillText(i,n-c/2,t)}function w3_check_restart_reboot(e){var n=w3_el(e);n&&w3_iterate_parent(n,function(e){return w3_contains(e,"w3-restart")?(w3_restart_cb(),e):w3_contains(e,"w3-reboot")?(w3_reboot_cb(),e):null})}function w3_set_value(e,n){var t=w3_el(e);t&&(t.value=n)}function w3_set_decoded_value(e,n){w3_set_value(e,kiwi_decodeURIComponent("w3_set_decoded_value:"+e,n))}function w3_get_value(e){var n=w3_el(e);return n?n.value:null}function w3_add_toplevel(e){return e.startsWith("cfg.")||e.startsWith("adm.")?e:"cfg."+e}function w3_not_toplevel(e){return e.startsWith("cfg.")||e.startsWith("adm.")?e.substr(e.indexOf(".")+1):e}function w3_basename(e){var n=e.lastIndexOf(".");return n>=0?e.substr(n+1):e}function w3_psa3(e){e=e||"",a=e.split("/");var n=(a[0]||"").replace("&slash;","/"),t=(a[1]||"").replace("&slash;","/"),i=(a[2]||"").replace("&slash;","/");return 1==a.length?{left:"",middle:"",right:n}:2==a.length?{left:"",middle:n,right:t}:3==a.length?{left:n,middle:t,right:i}:{left:"",middle:"",right:""}}function w3_sb(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];""!=(t=isString(t)?t.trim():"")&&e.push(t)}return e.length?e.join(" "):""}function w3_sbc(e){for(var n=[],t=1;t<arguments.length;t++){var i=arguments[t];""!=(i=isString(i)?i.trim():"")&&n.push(i)}return n.length?n.join(e):""}function w3_sbew(e){for(var n=[],t=1;t<arguments.length;t++){var i=arguments[t];""!=(i=isString(i)?i.trim():"")&&(i[i.length-1]!=e&&(i+=e),n.push(i))}return n.length?n.join(" "):""}function w3_psa(e,n,t,i){if(e&&e.startsWith("class="))return e;var l=e?e.split("|"):[];e="";var r=l[0]||"";n&&(r=w3_sb(r,n)),""!=r&&(e="class="+dq(r));var o=l[1]||"";t&&(o=w3_sbew(";",o,t)),""!=o&&(e=w3_sb(e,"style="+dq(o)));var _=(l[2]||"").replace("&vbar;","|");return i&&(_=w3_sb(_,i)),""!=_&&(e=w3_sb(e,_)),e}function w3_psa_mix(e,n,t,i){var l=e.includes("w3-dump");l&&console.log("--- w3_psa_mix psa="+e);var r=e?e.split("|"):[],o=r[0]||"";l&&console.log("prop=["+o+"]"),l&&console.log("extra_prop=["+n+"]"),n&&(o=w3_sb(o,n)),l&&console.log("mixed prop=["+o+"]");var _=r[1]||"";l&&console.log("style=["+_+"]"),l&&console.log("extra_style=["+t+"]"),t&&(_=w3_sbew(";",_,t)),l&&console.log("mixed style=["+_+"]");var a=r[2]||"";return l&&console.log("attr=["+a+"]"),l&&console.log("extra_attr=["+i+"]"),i&&(a=w3_sb(a,i)),l&&console.log("mixed attr=["+a+"]"),e=o+"|"+_+"|"+a,l&&console.log("mix_out=["+e+"]"),e}function w3int_init(){}function w3int_post_action(){w3_call("freqset_select")}function w3_copy_to_clipboard(e){var n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",e),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}function w3_isScrolling(e){var n=w3_el(e);return n?n.scrollHeight>n.clientHeight:null}function w3_isScrolledDown(e){var n=w3_el(e);return n?Math.abs(n.scrollHeight-n.clientHeight-n.scrollTop)<1:null}function w3_scrolledPosition(e){var n=w3_el(e);if(!n)return null;if(0==n.clientHeight)return-1;var t=n.scrollHeight-n.clientHeight;return t<=0?0:n.scrollTop/t}function w3_scrollTo(e,n,t){var i=w3_el(e);if(!i)return null;var l=i.scrollHeight-i.clientHeight;l<0&&(l=0);var r=l*n,o=r==i.scrollTop;return i.scrollTop=r,1==t&&(i.scrollTop=r+1,i.scrollTop=r),o}function w3_scrollDown(e,n){var t=w3_el(e);return isArg(n)&&!n||(t.scrollTop=t.scrollHeight),t}function w3_scrollTop(e,n){var t=w3_el(e);return isArg(n)&&!n||(t.scrollTop=0),t}function w3_do_when_rendered(e,n,t,i){var l=w3_el(e);i=isNumber(i)?i:500,isArg(l)?n(l,t):setTimeout(function(){w3_do_when_rendered(e,n,t,i)},i)}function w3_do_when_cond(e,n,t,i){i=isNumber(i)?i:500,e()?n(t):setTimeout(function(){w3_do_when_cond(e,n,t,i)},i)}function w3_hr(e){for(var n="<hr "+w3_psa(e)+">",t=arguments.length,i=1;i<t;i++)n+=arguments[i];return n}function w3_click_nav(e,n,t){var i="id-nav-"+e,l=null,r=null,o=null;w3_iterate_children(w3_el(i).parentNode,function(e,n){"A"==e.nodeName&&(w3_contains(e,"w3int-cur-sel")&&(l=e.id.substring(7),w3_remove(e,"w3int-cur-sel"),w3_iterate_classList(e,function(e,n){e.startsWith("id-nav-cb-")&&(o=e.substring(10))})),e.id==i&&(r=e))}),l&&w3_toggle(l,"w3-show-block"),l&&o&&w3_call(o+"_blur",l),r&&(w3_add(r,"w3int-cur-sel"),w3_check_restart_reboot(r)),w3_toggle(e,"w3-show-block"),"null"!=n&&w3_call(n+"_focus",e,t)}function w3int_anchor(e,n,t,i,l){return void 0===i&&(i=t),"<a "+w3_psa(e,(i?"id-nav-cb-"+i:"")+(l?" w3int-cur-sel":""),"",'id="id-nav-'+t+'" onclick="w3_click_nav('+sq(t)+", "+sq(i)+')"')+' href="javascript:void(0)">'+n+"</a>"}function w3_navbar(e){for(var n="<nav "+w3_psa(e,"w3-navbar")+">",t=arguments.length,i=1;i<t;i++)n+=arguments[i];return n+="</nav>"}function w3_sidenav(e){for(var n="<nav "+w3_psa(e,"w3-sidenav w3-static w3-left w3-sidenav-full-height w3-light-grey")+">",t=arguments.length,i=1;i<t;i++)n+=arguments[i];return n+="</nav>"}function w3_nav(e,n,t,i,l){return w3int_anchor(e,n,t,i,l)}function w3_navdef(e,n,t,i){return setTimeout(function(){w3_toggle(t,"w3-show-block")},w3_highlight_time),w3int_anchor(e,n,t,i,!0)}function w3_label(e,n,t,i){return arguments.length>=4&&console.log("### w3_label ext="+i),n=n||"",i=i||"",""==(e=e||"")&&""==n&&""==i?"":n.startsWith("<label ")?n:"<label "+w3_psa(e,w3_add_id(t,"-label"))+">"+n+i+"</label>"}function w3_get_label(e,n){return w3_get_innerHTML(w3_add_id(n,"-label"))}function w3_set_label(e,n){w3_innerHTML(w3_add_id(n,"-label"),e)}function w3_title(e,n){var t=w3_el(e);return t?(w3_attribute(t,"title",n),t):null}function w3int_link_click(e,n,t){console.log("w3int_link_click cb="+n+" cb_param="+t),console.log(e);var i=e.currentTarget;console.log(i),w3_check_restart_reboot(i),n&&w3_call(n,i,t,!1),w3int_post_action()}function w3_link(e,n,t,i,l,r){var o,_=n;n.startsWith("javascript:")?o="":(""==n||n.startsWith("http://")||n.startsWith("https://")||(_="http://"+n),o=' target="_blank"'),t=t||"",""!=(i=i||"")&&(i=" title="+dq(i));var a=l&&""!=l?"w3-pointer":"";r=r||0;var c=l?' onclick="w3int_link_click(event, '+sq(l)+", "+sq(r)+')"':"",s=w3_psa(e,a,"","href="+dq(_)+o+i+c),w=e.includes("w3-esc-html"),u=w?kiwi.esc_lt:"<",d=w?kiwi.esc_gt:">";return u+"a "+s+d+t+u+"/a"+d}function w3_link_set(e,n){var t=w3_el(e);t&&""!=n&&(n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),w3_attribute(t,"href",n))}var w3_SELECTED=!0,w3_NOT_SELECTED=!1;function w3_radio_unhighlight(e){w3_iterate_classname("id-"+e,function(e){w3_unhighlight(e)})}function w3int_radio_click(e,n,t,i){w3_radio_unhighlight(n),w3_highlight(e.currentTarget);var l=-1;w3_iterate_classname("id-"+n,function(e,n){w3_isHighlighted(e)&&(l=n)}),w3_check_restart_reboot(e.currentTarget),t&&w3_call(t,n,l,!1,i),w3int_post_action()}function w3_radio_btn(e,n,t,i,l){l=arguments.length>4?arguments[4]:null;return'<button class="w3-btn w3-ext-btn'+(" id-"+n+(t?" "+w3_highlight_color:"")+(l?" "+l:""))+'" '+('onclick="w3int_radio_click(event, '+sq(n)+", "+sq(i)+')"')+">"+e+"</button>"}function w3_radio_button(e,n,t,i,l,r){r=r||0;var o=l?'onclick="w3int_radio_click(event, '+sq(t)+", "+sq(l)+", "+sq(r)+')"':"";return"<button "+w3_psa(e,"id-"+t+(i?" "+w3_highlight_color:"")+" w3-btn w3-ext-btn","",o)+">"+n+"</button>"}function w3_radio_button_get_param(e,n,t,i,l,r,o){return w3_radio_button(e,n,t,ext_get_cfg_param(t,null==l?null:l)==i?w3_SELECTED:w3_NOT_SELECTED,r,o)}var w3_SWITCH_YES_IDX=0,w3_SWITCH_NO_IDX=1;function w3_switch(e,n,t,i,l,r,o){return w3_radio_button(w3_psa_mix(e,"w3int-switch-0"),n,i,l?1:0,r,o)+w3_radio_button(w3_psa_mix(e,"w3int-switch-1"),t,i,l?0:1,r,o)}function w3_switch_get_param(e,n,t,i,l,r,o,_){var a=ext_get_cfg_param(i,null==r?null:r)==l?w3_SELECTED:w3_NOT_SELECTED;return w3_radio_button(w3_psa_mix(e,"w3int-switch-0"),n,i,a?1:0,o,_)+w3_radio_button(w3_psa_mix(e,"w3int-switch-1"),t,i,a?0:1,o,_)}function w3_switch_set_value(e,n){var t="w3int-switch-"+n;w3_iterate_classname("id-"+e,function(e,n){w3_contains(e,t)&&e.click()})}function w3int_button_click(e,n,t,i){w3_contains(n,"w3-disabled")||(w3_check_restart_reboot(e.currentTarget),t&&w3_call(t,n,i,!1)),w3int_post_action()}var w3int_btn_grp_uniq=0;function w3_btn(e,n){return console.log("### DEPRECATED: w3_btn"),w3_button("",e,n)}function w3_cb_param_encode(e){return isArg(e)?isObject(e)?encodeURIComponent(JSON.stringify(e)):e:0}function w3_cb_param_decode(e){if(!isArg(e))return 0;var n;if(isString(e)&&"{"==(e=decodeURIComponent(e))[0]){try{n=JSON.parse(e)}catch(n){return e}return n}return e}function w3int_button(e,n,t,i,l){l=w3_cb_param_encode(l);var r=i?'onclick="w3int_button_click(event, '+sq(n)+", "+sq(i)+", "+sq(l)+')"':"";i&&e.includes("w3-momentary")&&(r+=' onmousedown="w3int_button_click(event, '+sq(n)+", "+sq(i)+', 0)"',r+=' ontouchstart="w3int_button_click(event, '+sq(n)+", "+sq(i)+', 0)"');var o=e.includes("w3-round")||e.includes("w3-circle")?"":" w3-round-large",_=w3_psa3(e),a=w3_psa(_.left),c=w3_psa(_.right,n+" w3-btn w3-ext-btn"+o,"",r);e.includes("w3-dump")&&(console.log("w3_button"),console.log(_),console.log("psa_outer="+a),console.log("psa_inner="+c));var s="<button "+c+">"+t+"</button>";return""!=a&&(s="<div "+a+">"+s+"</div>"),a.includes("w3-dump")&&console.log(s),s}function w3_button(e,n,t,i){var l="id-btn-grp-"+w3int_btn_grp_uniq.toString();return w3int_btn_grp_uniq++,w3int_button(e,l,n,t,i)}function w3_button_path(e,n,t,i,l){return w3int_button(e,n,t,i,l)}function w3_button_text(e,n,t,i){var l=w3_el(e);return l?(l.innerHTML=n,t&&(t.startsWith("w3-")?(w3_remove(l,i),w3_add(l,t)):l.style.color=t),l):null}function w3_icon(e,n,t,i,l,r){var o=l&&""!=l?" w3-pointer":"",_="id-btn-grp-"+w3int_btn_grp_uniq.toString();w3int_btn_grp_uniq++,r=r||0;var a=null;isNumber(t)&&t>=0?a=px(t):isString(t)&&(a=t),a=a?" font-size:"+a+";":"";var c=(i=i||"").split("|");i="",""!=c[0]&&(i=" color:"+c[0]+";"),c.length>=2&&""!=c[1]&&(i+=" background-color:"+c[1]+";");var s=l?'onclick="w3int_button_click(event, '+sq(_)+", "+sq(l)+", "+sq(r)+')"':"";return l&&e.includes("w3-momentary")&&(s+=' onmousedown="w3int_button_click(event, '+sq(_)+", "+sq(l)+', 0)"',s+=' ontouchstart="w3int_button_click(event, '+sq(_)+", "+sq(l)+', 0)"'),"<i "+w3_psa(e,_+o+" fa "+n,a+i,s)+"></i>"}function w3int_input_keydown(e,n,t){var i,l,r=e.key.toUpperCase(),o=e.ctrlKey,_=w3_el(n);if(_){var a=w3_contains(_,"w3-trace");a&&console.log("w3int_input_keydown k="+r+(o?" CTL ":"")+" val=<"+_.value+"> cb="+t);var c=t.split("|");o&&"CD\\".includes(r)&&c[1]&&w3_call(c[1],r);var s=w3_contains(_,"w3-input-any-change");if("Enter"==e.key)if(s){for(l=_.value,i=_.selectionStart;i<_.textLength&&"\n"==l.charAt(i);i++);if(i==_.textLength){for(;l.endsWith("\n");)l=l.slice(0,-1);w3_set_value(_,l)}a&&console.log("ss="+_.selectionStart+" se="+_.selectionEnd+" tl="+_.textLength),(_.selectionStart==_.selectionEnd&&_.selectionStart==_.textLength||0==_.selectionStart&&_.selectionEnd==_.textLength)&&(a&&console.log("w3_input_change..."),w3_input_change(n,t,"kd"))}else""==_.value&&w3_input_change(n,t,"kd");"Backspace"==e.key&&s&&0==_.selectionStart&&_.selectionEnd==_.value.length&&(_.value="",w3_input_change(n,t,"kd"))}}function w3int_input_keyup(e,n,t){}function w3_input_change(e,n,t){var i=w3_el(e);if(i&&(w3_contains(i,"w3-trace")&&console.log("w3_input_change path="+e),w3_check_restart_reboot(i),w3_schedule_highlight(i),n)){var l=n.split("|");isArg(t)&&l.push(t),w3_call(l[0],e,i.value,!1,l)}w3_contains(i,"w3-retain-input-focus")||w3_contains(i,"w3-ext-retain-input-focus")?w3_field_select(e,{mobile:1}):w3int_post_action()}function w3_input(e,n,t,i,l,r){var o=e.includes("w3-dump"),_=w3_add_id(t);l=l||"";var a=r?'placeholder="'+r+'"':"",c=e.includes("w3-custom-events"),s=' onchange="w3_input_change('+sq(t)+", "+sq(l)+", "+sq("ev")+')"',w=' onkeydown="w3int_input_keydown(event, '+sq(t)+", "+sq(l)+')"',u=' onkeyup="w3int_input_keyup(event, '+sq(t)+", "+sq(l)+')"',d=t&&!c?s+w+u:"";i=" value="+dq(w3_esc_dq(i)||"");var v=e.includes("w3-label-inline"),f=!e.includes("w3-label-not-bold"),h=""!=(n=n||"")&&v?"w3int-margin-input":"",g=w3_psa3(e);o&&console.log(g);var p=w3_psa(g.left,v?"w3-show-inline-new":""),m=w3_psa_mix(g.middle,""!=n&&f?"w3-bold":""),b=e.includes("w3-no-styling")?"":"w3-input w3-border w3-hover-shadow",x=g.right.includes("type=")?"":'type="text"',y=w3_psa(g.right,w3_sb(_,b,h),"",w3_sb(x,a));return o&&console.log("O:["+p+"] L:["+m+"] I:["+y+"]"),"<div "+p+">"+w3_label(m,n,t)+"<input id="+dq(_)+" "+y+i+d+"></div>"}function w3_input_get(e,n,t,i,l,r){var o=ext_get_cfg_param(t,null==l?null:l);return w3_input(e,n,t,o=kiwi_decodeURIComponent("w3_input_get:"+t,o),i,r)}function w3_input_get_param(e,n,t,i,l){var r=ext_get_cfg_param(n,null==i?null:i);return w3_input("",e,n,r=kiwi_decodeURIComponent("w3_input_get_param:"+n,r),t,l)}function w3_textarea(e,n,t,i,l,r,o){var _=w3_add_id(t),a=""!=n?" w3-margin-T-8":"",c=e.includes("w3-input-any-change")?"":' onchange="w3_input_change('+sq(t)+", "+sq(o)+')"',s=' onkeydown="w3int_input_keydown(event, '+sq(t)+", "+sq(o)+')"',w=' onkeyup="w3int_input_keyup(event, '+sq(t)+", "+sq(o)+')"',u=(i=i||"",!e.includes("w3-label-not-bold")),d=w3_psa3(e),v=w3_psa_mix(d.middle,""!=n&&u?"w3-bold":""),f=w3_psa(d.right,"w3-input w3-border w3-hover-shadow "+_+a,"","rows="+dq(l)+" cols="+dq(r));return w3_div(d.left,w3_label(v,n,t)+"<textarea "+f+c+s+w+">"+i+"</textarea>")}function w3_textarea_get_param(e,n,t,i,l,r,o){var _=ext_get_cfg_param(t,null==o?null:o);return w3_textarea(e,n,t,_=kiwi_decodeURIComponent("w3_textarea_get_param:"+t,_),i,l,r)}function w3int_checkbox_change(e,n,t){var i=w3_el(e);w3_check_restart_reboot(i),n&&(w3_schedule_highlight(i),w3_call(n,e,i.checked,!1,t)),w3_contains(i,"w3-retain-input-focus")||w3_contains(i,"w3-ext-retain-input-focus")?w3_field_select(e,{mobile:1}):w3int_post_action()}function w3_checkbox(e,n,t,i,l,r){var o=w3_add_id(t),_=' onchange="w3int_checkbox_change('+sq(t)+", "+sq(l)+", "+sq(r)+')"',a=i?" checked":"",c=e.includes("w3-label-inline"),s=e.includes("w3-label-left"),w=!e.includes("w3-label-not-bold"),u=""!=n&&c?s?" w3-margin-L-8":" w3-margin-R-8":"",d=w3_psa3(e),v=w3_psa(d.left,c?"w3-show-inline-new":""),f=w3_psa_mix(d.middle,""!=n&&w?"w3-bold":""),h=w3_psa(d.right,"w3-input w3-width-auto w3-border w3-pointer w3-hover-shadow "+o+u,"",'type="checkbox"'),g=w3_label(f,n,t),p="<input "+h+a+_+">",m="<div "+v+">"+(s?g+p:p+g)+"</div>";return l&&setTimeout(function(){w3_call(l,t,i,!0,r)},500),m}function w3_checkbox_get_param(e,n,t,i,l){return w3_checkbox(e,n,t,ext_get_cfg_param(t,null==l?null:l),i)}function w3_checkbox_get(e){var n=w3_el(e);if(n)return!!n.checked}function w3_checkbox_set(e,n){var t=w3_el(e);t&&(t.checked=!!n)}var W3_SELECT_SHOW_TITLE=-1;function w3int_select_change(e,n,t,i){var l=e.currentTarget;w3_check_restart_reboot(l),t&&w3_call(t,n,l.value,!1,i),w3int_post_action()}function w3int_select(e,n,t,i,l,r,o,_){var a=w3_add_id(i),c="";""!=t?t.split("<br>").forEach(function(e,n){c+='<option value="-1" '+(l==W3_SELECT_SHOW_TITLE&&0==n?"selected":"")+" disabled>"+e+"</option>"}):l==W3_SELECT_SHOW_TITLE&&(l=0);var s=e.includes("w3-label-inline"),w=!e.includes("w3-label-not-bold"),u=""==n||s?"":" w3-margin-T-8";s&&(u+=" w3-margin-left"),null==o&&(o="");var d='onchange="w3int_select_change(event, '+sq(i)+", "+sq(o)+", "+sq(_)+')"',v=w3_psa3(e),f=w3_psa(v.left,s?"w3-show-inline-new":""),h=w3_psa_mix(v.middle,""!=n&&w?"w3-bold":""),g=w3_psa(v.right,a+" w3-select-menu"+u,"",d),p="<div "+f+">"+w3_label(h,n,i)+(s||""==n?"":"<br>")+"<select "+g+">"+c+r+"</select></div>";return o&&l!=W3_SELECT_SHOW_TITLE&&setTimeout(function(){w3_call(o,i,l,!0,_)},500),p}function w3int_select_options(e,n,t){var i="";if(isString(n)){var l=n.split(":");if(2==l.length)for(var r=+l[0],o=+l[1],_=0,a=r;a<=o;a++)i+="<option value="+dq(_)+" "+(_==e?"selected":"")+">"+a+"</option>",_++}else isArray(n)?n.forEach(function(n,l){if(null!=n){if(isObject(n)){var r=isDefined(n.name);if(r&&!t&&""==n.name)return;n=r?n.name:w3_obj_seq_el(n,0)}i+="<option value="+dq(l)+" "+(l==e?"selected":"")+">"+n+"</option>"}}):isObject(n)&&w3_obj_enum(n,function(n,l,r){var o,_,a=!1;if(isObject(r)){o=isDefined(r.value)?r.value:l;var c=isDefined(r.name);if(c&&!t&&""==r.name)return;_=c?r.name:n,isDefined(r.disabled)&&r.disabled&&(a=!0)}else o=l,_=r;i+="<option value="+dq(o)+(l==e?" selected":"")+(a?" disabled":"")+">"+_+"</option>\n"});return null==e&&(i+="<option value=-1 selected disabled>(unknown)</option>\n"),i}function w3_select(e,n,t,i,l,r,o,_){var a=w3int_select_options(l,r,e.includes("w3-show-empty"));return e.includes("w3-dump")&&console.log(a),w3int_select(e,n,t,i,l,a,o,_)}function w3int_select_hier(e,n,t,i,l,r,o,_,a){var c="",s=0;if(isObject(o))return w3_obj_enum(o,function(e,n,t){isNumber(+e)||(as=e.split("_"),as.forEach(function(e){e&&""==e||(c+="<option value="+dq(s++)+" disabled>"+e+"</option> ")})),isArray(t)&&t.forEach(function(e,t){if(!(r&&t>=r)){var i=w3_first_value(e);if("null"!=i){var l=w3_second_value(e),o=l?" class="+dq(l):"";c+="<option value="+dq(s++)+' id="id-'+n+"-"+t+'"'+o+">"+i.toString()+"</option> "}}})}),w3int_select(e,n,t,i,l,c,_,a)}function w3_select_hier(e,n,t,i,l,r,o,_){return w3int_select_hier(e,n,t,i,l,0,r,o,_)}function w3_select_hier_collapse(e,n,t,i,l,r,o,_,a){return w3int_select_hier(e,n,t,i,l,r,o,_,a)}function w3_select_conditional(e,n,t,i,l,r,o,_){var a="",c=0;if(isArray(r))return r.forEach(function(e){isArray(e)&&(a+="<option value="+dq(c++)+" "+(e[1]?"":"disabled")+">"+e[0]+"</option> ")}),w3int_select(e,n,t,i,l,a,o,_)}function w3_select_set_disabled(e,n,t){w3_iterate_children("id-"+e,function(e,i){e.value==n&&(e.disabled=!!t)})}function w3_select_get_param(e,n,t,i,l,r,o){return w3_select(e,n,t,i,ext_get_cfg_param(i,null==o?0:o),l,r)}function w3_select_enum(e,n){(e=w3_el(e))&&w3_iterate_children(e,n)}function w3_select_value(e,n,t){if(w3_opt(t,"all"))w3_els(e,function(e){e.value=n});else{var i=w3_el(e);if(!i)return;i.value=n}}function w3_select_set_if_includes(e,n){var t=!1,i=RegExp(n);return w3_select_enum(e,function(n){i.test(n.innerHTML)&&(t||(w3_select_value(e,n.value),t=!0))}),t}function w3int_slider_change(e,n,t,i,l){var r=e.currentTarget;w3_check_restart_reboot(r),i&&w3_call(i,t,r.value,n,!1,l),n&&w3int_post_action()}function w3_slider_old(e,n,t,i,l,r,o){t=null==t?"":w3_strip_quotes(t);var _='oninput="w3int_slider_change(event, 0, '+sq(n)+", "+sq(o)+')" ',a='onchange="w3int_slider_change(event, 1, '+sq(n)+", "+sq(o)+')" ',c=w3_label("w3-bold",e,n)+'<br><input id="id-'+n+'" class="" value=\''+t+'\' type="range" min="'+i+'" max="'+l+'" step="'+r+'" '+_+a+">";return o&&setTimeout(function(){w3_call(o,n,t,!0,!0)},500),c}function w3_slider(e,n,t,i,l,r,o,_,a){var c=w3_add_id(t),s=e.includes("w3-label-inline"),w=!e.includes("w3-label-not-bold"),u=""!=n&&s?" w3-margin-L-8":"";s&&(u+=" w3-margin-left"),value=null==i?"":w3_strip_quotes(i),value="value="+dq(value),a=a||0;var d=' oninput="w3int_slider_change(event, 0, '+sq(t)+", "+sq(_)+", "+sq(a)+')"',v=' onchange="w3int_slider_change(event, 1, '+sq(t)+", "+sq(_)+", "+sq(a)+')"',f=w3_psa3(e),h=w3_psa(f.left,s?"w3-show-inline-new":""),g=w3_psa_mix(f.middle,""!=n&&w?"w3-bold":""),p=w3_psa(f.right,c+u,"",value+' type="range" min='+dq(l)+" max="+dq(r)+" step="+dq(o)+d+v),m="<div "+h+">"+w3_label(g,n,t)+(s||""==n?"":"<br>")+"<input "+p+"></div>";return _&&setTimeout(function(){w3_call(_,t,i,!0,!0,a)},500),m}function w3_slider_set(e,n,t){w3_set_value(e,n),w3_call(t,e,n,!0,!1)}function w3_slider_setup(e,n,t,i,l){var r=w3_el(e);return r?(r.min=n,r.max=t,r.step=i,r.value=l,r):r}function w3_menu(e,n){var t=e.replace(/\s+/g," ").split(" |")[0];n=n||"";var i="<div "+w3_psa(e,"w3-menu w3-menu-container w3-round-large","",'onclick="w3int_menu_onclick(event, '+sq(t)+", "+sq(n)+')" oncontextmenu="w3int_menu_onclick(event, '+sq(t)+", "+sq(n)+')"')+"></div>";w3_el("id-w3-main-container").innerHTML+=i}function w3_menu_items(e,n,t){w3int.menu_debug&&canvas_log("w3_menu_items cur="+w3int.menu_cur_id),w3_menu_close(),w3int.menu_cur_id=e;var i,l,r,o="",_=0;if(isArray(n))r=n;else{r=[];for(var a=1;a<arguments.length;a++)r.push(arguments[a])}w3int.menu_debug&&canvas_log("#="+r.length);for(a=0;a<r.length;a++){if(w3int.menu_debug&&canvas_log("i="+a+" "+r[a]),null!=r[a])i="w3-menu ",l="id="+dq(_),"<hr>"==r[a]?(i+="w3-menu-item-hr",_++):"!"==r[a].charAt(0)?(i+="w3-menu-item-disabled",r[a]=r[a].substr(1),_++):(i+="w3-menu-item",_++,kiwi_isMobile()||(i+=" w3-menu-item-hover")),o+=w3_div(w3_psa_mix("",i,"",l),r[a])}w3int.menu_debug&&canvas_log("s#="+o.length);var c=w3_el(e);c.innerHTML=o,w3int.menu_debug&&canvas_log("BUILD"),t=t||r.length,r.length>t?(c.style.height=px(27.5*t+16),w3_add(c,"w3-scroll-always-y")):(c.style.height="",w3_remove(c,"w3-scroll-always-y")),kiwi_isMobile()&&(mobile_laptop_test&&console.log("w3_menu_items MOBILE "+e),w3_iterate_children(e,function(e,n){e.addEventListener("touchmove",w3int_menu_touch_move,!1),mobile_laptop_test&&e.addEventListener("mousemove",w3int_menu_mouse_move,!1)}))}function w3int_menu_mouse_move(e){w3int_menu_move("MMM",Math.round(e.pageX),Math.round(e.pageY))}function w3int_menu_touch_move(e){w3int_menu_move("MTM",Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY))}function w3int_menu_move(e,n,t){var i=document.elementFromPoint(n,t);if(i&&!w3_isScrolling(w3int.menu_cur_id)){var l=!i||!w3_contains(i,"w3-menu-item");w3int.prev_menu_hover_el&&(l||i!=w3int.prev_menu_hover_el)&&(w3int.prev_menu_hover_el.style.background="",w3int.prev_menu_hover_el.style.color="",l)||(i.style.background="rgb(79, 157, 251)",i.style.color="white",w3int.prev_menu_hover_el=i)}}function w3_menu_popup(e,n,t,i){var l=w3_el(e);t=t||window.innerWidth/2,i=i||window.innerHeight/2;l.w3_realigned=!1,t+l.clientWidth+16>window.innerWidth&&(t=window.innerWidth-l.clientWidth-16,l.w3_realigned_time=Date.now(),l.w3_realigned=!0),l.style.left=px(t),i+l.clientHeight+16>window.innerHeight&&(i=window.innerHeight-l.clientHeight-16,l.w3_realigned_time=Date.now(),l.w3_realigned=!0),l.style.top=px(i),w3_visible(l,!0),w3int.menu_debug&&canvas_log("VIS"),w3int.menu_active=!0,l.w3_menu_x=t,w3int.menu_close_func=n,w3int.menu_first=!0,window.addEventListener("keyup",w3int_menu_event,!1),window.addEventListener("click",w3int_menu_event,!1)}function w3_menu_active(){return w3int.menu_active}function w3int_menu_onclick(e,n,t,i){w3int.menu_debug&&canvas_log("OC "+n+" "+i);var l=w3_el(n);if(l.w3_realigned){l.w3_realigned=!1;var r=Date.now()-l.w3_realigned_time;if(r<50)return w3int.menu_debug&&canvas_log("XRe"+r),cancelEvent(e);w3int.menu_debug&&canvas_log("XOK"+r)}if(w3_visible(l,!1),w3int.menu_debug&&canvas_log("NOT_VIS"),w3int.menu_active=!1,window.removeEventListener("keyup",w3int_menu_event,!1),window.removeEventListener("click",w3int_menu_event,!1),null!=e&&null!=t){var o=e.target.id,_=+o;(""==o||isNaN(_))&&(o=e.target.parentNode.id),_=+o,(""==o||isNaN(_))&&(_=-1),w3int.menu_debug&&canvas_log("CALL:"+_),w3_call(t,_,l.w3_menu_x,i)}if(null!=e)return w3int.menu_debug&&canvas_log("Enull"),cancelEvent(e)}function w3int_menu_event(e){if(w3int.menu_debug&&canvas_log("ME "+e.type),w3_el(w3int.menu_cur_id)&&w3int.menu_close_func){var n=w3int.menu_close_func(e,w3int.menu_first);w3int.menu_first=!1,w3int.menu_debug&&canvas_log("CLOSE="+n),n&&w3_menu_close()}}function w3_menu_close(){if(w3int.menu_cur_id){var e=w3_el(w3int.menu_cur_id);e&&(e.w3_realigned=!1,w3int_menu_onclick(null,w3int.menu_cur_id,null,1138),w3int.menu_cur_id=null)}}function w3_num_cb(e,n){var t=parseFloat(n);""==n&&(t=0),isNaN(t)&&(w3_set_value(e,0),t=0),setVarFromString(e,t)}function w3_bool_cb(e,n){v=+n,setVarFromString(e,v)}function w3_string_cb(e,n){setVarFromString(e,n.toString())}function w3_num_set_cfg_cb(e,n,t){var i=parseFloat(n);isNaN(i)&&(i=0),ext_set_cfg_param(e,i,null==t||!t)}function w3_int_set_cfg_cb(e,n,t){var i=parseInt(n);isNaN(i)&&(i=0),w3_set_value(e,i),ext_set_cfg_param(e,i,null==t||!t)}function w3_float_set_cfg_cb(e,n,t,i){var l=-1;if(i&&i.length>=2&&(l=+i[1],isNaN(l)&&(l=-1)),n=parseFloat(n),isNaN(n))n=ext_get_cfg_param(e);else{if(-1!=l){var r=n.toFixed(l);n=+r}ext_set_cfg_param(e,n,!0)}w3_set_value(e,n)}function w3_bool_set_cfg_cb(e,n,t){var i;i=1==n||1==n,ext_set_cfg_param(e,i,null==t||!t)}function w3_string_set_cfg_cb(e,n,t){var i=null==t||!t;ext_set_cfg_param(e,encodeURIComponent(n.toString()),i)}function w3_json_set_cfg_cb(e,n,t){ext_set_cfg_param(e,n,null==t||!t)}function w3_remove_trailing_index(e,n){n=n||"-";var t,i=new RegExp("(.*)"+n+"([-]?[0-9]+)").exec(e);return i?(t=i[2],i=i[1]):(t=null,i=e),{el:i,idx:t}}var w3_MENU_NEXT=1,w3_MENU_PREV=-1;function w3_select_next_prev_cb(e,n,t){dbgUs&&console.log("w3_select_next_prev_cb cb_param="+decodeURIComponent(n));var i=w3_cb_param_decode(n);if(isObject(i)){dbgUs&&console.log("w3_select_next_prev_cb dir="+i.dir+" id="+i.id);for(var l,r,o=0,_=0,a=0,c=0,s=0;null!=(r=w3_el(l=i.id+s));s++){var w=r.value;if(dbgUs&&console.log("menu_s="+l+" value="+w),-1!=w){w3_select_enum(l,function(e){var n=isUndefined(i.isNumeric)||1==i.isNumeric&&isNumber(parseInt(e.innerText));!e.disabled&&n&&(dbgUs&&console.log("consider val="+e.value+' "'+e.innerText+'" content_check='+n),_&&(a=e.value,_=0),e.value===w&&(c=o,_=1),o=e.value)});break}}dbgUs&&console.log("i="+s+" captured_prev="+c+" captured_next="+a),w=0,i.dir==w3_MENU_NEXT&&a&&(w=a),i.dir==w3_MENU_PREV&&c&&(w=c),dbgUs&&console.log("w3_select_next_prev_cb val="+w),w3_call(i.func,l,w,t)}else console.log("w3_select_next_prev_cb cb_param is not an object")}function w3_table(e){for(var n="<table "+w3_psa(e,"w3-table w3-table-default")+">",t=1;t<arguments.length;t++)n+=arguments[t];return n+="</table>"}function w3_table_heads(e){for(var n=w3_psa(e,"w3-table-head"),t="",i=1;i<arguments.length;i++)null!=arguments[i]&&(t+="<th "+n+">",t+=arguments[i],t+="</th>");return t}function w3_table_row(e){for(var n="<tr "+w3_psa(e,"w3-table-row")+">",t=1;t<arguments.length;t++)null!=arguments[t]&&(n+=arguments[t]);return n+="</tr>"}function w3_table_cells(e){for(var n=w3_psa(e,"w3-table-cell"),t="",i=1;i<arguments.length;i++)null!=arguments[i]&&(t+="<td "+n+">",t+=arguments[i],t+="</td>");return t}function w3_inline(e,n){var t=arguments.length;if(""==e&&""==n&&t>2){console.log("### w3_inline OLD API DEPRECATED");var i=Array.prototype.splice.call(arguments,0);return i.splice(0,1),w3_inline.apply(null,i)}for(var l=w3_psa3(e),r=w3_psa(l.middle,"w3-show-inline-new"),o=w3_psa(l.right),_="<div w3d-inlo "+r+">",a=1;a<t;a++){var c=arguments[a];if(c){var s=!1;c.startsWith("w3-")||c.startsWith("id-")?(e=w3_psa(l.right,c),c=arguments[++a],s=!0):e=o,""==l.right&&!s&&c.startsWith("<div ")?_+=c:_+="<div w3d-inli-"+(a-1)+" "+e+">"+c+"</div>"}}return _+="</div>"}function w3_inline_percent(e){for(var n=w3_psa3(e),t=w3_psa(n.middle,"w3-show-inline-new"),i=arguments.length,l=0,r=e.includes("w3-debug")?"w3_debug ":"",o=e.includes("w3-last-halign-end"),_="<div w3d-inlpo "+t+">",a=1;a<i;a+=2){var c;a+1<i?(c="flex-basis:"+arguments[a+1]+"%",l+=arguments[a+1]):c="flex-basis:"+(100-l)+"%",a==i-1&&o&&(r+="w3-flex w3-halign-end"),_+="<div w3d-inlpi-"+(a-1)/2+" "+w3_psa(n.right,r,c)+">"+arguments[a]+"</div>"}return _+="</div>"}function w3_div(e){for(var n="<div w3d-div "+w3_psa(e)+">",t=arguments.length,i=1;i<t;i++)n+=arguments[i];return n+="</div>"}function w3_span(e){for(var n="<div w3d-span "+w3_psa(e,"w3-show-span")+">",t=arguments.length,i=1;i<t;i++)n+=arguments[i];return n+="</div>"}function w3_divs(e,n){var t,i,l=arguments.length;if(""==e&&""==n)return console.log("### w3_divs OLD API 1 DEPRECATED"),t=w3_div.apply(null,Array.prototype.splice.call(arguments,1));if(""!=e&&""==n&&l>2)return console.log("### w3_divs OLD API 2 DEPRECATED"),(i=Array.prototype.splice.call(arguments,0)).splice(1,1),t=w3_div.apply(null,i);if(""==e&&n&&n.startsWith("w3-")&&l>2)return console.log("### w3_divs OLD API 3 DEPRECATED"),(i=Array.prototype.splice.call(arguments,0)).splice(0,1),t=w3_divs.apply(null,i);if(""!=e&&n&&n.startsWith("w3-")&&l>2)return console.log("### w3_divs OLD API 4 DEPRECATED"),(i=Array.prototype.splice.call(arguments,2)).splice(0,0,arguments[0]+"/"+arguments[1]),t=w3_divs.apply(null,i);var r=w3_psa3(e),o=w3_psa(r.middle),_=w3_psa(r.right);t="<div w3d-divso "+o+">";for(var a=1;a<l;a++)t+="<div w3d-divsi-"+(a-1)+" "+_+">"+arguments[a]+"</div>";return t+="</div>"}function w3_col_percent(e){for(var n=w3_psa3(e),t=w3_psa(n.middle,"w3-row"),i=arguments.length,l="<div w3d-colpo "+t+">",r=1;r<i;r+=2){var o,_;r+1<i?(o="w3-col",_="width:"+arguments[r+1]+"%"):(o="w3-rest",_=""),l+="<div w3d-colpi-"+(r-1)/2+" "+w3_psa(n.right,o,_)+">"+arguments[r]+"</div>"}return l+="</div>"}function w3_text(e,n){var t=e.includes("w3-padding")||e.includes("w3-nopad")?"":"padding:0 4px 0 0; ";return w3_div(w3_psa_mix(e,"w3-text",t+"background-color:inherit"),n||" ")}function w3_code(e,n){for(var t=arguments.length,i='<pre class="'+e+'"><code>',l=2;l<t;l++)i+='<div class="'+n+'">'+arguments[l]+"</div>";return i+="</code></pre>"}function w3_half(e,n,t,i,l,r){return null==l&&(l=""),null==r&&(r=""),'<div class="w3-row '+e+'"><div class="w3-col w3-half '+n+l+'">'+t+'</div><div class="w3-col w3-half '+n+r+'">'+(i||"")+"</div></div>"}function w3_third(e,n,t,i,l){return'<div class="w3-row '+e+'"><div class="w3-col w3-third '+n+'">'+t+'</div><div class="w3-col w3-third '+n+'">'+(i||"")+'</div><div class="w3-col w3-third '+n+'">'+(l||"")+"</div></div>"}function w3_quarter(e,n,t,i,l,r){return'<div class="w3-row '+e+'"><div class="w3-col w3-quarter '+n+'">'+t+'</div><div class="w3-col w3-quarter '+n+'">'+(i||"")+'</div><div class="w3-col w3-quarter '+n+'">'+(l||"")+'</div><div class="w3-col w3-quarter '+n+'">'+(r||"")+"</div></div>"}function w3_canvas(e,n,t,i){var l="",r=w3_opt(i,"pad",null),o=w3_opt(i,"pad_top",0),_=w3_opt(i,"pad_bottom",0);isNull(r)||(o=_=r),(r=o+_)&&(l+=sprintf(" padding-top:%dpx; padding-bottom:%dpx;",o,_));var a=w3_opt(i,"left","");""!=a&&(l+=sprintf(" left:%dpx;",a));var c=w3_opt(i,"right","");""!=c&&(l+=sprintf(" right:%dpx;",c));var s=w3_opt(i,"top","");return""!=s&&(l+=sprintf(" top:%dpx;",s)),l="<canvas "+w3_psa(e,null,"position:absolute;"+l,sprintf('width="%d" height="%d"',n,t))+"></canvas>"}




/* web/kiwi/monitor.min.js */
var monitor={init:!1};function kiwi_queue_cb(){kiwi.queued^=1,w3_innerHTML("id-queue-button",kiwi.queued?"Exit queue":"Enter queue"),kiwi.queued||w3_innerHTML("id-queue-pos",""),msg_send("SET MON_QSET="+(kiwi.queued?1:0))}function kiwi_monitor(){console.log("n_camp="+cfg.n_camp);var e=cfg.n_camp?"To camp (listen) to the audio of an existing connection <br>click on one of the channel links below.":"No audio camping allowed on this Kiwi.",i=w3_div("",w3_text("w3-text-black","All Kiwi channels busy. Click button to wait in queue for an available channel."),w3_inline("w3-margin-L-8 w3-margin-T-4/w3-margin-right w3-valign",w3_button("id-queue-button w3-medium w3-padding-smaller w3-green","Enter queue","kiwi_queue_cb"),w3_text("id-queue-pos w3-text-black"),w3_button("id-queue-button w3-medium w3-padding-smaller w3-yellow","Reload page","kiwi_queue_reload_cb")),w3_text("id-queue-status w3-margin-T-4 w3-text-black",""),w3_div("id-camp-container",w3_hr("w3-margin-16"),w3_text("w3-margin-T-4 w3-text-black w3-show-block",e),w3_text("id-camp-status w3-margin-T-4 w3-text-black","")),w3_hr("w3-margin-16"),w3_div("id-users-list w3-margin-T-10"));kiwi_show_msg(i),kiwi.unmuted_color="mediumSeaGreen",users_init({monitor:1}),pwd_prot=chan_no_pwd_true?rx_chans-chan_no_pwd_true:0,console.log("rx_chans="+rx_chans+" chan_no_pwd_true="+chan_no_pwd_true+" pwd_prot="+pwd_prot);var n=plural(pwd_prot," channel"),t=1==pwd_prot?"is":"are";pwd_prot?(i="<br>Note that "+pwd_prot+n+" on this Kiwi "+t+" password protected. <br>This is why you may see empty channels you cannot access.",w3_innerHTML("id-queue-status",i)):w3_innerHTML("id-queue-status",""),setInterval(function(){msg_send("SET keepalive"),kiwi.queued&&msg_send("SET MON_QPOS")},2500),ws_any().msg_cb=function(e){var i=e[1]?e[1].split(","):null;switch(e[0]){case"qpos":var n=i[0],t=i[1];+i[2]&&kiwi_queue_reload_cb();var a="";kiwi.queued&&(a+="You are "+n+" of "+t+" in queue."),w3_innerHTML("id-queue-pos",a);break;case"camp":var o=+i[0],_=+i[1];o?(monitor.init||(check_suspended_audio_state(),monitor.init=!0),a=w3_div("",w3_inline("w3-margin-T-4/w3-margin-right w3-valign",w3_text("id-queue-pos w3-text-black","Camping on RX"+_),w3_button("w3-medium w3-padding-smaller w3-red","Stop","kiwi_camp_stop_cb"),w3_slider("w3-margin-L-16/w3-label-inline w3-label-not-bold/","Volume","kiwi.volume",kiwi.volume,0,200,1,"setvolume"),w3_div('|background-color: #e0e0e0; padding:2px; border-radius:8px|title="mute"',w3_div("id-mute-no fa-stack|width:28px; color:"+kiwi.unmuted_color,w3_icon("","fa-volume-up fa-stack-2x fa-nudge-up",24,"inherit","toggle_or_set_mute")),w3_div("id-mute-yes fa-stack w3-hide|width:28px;color:magenta;",w3_icon("","fa-volume-off fa-stack-2x fa-nudge-left fa-nudge-up",24,"","toggle_or_set_mute"),w3_icon("","fa-times fa-right",12,"","toggle_or_set_mute"))))+w3_div("id-control-smeter w3-margin-T-4"))):(a="Too many campers on channel RX"+_,_=-1),kiwi_camp_update(_,a),-1!=_&&smeter_init(!0),toggle_or_set_mute(0);break;case"camp_stop":kiwi_camp_stop_cb();break;default:owrx_msg_cb(e)}}}function kiwi_queue_reload_cb(){var e=kiwi_remove_search_param(window.location.href,"camp");window.location.href=e}function kiwi_camp_update(e,i){w3_innerHTML("id-camp-status",i);for(var n=0;n<rx_chans;n++){var t=w3_el("id-user-"+n);w3_remove(t,"w3-green"),n==e&&w3_add(t,"w3-green")}}function camp(e,i,n,t){console.log("camp ch"+e),cfg.n_camp&&msg_send("SET MON_CAMP="+e)}function kiwi_camp_stop_cb(){console.log("camp STOP"),kiwi_camp_update(-1,""),msg_send("SET MON_CAMP=-1")}




/* web/openwebrx/openwebrx.min.js (web/openwebrx/openwebrx.js = Tue May 31 14:59:36 2022) */
/developers/javascript-minifier/api/raw




/* web/openwebrx/audio.min.js */
var audio_stat_output_bufs,audio_stat_last_time,audio_running,audio_started,audio_last_output_offset,audio_mode_iq,audio_compression,audio_stat_input_epoch,audio_prepared_buffers,audio_prepared_buffers2,audio_prepared_seq,audio_prepared_flags,audio_prepared_smeter,audio_buffering,audio_convolver_running,audio_meas_dly,audio_meas_dly_start,resample_new,resample_old,resample_init1,resample_init2,resample_input_buffer,resample_input_available,resample_input_processed,resample_last_taps_delay,resample_output_buffer,resample_output_buffer2,resample_output_size,resample_taps,resample_taps_length,resample_last,resample_last2,audio_ext_adc_ovfl,audio_need_stats_reset,audio_change_LPF_latch,audio_change_freq_latch,audio_change_sq_UI_latch,audio_last_sq,audio_gain,comp_lpf_freq,comp_lpf_taps,comp_lpf_taps_length,audio_buffer_size,audio_buffer_min_length_sec,audio_buffer_max_length_sec,audio_data,audio_last_output_buffer,audio_last_output_buffer2,audio_silence_buffer,audio_stats_interval,audio_periodic_interval,audio_context,audio_output_rate,audio_last_is_local,audio_last_compression,audio_input_rate,audio_interpolation,audio_decimation,audio_resample_ratio,audio_transition_bw,audio_min_nbuf,audio_max_nbuf,audio_stat_output_epoch,audio_channels,audio_source,audio_watchdog,audio_change_LPF_delayed,audio_disconnected,audio_convolver,audio={d:!1,last_flags:0,trim_bufs:!1,lo_cut:0,hi_cut:0,SND_FLAG_LPF:1,SND_FLAG_ADC_OVFL:2,SND_FLAG_NEW_FREQ:4,SND_FLAG_MODE_IQ:8,SND_FLAG_COMPRESSED:16,SND_FLAG_RESTART:32,SND_FLAG_SQUELCH_UI:64,SND_FLAG_LITTLE_ENDIAN:128,SND_FLAG_SET_ACTIVE:256,SND_FLAG_CLR_ACTIVE:512,SND_FLAG_TUNE_ACK:1024,cur_flags2:0,_last:0},audio_periodic_interval_ms=1e3,audio_ext_sequence=0,audio_meas_dly_ena=0,audio_initial_connect=!1,audio_watchdog_restart=!1,audio_stat_input_size=0,audio_stat_total_input_size=0,audio_reconnect=0,audio_silence_count=0,audio_restart_count=0,audio_underrun_errors=0,audio_overrun_errors=0,audio_last_underruns=0,audio_last_reconnect=0,audio_last_restart_count=0,resample_new_default=!1,audio_adpcm={index:0,previousValue:0},audio_panner=null,audio_instance=0,audio_camping=0,audio_init_disconnect=0,audio_firefox_watchdog=0;function audio_camp(a,e,_,o){audio_camping=a?0:1,audio_init_disconnect=a,audio_init(e,_,o),audio_ext_sequence=0,audio_meas_dly_ena=0,audio_initial_connect=!1,audio_watchdog_restart=!1}function audio_reset(){audio.trim_bufs=!0}function audio_init(a,e,_){if(audio_running=!1,kiwi_clearInterval(audio_periodic_interval),console.log("--------------------------"),audio.d&&console.log("AUDIO audio_init CALLED audio_init_disconnect="+audio_init_disconnect+" is_local="+a+" less_buffering="+e+" compression="+_),e=!1,audio.d&&console.log("AUDIO audio_init LAST audio_last_is_local="+audio_last_is_local+" audio_last_compression="+audio_last_compression),null==a&&(a=audio_last_is_local),audio_last_is_local=a,null==_&&(_=audio_last_compression),audio_last_compression=_,console.log("AUDIO audio_init FINAL is_local="+a+" less_buffering="+e+" compression="+_),(audio_init_disconnect||null!=audio_source)&&(audio.d&&console.log("AUDIO audio_init audio_disconnect"),audio_disconnect()),audio_started=!1,audio_last_output_offset=0,audio_mode_iq=!1,audio_compression=!!_,audio_stat_input_epoch=-1,audio_prepared_buffers=[],audio_prepared_buffers2=[],audio_prepared_seq=[],audio_prepared_flags=[],audio_prepared_smeter=[],audio_buffering=!1,audio_convolver_running=!1,audio_meas_dly=0,audio_meas_dly_start=0,resample_new=!kiwi_isMobile()&&resample_new_default,resample_old=!resample_new,resample_init1=!1,resample_init2=!1,resample_input_buffer=[],resample_input_available=0,resample_input_processed=0,resample_last_taps_delay=0,resample_output_buffer=[],resample_output_buffer2=[],resample_taps=[],resample_last=0,resample_last2=0,comp_lpf_freq=0,comp_lpf_taps=[],comp_lpf_taps_length=255,audio_adpcm.index=0,audio_adpcm.previousValue=0,audio_ext_adc_ovfl=!1,audio_need_stats_reset=!0,audio_change_LPF_latch=!1,audio_change_freq_latch=!1,audio_change_sq_UI_latch=!1,audio_last_sq=void 0,audio_firefox_watchdog=0,kiwi_clearInterval(audio_stats_interval),audio_init_disconnect)return audio.d&&console.log("AUDIO audio_init DISCONNECT"),audio_init_disconnect=0,!1;var o,i=0,u=kiwi_url_param("abuf",null,null),t=0;if(null!=u){var d=u.split(",");if(t=parseFloat(d[0]),!isNaN(t)&&t>=.25&&t<=5){console.log("AUDIO override abuf="+u);var r=3*t;if(d.length>=2){var s=parseFloat(d[1]);!isNaN(s)&&s>=.25&&s<=5&&s>t&&(r=s)}else r=3*t;audio_buffer_min_length_sec=t,audio_buffer_max_length_sec=r,audio_buffer_size=8192,i=9,o="abuf="}else t=0}0==t&&(2==(i=e?a?2:1:0)?(audio_buffer_size=8192,audio_buffer_min_length_sec=.37,audio_buffer_max_length_sec=2,o="less buf, local"):1==i?(audio_buffer_size=8192,audio_buffer_min_length_sec=.74,audio_buffer_max_length_sec=3,o="less buf, remote"):0==i&&(audio_buffer_size=8192,audio_buffer_min_length_sec=.85,audio_buffer_max_length_sec=3.4,o="more buf")),audio_data=new Int16Array(audio_buffer_size),audio_last_output_buffer=new Float32Array(audio_buffer_size),audio_last_output_buffer2=new Float32Array(audio_buffer_size),audio_silence_buffer=new Float32Array(audio_buffer_size),console.log("AUDIO buffer_size="+audio_buffer_size+" buffering_scheme: "+o),audio_stats_interval=setInterval(audio_stats,1e3);try{window.AudioContext=window.AudioContext||window.webkitAudioContext,(audio_context=new AudioContext).sampleRate=44100,audio_output_rate=audio_context.sampleRate;try{audio_panner=audio_context.createStereoPanner(),audio_panner_ui_init()}catch(a){audio_panner=null}"LG"==kiwi_isSmartTV()&&(audio_gain=audio_context.createGain())}catch(a){return kiwi_serious_error("Your browser does not support Web Audio API, which is required for OpenWebRX to run. Please use an HTML5 compatible browser."),audio_context=null,audio_output_rate=0,!0}return setTimeout(function(a){snd_send("SET little-endian")},1e4,++audio_instance),audio_running=!0,!1}function audio_rate(a){if(0==(audio_input_rate=a))snd_send("SET x-DEBUG user's browser gave zero audio_input_rate?"),kiwi_serious_error("Audio initialization problem.");else if(0==audio_output_rate)snd_send("SET x-DEBUG user's browser doesn't support WebAudio"),snd_send("SET x-DEBUG "+navigator.userAgent),kiwi_serious_error("Browser doesn't support WebAudio:<br>"+navigator.userAgent+"<br><br>Please update to the latest version of your browser.");else if(resample_old)audio_interpolation=audio_output_rate/audio_input_rate,audio_decimation=1;else if(0==(audio_interpolation=0)){var e,_;for(e=2;e<=1024;e++){var o=a*e/audio_output_rate;if(_=Math.floor(o),Math.abs(o-_)<1e-5)break}e>1024?(snd_send("SET UAR in="+a+" out="+audio_output_rate),kiwi_serious_error("Your system uses an audio output rate of "+audio_output_rate+" sps which we do not support.")):(audio_interpolation=e,audio_decimation=_)}0!=audio_interpolation?(audio_transition_bw=.001,audio_resample_ratio=audio_output_rate/audio_input_rate,snd_send("SET AR OK in="+a+" out="+audio_output_rate)):audio_resample_ratio=1,audio_min_nbuf=Math.ceil(audio_buffer_min_length_sec*audio_output_rate/audio_buffer_size),audio_max_nbuf=Math.ceil(audio_buffer_max_length_sec*audio_output_rate/audio_buffer_size),console.log("AUDIO audio_input_rate="+audio_input_rate+" audio_output_rate="+audio_output_rate),console.log("AUDIO min_length_sec="+audio_buffer_min_length_sec+"("+audio_min_nbuf+" bufs) max_length_sec="+audio_buffer_max_length_sec+"("+audio_max_nbuf+" bufs)")}function audio_start(){if(audio.d&&console.log("AUDIO audio_start"),null!=audio_context){audio_started=!0,audio_connect(0),audio_periodic_interval=setInterval(audio_periodic,audio_periodic_interval_ms);try{demodulator_analog_replace(init_mode)}catch(a){snd_send("SET x-DEBUG audio_start.demodulator_analog_replace: catch: "+a.toString())}}}function audio_disconnect(){audio.d&&console.log("AUDIO audio_disconnect"),audio_source&&(audio_disconnected=!0,audio_source.disconnect(),audio_source.onaudioprocess=null,audio_source=null),audio_convolver_running&&(audio_convolver.disconnect(),audio_convolver_running=!1),audio_watchdog&&(audio_watchdog.disconnect(),audio_watchdog.onaudioprocess=null,audio_watchdog=null),audio_panner&&audio_panner.disconnect()}function audio_connect_destination(a){"LG"==kiwi_isSmartTV()&&(audio_gain.gain.value=.3,a.connect(audio_gain),a=audio_gain),audio_panner?(a.connect(audio_panner),audio_panner.connect(audio_context.destination)):a.connect(audio_context.destination)}function audio_set_pan(a){if(audio_panner)try{audio_panner.pan.value=a}catch(a){}}function audio_connect(a){null!=audio_context&&(!audio_initial_connect&&a||(a||(audio_initial_connect=!0),a&&(audio_disconnect(),resample_init1=resample_init2=!1,audio_reconnect++,kiwi_log("AUDIO reconnect BUFFERING true"),audio_buffering=!0),audio_stat_output_epoch=-1,audio_change_LPF_delayed=!1,(audio_source=audio_context.createScriptProcessor(audio_buffer_size,0,audio_channels)).onaudioprocess=audio_onprocess,audio_disconnected=!1,audio_convolver_running?(audio_source.connect(audio_convolver),audio_connect_destination(audio_convolver)):audio_connect_destination(audio_source),kiwi_isFirefox()&&((audio_watchdog=audio_context.createScriptProcessor(audio_buffer_size,audio_channels,0)).onaudioprocess=audio_watchdog_process,audio_convolver_running?audio_convolver.connect(audio_watchdog):audio_source.connect(audio_watchdog))))}function audio_watchdog_process(a){if(kiwi.muted||audio_buffering)audio_silence_count=0;else{var e=a.inputBuffer.getChannelData(0),_=0==e[0];kiwi_gc_snd&&(e=null),(audio_silence_count=_?audio_silence_count+1:0)>16&&(audio_connect(1),audio_silence_count=0,audio_restart_count++,add_problem("FF silence"),kiwi_log("AUDIO FF SILENCE"))}}function audio_onprocess(a){if(audio_firefox_watchdog++,!audio_disconnected){if(-1==audio_stat_output_epoch&&(audio_stat_output_epoch=(new Date).getTime(),audio_stat_output_bufs=0),audio_stat_output_bufs++,audio_started&&0==audio_prepared_buffers.length&&(audio_underrun_errors++,audio_buffering=!0),!audio_started||audio_buffering)return audio_need_stats_reset=!0,a.outputBuffer.copyToChannel(audio_silence_buffer,0),void(2==audio_channels&&a.outputBuffer.copyToChannel(audio_silence_buffer,1));a.outputBuffer.copyToChannel(audio_prepared_buffers.shift(),0),2==audio_channels&&a.outputBuffer.copyToChannel(audio_prepared_buffers2.shift(),1),audio_ext_sequence=audio_prepared_seq.shift(),audio_change_LPF_delayed&&(audio_recompute_LPF(0),audio_change_LPF_delayed=!1),owrx.sMeter_dBm_biased=audio_prepared_smeter.shift()/10,owrx.sMeter_dBm=owrx.sMeter_dBm_biased-SMETER_BIAS;var e=audio_prepared_flags.shift();audio_ext_adc_ovfl=!!(e&audio.SND_FLAG_ADC_OVFL),e&audio.SND_FLAG_LPF&&(audio_change_LPF_delayed=!0);var _=!!(e&audio.SND_FLAG_SQUELCH_UI);_!=audio_last_sq&&isDefined(squelch_action)&&(setTimeout(function(a){squelch_action(a)},1,_),audio_last_sq=_),e&audio.SND_FLAG_TUNE_ACK&&setTimeout(function(a){w3_call("ale_2g_tune_ack",a)},10,audio.tune_freq),audio_meas_dly_ena&&audio_meas_dly_start&&e&audio.SND_FLAG_NEW_FREQ&&(audio_meas_dly=(new Date).getTime()-audio_meas_dly_start,kiwi_log("AUDIO dly="+audio_meas_dly),audio_meas_dly_start=0)}}var audio_watchdog_restart_cnt=0;function audio_periodic(){audio_started&&audio_prepared_buffers.length&&0==audio_firefox_watchdog&&kiwi_isFirefox()&&!cfg.disable_recent_changes&&(add_problem("FF watchdog"),console.log("AUDIO FF WATCHDOG Q"+audio_prepared_buffers.length+" WD="+audio_firefox_watchdog+" ============================================"),audio_init(0,null,!1,null),audio_initial_connect=!0,audio_watchdog_restart=!0,snd_send("SET reinit"));for(var a=!1;audio_prepared_buffers.length>audio_max_nbuf;)a=!0,audio_prepared_buffers.shift(),2==audio_channels&&audio_prepared_buffers2.shift(),audio_prepared_seq.shift(),audio_prepared_flags.shift(),audio_prepared_smeter.shift();a&&(add_problem("audio overrun"),audio_overrun_errors++),audio_last_underruns!=audio_underrun_errors&&(add_problem("audio underrun"),snd_send("SET underrun="+audio_underrun_errors),audio_last_underruns=audio_underrun_errors)}function audio_adpcm_state(a,e){audio_adpcm.index=a,audio_adpcm.previousValue=e,audio_camping=2}function audio_recv(a){if(audio_running){var e=new Uint8Array(a,0,8),_=e[3],o=e[7]<<24|e[6]<<16|e[5]<<8|e[4];if(!(1==audio_camping&&_&audio.SND_FLAG_COMPRESSED)){var i,u=new Uint8Array(a,8,2),t=u[0]<<8|u[1],d=_&audio.SND_FLAG_MODE_IQ,r=new DataView(a,d?20:10),s=r.byteLength;if(audio_watchdog_restart){if(!(_&audio.SND_FLAG_RESTART))return;audio_watchdog_restart=!1,audio_prepared_buffers=[],audio_prepared_buffers2=[],audio_prepared_seq=[],audio_prepared_flags=[],audio_prepared_smeter=[],audio_mode_iq?resample_old=!(resample_new=!1):(audio_adpcm.index=audio_adpcm.previousValue=0,resample_new=!kiwi_isMobile()&&resample_new_default,resample_old=!resample_new),audio_connect(1)}else if(d)audio_mode_iq||(audio_prepared_buffers=[],audio_prepared_buffers2=[],audio_prepared_seq=[],audio_prepared_flags=[],audio_prepared_smeter=[],resample_old=!(resample_new=!1),audio_mode_iq=!0,audio_channels=2,audio.d&&console.log("AUDIO !IQ -> IQ transition"),audio_connect(1)),audio_last_compression=audio_compression=!1,audio_mode_iq=!0;else{var n=!!(_&audio.SND_FLAG_COMPRESSED);(audio_mode_iq||audio_compression!=n)&&(audio_prepared_buffers=[],audio_prepared_buffers2=[],audio_prepared_seq=[],audio_prepared_flags=[],audio_prepared_smeter=[],audio_adpcm.index=audio_adpcm.previousValue=0,resample_new=!kiwi_isMobile()&&resample_new_default,resample_old=!resample_new,audio.d&&(audio_mode_iq?console.log("AUDIO IQ -> !IQ transition, compressed="+n):console.log("AUDIO !IQ, compression change="+(audio_compression!=n)+" compressed="+n)),audio_mode_iq=!1,audio_channels=1,audio_last_compression=audio_compression=n,audio_connect(1)),audio_last_compression=audio_compression=n,audio_mode_iq=!1}if(audio_channels=audio_mode_iq?2:1,audio_compression)audio.d&&console.log("AC Q"+audio_prepared_buffers.length+" #"+audio_channels),decode_ima_adpcm_e8_i16(r,audio_data,s,audio_adpcm),i=2*s;else for(audio.d&&(d?console.log("ANC IQ Q"+audio_prepared_buffers.length+"/"+audio_prepared_buffers2.length+" #"+audio_channels):console.log("ANC Q"+audio_prepared_buffers.length+" #"+audio_channels)),i=s/2,p=0;p<i;p++)audio_data[p]=r.getInt16(2*p,!!(_&audio.SND_FLAG_LITTLE_ENDIAN));if(audio_prepare(audio_data,i,o,_,t),!audio_started)audio_prepared_buffers.length>audio_min_nbuf&&audio_start();if(audio_need_stats_reset&&audio_stats_reset(),audio_stat_input_size+=i,audio_stat_total_input_size+=i,extint_audio_data(audio_data,i),wf.audioFFT_active&&wf_audio_FFT(audio_data,i),window.recording&&0==audio_last_sq){for(var l=audio_mode_iq?1024:n?2048:512,p=0;p<l;++p)window.recording_meta.data.setInt16(window.recording_meta.offset,audio_data[p],!0),window.recording_meta.offset+=2;window.recording_meta.total_size+=2*l,65536==window.recording_meta.offset&&(window.recording_meta.buffers.push(new ArrayBuffer(65536)),window.recording_meta.data=new DataView(window.recording_meta.buffers[window.recording_meta.buffers.length-1]),window.recording_meta.offset=0)}}}}function audio_recv_flags2(a){var e=a.split(":");switch(e[0]){case"active":var _=+e[1];console.log("$ active="+_),audio.cur_flags2|=_?audio.SND_FLAG_SET_ACTIVE:SND_FLAG_CLR_ACTIVE;break;case"tune_ack":audio.tune_freq=+e[1],console.log("$ tune_ack="+audio.tune_freq),audio.cur_flags2|=audio.SND_FLAG_TUNE_ACK}}var audio_push_ct=0;function audio_prepare(a,e,_,o,i){var u,t,d,r=resample_new&&audio_compression&&comp_lpf_taps_length,s=function(){audio_prepared_buffers.push(audio_last_output_buffer),2==audio_channels&&audio_prepared_buffers2.push(audio_last_output_buffer2),audio_prepared_seq.push(_),audio_change_LPF_latch&&(audio_change_LPF_latch=!1,o|=audio.SND_FLAG_LPF),audio_change_freq_latch&&(audio_change_freq_latch=!1,o|=audio.SND_FLAG_NEW_FREQ),audio_change_sq_UI_latch&&(audio_change_sq_UI_latch=!1,o|=audio.SND_FLAG_SQUELCH_UI),audio.cur_flags2&&(o|=audio.cur_flags2,audio.cur_flags2=0),audio_prepared_flags.push(o),audio_prepared_smeter.push(i),audio_last_output_offset=0,audio_last_output_buffer=new Float32Array(audio_buffer_size),2==audio_channels&&(audio_last_output_buffer2=new Float32Array(audio_buffer_size))},n=function(a,e,_,o,i){var u;for(u=0;u<i;u++)a[e+u]=_[o+u]};if(0!=e){if(1!=audio_resample_ratio){var l,p;if(resample_init1||((resample_taps_length=Math.round(4/audio_transition_bw))%2==0&&resample_taps_length++,rational_resampler_get_lowpass_f(resample_taps,resample_taps_length,audio_interpolation,audio_decimation),resample_init1=!0),!resample_init2&&resample_init1&&(r||resample_old)&&null!=audio_source)audio_recompute_LPF(1),l=comp_lpf_taps,p=comp_lpf_taps_length,(audio_convolver=audio_context.createConvolver()).normalize=!1,audio_reload_convolver_buffer(l,p),audio.d&&console.log("AUDIO splice in convolver"),audio_source.disconnect(),audio_source.connect(audio_convolver),audio_connect_destination(audio_convolver),kiwi_isFirefox()&&audio_convolver.connect(audio_watchdog),audio_convolver_running=!0,resample_init2=!0;if(resample_old)if(2==audio_channels){resample_output_size=Math.round(e/2*audio_resample_ratio);var f,c=1/audio_resample_ratio,m=0,g=0;for(A=0;A<resample_output_size;A++)h=a[2*m],b=resample_last,resample_output_buffer[A]=(h-b)*g+b,f=a[2*m+1],b=resample_last2,resample_output_buffer2[A]=(f-b)*g+b,(g+=c)>=1&&(g-=1,resample_last=h,resample_last2=f,m++);resample_last=h,resample_last2=f}else{resample_output_size=Math.round(e*audio_resample_ratio);var h,b;c=1/audio_resample_ratio,m=0,g=0;for(A=0;A<resample_output_size;A++)h=a[m],b=resample_last,resample_output_buffer[A]=(h-b)*g+b,(g+=c)>=1&&(g-=1,resample_last=h,m++);resample_last=h}else{if(0!=resample_input_processed){var w=resample_input_available-resample_input_processed;n(resample_input_buffer,0,resample_input_buffer,resample_input_processed,w),resample_input_available=w,resample_input_processed=0}n(resample_input_buffer,resample_input_available,a,0,e),resample_input_available+=e,2==audio_channels?rational_resampler_cc(resample_input_buffer,resample_output_buffer,resample_output_buffer2,resample_input_available,audio_interpolation,audio_decimation,resample_taps,resample_taps_length,resample_last_taps_delay):rational_resampler_ff(resample_input_buffer,resample_output_buffer,resample_input_available,audio_interpolation,audio_decimation,resample_taps,resample_taps_length,resample_last_taps_delay)}u=resample_output_buffer,t=resample_output_buffer2,d=resample_output_size}else u=a,d=e;if(o&audio.SND_FLAG_LPF&&(audio_change_LPF_latch=!0),o&audio.SND_FLAG_NEW_FREQ||audio.trim_bufs){audio_change_freq_latch=!0,audio.trim_bufs=!1;audio_prepared_buffers.length;for(var v=audio_min_nbuf;audio_prepared_buffers.length>v;)audio_prepared_buffers.pop(),2==audio_channels&&audio_prepared_buffers2.pop(),audio_prepared_seq.pop(),audio_prepared_flags.pop(),audio_prepared_smeter.pop()}if(o&audio.SND_FLAG_SQUELCH_UI&&(audio_change_sq_UI_latch=!0),audio_last_output_offset+d<=audio_buffer_size){if(2==audio_channels)for(var A=0;A<d;A++)audio_last_output_buffer[A+audio_last_output_offset]=u[A]/32768*kiwi.volume_f,audio_last_output_buffer2[A+audio_last_output_offset]=t[A]/32768*kiwi.volume_f;else for(A=0;A<d;A++)audio_last_output_buffer[A+audio_last_output_offset]=u[A]/32768*kiwi.volume_f;(audio_last_output_offset+=d)==audio_buffer_size&&s()}else{var F=audio_buffer_size-audio_last_output_offset,D=d-F;if(2==audio_channels)for(A=0;A<audio_buffer_size-audio_last_output_offset;A++)audio_last_output_buffer[A+audio_last_output_offset]=u[A]/32768*kiwi.volume_f,audio_last_output_buffer2[A+audio_last_output_offset]=t[A]/32768*kiwi.volume_f;else for(A=0;A<audio_buffer_size-audio_last_output_offset;A++)audio_last_output_buffer[A+audio_last_output_offset]=u[A]/32768*kiwi.volume_f;s();do{for(A=0;A<D;A++){if(A==audio_buffer_size){s();break}audio_last_output_buffer[A]=u[A+F]/32768*kiwi.volume_f,2==audio_channels&&(audio_last_output_buffer2[A]=t[A+F]/32768*kiwi.volume_f)}D-=A,F+=A}while(D);audio_last_output_offset+=A}if(audio_buffering)audio_prepared_buffers.length>audio_min_nbuf&&(audio_buffering=!1)}}try{AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(a,e){for(var _=this.getChannelData(e),o=0;o<a.length;o++)_[o]=a[o]})}catch(a){console.log("CATCH: AudioBuffer.prototype.copyToChannel")}function audio_stats_reset(){audio_stat_input_epoch=(new Date).getTime(),audio_stat_last_time=audio_stat_input_epoch,audio_stat_input_size=audio_stat_total_input_size=0,audio_need_stats_reset=!1}function audio_stats(){if(-1!=audio_stat_input_epoch&&-1!=audio_stat_output_epoch){var a=(new Date).getTime(),e=(a-audio_stat_last_time)/1e3;audio_stat_last_time=a;var _=audio_stat_total_input_size/((a-audio_stat_input_epoch)/1e3),o=audio_stat_output_bufs*audio_buffer_size/((a-audio_stat_output_epoch)/1e3),i="Audio: network "+(audio_stat_input_size/e).toFixed(0)+" sps ("+_.toFixed(0)+" avg), output "+o.toFixed(0)+" sps";i+=", Qlen "+audio_prepared_buffers.length,audio_underrun_errors&&(i+=", underruns "+audio_underrun_errors.toString()),audio_restart_count&&(i+=", restart "+audio_restart_count.toString()),w3_innerHTML("id-msg-audio",i),audio.d&&console.log(i),isNaN(o)&&(o=0),w3_innerHTML("id-status-audio",w3_text(optbar_prefix_color,"WF"),w3_text("",kiwi.wf_fps.toFixed(0)+" fps"),w3_text(optbar_prefix_color,"Audio"),w3_text("",(o/1e3).toFixed(1)+"k, Qlen "+audio_prepared_buffers.length)),audio_stat_input_size=0}}function audio_recompute_LPF(a,e,_){isDefined(e)&&isDefined(_)&&(audio.lo_cut=Math.abs(e),audio.hi_cut=Math.abs(_)),audio_camping?(e=audio.lo_cut,_=audio.hi_cut):isDefined(demodulators[0])?(_=Math.abs(demodulators[0].high_cut),isNaN(_)&&console.log(demodulators[0]),e=Math.abs(demodulators[0].low_cut)):(e=0,_=4e3);var o=Math.max(_,e);(a||o!=comp_lpf_freq)&&(firdes_lowpass_f(comp_lpf_taps,comp_lpf_taps_length,o/audio_output_rate),comp_lpf_freq=o,audio_convolver_running&&audio_reload_convolver_buffer(comp_lpf_taps,comp_lpf_taps_length))}function audio_reload_convolver_buffer(a,e){var _=audio_context.createBuffer(2,e,audio_output_rate),o=_.getChannelData(0);o.set(a),(o=_.getChannelData(1)).set(a),audio_convolver.buffer=_}function rational_resampler_ff(a,e,_,o,i,u,t,d){var r,s,n,l,p=Math.round(_*o/i);for(s=0;s<p&&(n=Math.floor((s*i+o-1-d)/o),l=Math.floor((d+n*o-s*i)%o),!(n+t/o+1>_));s++){var f=Math.floor((t-l)/o),c=0;for(r=0;r<f;r++)c+=a[n+r]*u[l+r*o];e[s]=c*o}resample_input_processed=n,resample_output_size=s,resample_last_taps_delay=l}function rational_resampler_cc(a,e,_,o,i,u,t,d,r){console.log("WARNING rational_resampler_cc() not working yet!")}function rational_resampler_get_lowpass_f(a,e,_,o){var i=1/_,u=1/o;firdes_lowpass_f(a,e,(i<u?i:u)/2)}function firdes_lowpass_f(a,e,_){var o,i=Math.floor(e/2);for(a[i]=2*Math.PI*_*firdes_wkernel_hamming(0),o=1;o<=i;o++)a[i-o]=a[i+o]=Math.sin(2*Math.PI*_*o)/o*firdes_wkernel_hamming(o/i);var u=0;for(o=0;o<e;o++)u+=a[o];for(o=0;o<e;o++)a[o]/=u}function firdes_wkernel_hamming(a){return a=.5+a/2,.54-.46*Math.cos(2*Math.PI*a)}




/* web/openwebrx/ima_adpcm.min.js */
var indexAdjustTable=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],stepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function ImaAdpcmDecode(e,a){var p=stepSizeTable[a.index],d=p>>3;return 1&e&&(d+=p>>2),2&e&&(d+=p>>1),4&e&&(d+=p),8&e&&(d=-d),a.previousValue+=d,a.previousValue>a.pos_clamp?a.previousValue=a.pos_clamp:a.previousValue<a.neg_clamp&&(a.previousValue=a.neg_clamp),a.index+=indexAdjustTable[e],a.index<0?a.index=0:a.index>88&&(a.index=88),a.previousValue}function decode_ima_adpcm_e8_i16(e,a,p,d){d.pos_clamp=32767,d.neg_clamp=-32768;var c,i=0;for(c=0;c<p;c++){var m=e.getUint8(c);a[i++]=ImaAdpcmDecode(15&m,d),a[i++]=ImaAdpcmDecode(m>>4&15,d)}}function decode_ima_adpcm_e8_u8(e,a,p,d){d.pos_clamp=255,d.neg_clamp=0;var c,i=0;for(c=0;c<p;c++)a[i++]=ImaAdpcmDecode(15&e[c],d),a[i++]=ImaAdpcmDecode(e[c]>>4&15,d)}

/* web/pkgs/w3color.min.js */
function w3SetColorsByAttribute(){var e,t,s;for(e=document.getElementsByTagName("*"),t=0;t<e.length;t++)(s=e[t].getAttribute("data-w3-color"))&&(e[t].style.backgroundColor=w3color(s).toRgbString())}!function(){function e(r,i){return this instanceof e?"object"==typeof r?r:(this.attachValues(function(e){var r,i,h,o,f,c,b,d,g,m,y,p=[],k=[],w=[];e=l(e.toLowerCase()),r=e.substr(0,1).toUpperCase(),i=e.substr(1),d=1,"R"!=r&&"Y"!=r&&"G"!=r&&"C"!=r&&"B"!=r&&"M"!=r&&"W"!=r||isNaN(i)||6==e.length&&-1==e.indexOf(",")||(e="ncol("+e+")");3==e.length||6==e.length||isNaN(e)||(e="ncol("+e+")");e.indexOf(",")>0&&-1==e.indexOf("(")&&(e="ncol("+e+")");if("rgb"==e.substr(0,3)||"hsl"==e.substr(0,3)||"hwb"==e.substr(0,3)||"ncol"==e.substr(0,4)||"cmyk"==e.substr(0,4)){if("ncol"==e.substr(0,4)?(4==e.split(",").length&&-1==e.indexOf("ncola")&&(e=e.replace("ncol","ncola")),h="ncol",e=e.substr(4)):"cmyk"==e.substr(0,4)?(h="cmyk",e=e.substr(4)):(h=e.substr(0,3),e=e.substr(3)),o=3,c=!1,"a"==e.substr(0,1).toLowerCase()?(o=4,c=!0,e=e.substr(1)):"cmyk"==h&&(o=4,5==e.split(",").length&&(o=5,c=!0)),e=(e=e.replace("(","")).replace(")",""),p=e.split(","),"rgb"==h){if(p.length!=o)return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};for(f=0;f<o;f++){if(""!=p[f]&&" "!=p[f]||(p[f]="0"),p[f].indexOf("%")>-1&&(p[f]=p[f].replace("%",""),p[f]=Number(p[f]/100),f<3&&(p[f]=Math.round(255*p[f]))),isNaN(p[f]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};parseInt(p[f])>255&&(p[f]=255),f<3&&(p[f]=parseInt(p[f])),3==f&&Number(p[f])>1&&(p[f]=1)}y={r:p[0],g:p[1],b:p[2]},1==c&&(d=Number(p[3]))}if("hsl"==h||"hwb"==h||"ncol"==h){for(;p.length<o;)p.push("0");for("hsl"!=h&&"hwb"!=h||parseInt(p[0])>=360&&(p[0]=0),f=1;f<o;f++){if(p[f].indexOf("%")>-1){if(p[f]=p[f].replace("%",""),p[f]=Number(p[f]),isNaN(p[f]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};p[f]=p[f]/100}else p[f]=Number(p[f]);Number(p[f])>1&&(p[f]=1),Number(p[f])<0&&(p[f]=0)}"hsl"==h&&(y=a(p[0],p[1],p[2]),g=Number(p[0]),m=Number(p[1])),"hwb"==h&&(y=n(p[0],p[1],p[2])),"ncol"==h&&(y=function(e,t,s){var a,r,i;if(i=e,isNaN(e.substr(0,1))){if(a=e.substr(0,1).toUpperCase(),""==(r=e.substr(1))&&(r=0),r=Number(r),isNaN(r))return!1;"R"==a&&(i=0+.6*r),"Y"==a&&(i=60+.6*r),"G"==a&&(i=120+.6*r),"C"==a&&(i=180+.6*r),"B"==a&&(i=240+.6*r),"M"==a&&(i=300+.6*r),"W"==a&&(i=0,t=1-r/100,s=r/100)}return n(i,t,s)}(p[0],p[1],p[2])),1==c&&(d=Number(p[3]))}if("cmyk"==h){for(;p.length<o;)p.push("0");for(f=0;f<o;f++){if(p[f].indexOf("%")>-1){if(p[f]=p[f].replace("%",""),p[f]=Number(p[f]),isNaN(p[f]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};p[f]=p[f]/100}else p[f]=Number(p[f]);Number(p[f])>1&&(p[f]=1),Number(p[f])<0&&(p[f]=0)}y=function(e,t,s,a){var r,n,i;return r=255-255*Math.min(1,e*(1-a)+a),n=255-255*Math.min(1,t*(1-a)+a),i=255-255*Math.min(1,s*(1-a)+a),{r:r,g:n,b:i}}(p[0],p[1],p[2],p[3]),1==c&&(d=Number(p[4]))}}else if("ncs"==e.substr(0,3))y=function(e){var t,s,a,r,n,i,h,u,o,f,c,b,d,g,m,y,p;-1==(e=(e=(e=(e=(e=l(e).toUpperCase()).replace("(","")).replace(")","")).replace("NCS","NCS ")).replace(/  /g," ")).indexOf("NCS")&&(e="NCS "+e);if(null===(e=e.match(/^(?:NCS|NCS\sS)\s(\d{2})(\d{2})-(N|[A-Z])(\d{2})?([A-Z])?$/)))return!1;if(t=parseInt(e[1],10),s=parseInt(e[2],10),"N"!=(a=e[3])&&"Y"!=a&&"R"!=a&&"B"!=a&&"G"!=a)return!1;r=parseInt(e[4],10)||0,"N"!==a?(n=1.05*t-5.25,i=s,"Y"===a&&r<=60?o=1:"Y"===a&&r>60||"R"===a&&r<=80?(h="Y"===a?r-60:r+40,o=(Math.sqrt(14884-Math.pow(h,2))-22)/100):"R"===a&&r>80||"B"===a?o=0:"G"===a&&(h=r-170,o=(Math.sqrt(33800-Math.pow(h,2))-70)/100),"Y"===a&&r<=80?u=0:"Y"===a&&r>80||"R"===a&&r<=60?(h="Y"===a?r-80+20.5:r+20+20.5,u=(104-Math.sqrt(11236-Math.pow(h,2)))/100):"R"===a&&r>60||"B"===a&&r<=80?(h="R"===a?r-60-60:r+40-60,u=(Math.sqrt(1e4-Math.pow(h,2))-10)/100):"B"===a&&r>80||"G"===a&&r<=40?(h="B"===a?r-80-131:r+20-131,u=(122-Math.sqrt(19881-Math.pow(h,2)))/100):"G"===a&&r>40&&(u=0),"Y"===a?green1=(85-.85*r)/100:"R"===a&&r<=60?green1=0:"R"===a&&r>60?(h=r-60+35,green1=(67.5-Math.sqrt(5776-Math.pow(h,2)))/100):"B"===a&&r<=60?(h=1*r-68.5,green1=(6.5+Math.sqrt(7044.5-Math.pow(h,2)))/100):"B"===a&&r>60||"G"===a&&r<=60?green1=.9:"G"===a&&r>60&&(h=r-60,green1=(90-1/8*h)/100),h=(o+green1+u)/3,f=(h-o)*(100-i)/100+o,c=(h-green1)*(100-i)/100+green1,b=(h-u)*(100-i)/100+u,d=1/(f>c&&f>b?f:c>f&&c>b?c:b>f&&b>c?b:(f+c+b)/3),m=parseInt(f*d*(100-n)/100*255,10),y=parseInt(c*d*(100-n)/100*255,10),p=parseInt(b*d*(100-n)/100*255,10),m>255&&(m=255),y>255&&(y=255),p>255&&(p=255),m<0&&(m=0),y<0&&(y=0),p<0&&(p=0)):((g=parseInt(255*(1-t/100),10))>255&&(g=255),g<0&&(g=0),m=g,y=g,p=g);return{r:m,g:y,b:p}}(e);else{for(b=!1,k=s("names"),f=0;f<k.length;f++)if(e.toLowerCase()==k[f].toLowerCase()){w=s("hexs"),b=!0,y={r:parseInt(w[f].substr(0,2),16),g:parseInt(w[f].substr(2,2),16),b:parseInt(w[f].substr(4,2),16)};break}if(0==b){for(3==(e=e.replace("#","")).length&&(e=e.substr(0,1)+e.substr(0,1)+e.substr(1,1)+e.substr(1,1)+e.substr(2,1)+e.substr(2,1)),f=0;f<e.length;f++)if(!u(e.substr(f,1)))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};for(p[0]=parseInt(e.substr(0,2),16),p[1]=parseInt(e.substr(2,2),16),p[2]=parseInt(e.substr(4,2),16),f=0;f<3;f++)if(isNaN(p[f]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};y={r:p[0],g:p[1],b:p[2]}}}return t(y,d,g,m)}(r)),void(i&&(i.style.backgroundColor=this.toRgbString()))):new e(r,i)}function t(e,t,s,a){var r,n,i,h,l,u,o,f;return e?(null===t&&(t=1),r=function(e,t,s){var a,r,n,i,h,l,u,o=[];for(o[0]=e/255,o[1]=t/255,o[2]=s/255,a=o[0],r=o[0],l=0,n=0;n<o.length-1;n++)o[n+1]<=a&&(a=o[n+1]),o[n+1]>=r&&(r=o[n+1],l=n+1);0==l&&(u=(o[1]-o[2])/(r-a));1==l&&(u=2+(o[2]-o[0])/(r-a));2==l&&(u=4+(o[0]-o[1])/(r-a));isNaN(u)&&(u=0);(u*=60)<0&&(u+=360);i=(a+r)/2,h=a==r?0:i<.5?(r-a)/(r+a):(r-a)/(2-r-a);return{h:u,s:h=h,l:i}}(e.r,e.g,e.b),n=function(e,t,s){var a,r,n;e/=255,t/=255,s/=255,max=Math.max(e,t,s),min=Math.min(e,t,s),chroma=max-min,a=0==chroma?0:e==max?(t-s)/chroma%6*360:t==max?((s-e)/chroma+2)%6*360:((e-t)/chroma+4)%6*360;return r=min,n=1-max,{h:a,w:r,b:n}}(e.r,e.g,e.b),i=function(e,t,s){var a,r,n,i;e/=255,t/=255,s/=255,max=Math.max(e,t,s),1==(i=1-max)?(a=0,r=0,n=0):(a=(1-e-i)/(1-i),r=(1-t-i)/(1-i),n=(1-s-i)/(1-i));return{c:a,m:r,y:n,k:i}}(e.r,e.g,e.b),u=s||r.h,o=a||r.s,h=function(e){for(;e>=360;)e-=360;if(e<60)return"R"+e/.6;if(e<120)return"Y"+(e-60)/.6;if(e<180)return"G"+(e-120)/.6;if(e<240)return"C"+(e-180)/.6;if(e<300)return"B"+(e-240)/.6;if(e<360)return"M"+(e-300)/.6}(u),l={red:e.r,green:e.g,blue:e.b,hue:u,sat:o,lightness:r.l,whiteness:n.w,blackness:n.b,cyan:i.c,magenta:i.m,yellow:i.y,black:i.k,ncol:h,opacity:t,valid:!0},(f=l).red=Number(f.red.toFixed(0)),f.green=Number(f.green.toFixed(0)),f.blue=Number(f.blue.toFixed(0)),f.hue=Number(f.hue.toFixed(0)),f.sat=Number(f.sat.toFixed(2)),f.lightness=Number(f.lightness.toFixed(2)),f.whiteness=Number(f.whiteness.toFixed(2)),f.blackness=Number(f.blackness.toFixed(2)),f.cyan=Number(f.cyan.toFixed(2)),f.magenta=Number(f.magenta.toFixed(2)),f.yellow=Number(f.yellow.toFixed(2)),f.black=Number(f.black.toFixed(2)),f.ncol=f.ncol.substr(0,1)+Math.round(Number(f.ncol.substr(1))),f.opacity=Number(f.opacity.toFixed(2)),l=f):{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1}}function s(e){return"names"==e?["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"]:"hexs"==e?["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"]:void 0}function a(e,t,s){var a,n;return{r:255*r(a=2*s-(n=s<=.5?s*(t+1):s+t-s*t),n,(e/=60)+2),g:255*r(a,n,e),b:255*r(a,n,e-2)}}function r(e,t,s){return s<0&&(s+=6),s>=6&&(s-=6),s<1?(t-e)*s+e:s<3?t:s<4?(t-e)*(4-s)+e:e}function n(e,t,s){var r,n,i,h=[];for(n=a(e,1,.5),h[0]=n.r/255,h[1]=n.g/255,h[2]=n.b/255,(i=t+s)>1&&(t=Number((t/i).toFixed(2)),s=Number((s/i).toFixed(2))),r=0;r<3;r++)h[r]*=1-t-s,h[r]+=t,h[r]=Number(255*h[r]);return{r:h[0],g:h[1],b:h[2]}}function h(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function l(e){return e.replace(/^\s+|\s+$/g,"")}function u(e){return"0123456789ABCDEFabcdef".indexOf(e)>-1}e.prototype={toRgbString:function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"},toRgbaString:function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"},toHwbString:function(){return"hwb("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%)"},toHwbStringDecimal:function(){return"hwb("+this.hue+", "+this.whiteness+", "+this.blackness+")"},toHwbaString:function(){return"hwba("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity+")"},toHslString:function(){return"hsl("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"},toHslStringDecimal:function(){return"hsl("+this.hue+", "+this.sat+", "+this.lightness+")"},toHslaString:function(){return"hsla("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%, "+this.opacity+")"},toCmykString:function(){return"cmyk("+Math.round(100*this.cyan)+"%, "+Math.round(100*this.magenta)+"%, "+Math.round(100*this.yellow)+"%, "+Math.round(100*this.black)+"%)"},toCmykStringDecimal:function(){return"cmyk("+this.cyan+", "+this.magenta+", "+this.yellow+", "+this.black+")"},toNcolString:function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%"},toNcolStringDecimal:function(){return this.ncol+", "+this.whiteness+", "+this.blackness},toNcolaString:function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity},toName:function(){var e,t,a,r=s("hexs");for(i=0;i<r.length;i++)if(e=parseInt(r[i].substr(0,2),16),t=parseInt(r[i].substr(2,2),16),a=parseInt(r[i].substr(4,2),16),this.red==e&&this.green==t&&this.blue==a)return s("names")[i];return""},toHexString:function(){return"#"+h(this.red)+h(this.green)+h(this.blue)},toRgb:function(){return{r:this.red,g:this.green,b:this.blue,a:this.opacity}},toHsl:function(){return{h:this.hue,s:this.sat,l:this.lightness,a:this.opacity}},toHwb:function(){return{h:this.hue,w:this.whiteness,b:this.blackness,a:this.opacity}},toCmyk:function(){return{c:this.cyan,m:this.magenta,y:this.yellow,k:this.black,a:this.opacity}},toNcol:function(){return{ncol:this.ncol,w:this.whiteness,b:this.blackness,a:this.opacity}},isDark:function(e){var t=e||128;return(299*this.red+587*this.green+114*this.blue)/1e3<t},saturate:function(e){var s,r;s=e/100||.1,this.sat+=s,this.sat>1&&(this.sat=1),r=t(a(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat),this.attachValues(r)},desaturate:function(e){var s,r;s=e/100||.1,this.sat-=s,this.sat<0&&(this.sat=0),r=t(a(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat),this.attachValues(r)},lighter:function(e){var s,r;s=e/100||.1,this.lightness+=s,this.lightness>1&&(this.lightness=1),r=t(a(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat),this.attachValues(r)},darker:function(e){var s,r;s=e/100||.1,this.lightness-=s,this.lightness<0&&(this.lightness=0),r=t(a(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat),this.attachValues(r)},attachValues:function(e){this.red=e.red,this.green=e.green,this.blue=e.blue,this.hue=e.hue,this.sat=e.sat,this.lightness=e.lightness,this.whiteness=e.whiteness,this.blackness=e.blackness,this.cyan=e.cyan,this.magenta=e.magenta,this.yellow=e.yellow,this.black=e.black,this.ncol=e.ncol,this.opacity=e.opacity,this.valid=e.valid}},window.w3color=e}();




/* web/pkgs/xdLocalStorage/xdLocalStorage.min.js */
"use strict";window.xdLocalStorage=window.xdLocalStorage||function(){var e,n="cross-domain-local-message",t={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},i=-1,o={},a=!1,l=!1;function r(e){var i;try{i=JSON.parse(e.data)}catch(e){}i&&i.namespace===n&&("iframe-ready"===i.id?(l=!0,t.initCallback()):function(e){o[e.id]&&(o[e.id](e),delete o[e.id])}(i))}function c(t,a,l,r){o[++i]=r;var c={namespace:n,etag:0,server:0,id:i,action:t,key:a,value:l};e.contentWindow.postMessage(JSON.stringify(c),"*")}function s(n){t=XdUtils.extend(n,t);var i=document.createElement("div");window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),i.innerHTML='<iframe id="'+t.iframeId+'" src='+t.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(i),e=document.getElementById(t.iframeId)}function d(){return a?!!l||(console.log("You must wait for iframe ready message before using the api."),!1):(console.log("You must call xdLocalStorage.init() before using it."),!1)}return{init:function(e){if(!e.iframeUrl)throw"You must specify iframeUrl";a?console.log("xdLocalStorage was already initialized!"):(a=!0,"complete"===document.readyState?s(e):window.onload=function(){s(e)})},setItem:function(e,n,t){d()&&c("set",e,n,t)},getItem:function(e,n){d()&&c("get",e,null,n)},removeItem:function(e,n){d()&&c("remove",e,null,n)},key:function(e,n){d()&&c("key",e,null,n)},getSize:function(e){d()&&c("size",null,null,e)},getLength:function(e){d()&&c("length",null,null,e)},clear:function(e){d()&&c("clear",null,null,e)},wasInit:function(){return a}}}(),window.xdLocalStorageHA=window.xdLocalStorageHA||function(){var e="cross-domain-local-message",n={iframeId:"cross-domain-iframe",iframeUrls:void 0,initCallback:function(){}},t=-1,i=[],o=[],a=0,l={},r=[],c=!1,s=!1;function d(n){var t;try{t=JSON.parse(n.data)}catch(e){}t&&t.namespace===e&&("iframe-ready"===t.id||("ping"===t.action?(o[t.server]=!0,a++,console.log("XDLS ping reply server="+t.server+" seen_ct="+a)):r[t.server]=t))}function u(n,a,c,s){l[++t]=s;for(var d={namespace:e,etag:Date.now(),id:t,action:n,key:a,value:c},u=0;u<i.length;u++)("ping"==n||o[u])&&(d.server=u,r[u]=null,i[u].contentWindow.postMessage(JSON.stringify(d),"*"));"ping"!=n&&setTimeout(function(){for(var e=-1,n=-1,t=0;t<i.length;t++){var o=r[t];if(null!=o){var a=o.etag?o.etag:0;a>e&&(e=a,n=t)}}-1!=n?function(e){l[e.id]&&(l[e.id](e),delete l[e.id])}(r[n]):console.log("XDLS wait longer for response?")},250)}function f(e){n=XdUtils.extend(e,n),window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d);var t=0;n.iframeUrls.forEach(function(e){var o="id-"+n.iframeId+"-"+t,a=document.createElement("div");w3_add(a,"id-"+n.iframeId),a.innerHTML='<iframe id="'+o+'" src='+e+' style="display: none;"></iframe>',document.body.appendChild(a),i[t]=document.getElementById(o),t++})}function m(){return c?!!s||(console.log("You must wait for iframe ready message before using the api."),!1):(console.log("You must call xdLocalStorage.init() before using it."),!1)}return setTimeout(function(){u("ping",null,null,null),setTimeout(function(){console.log("XDLS seen servers="+a),s=!0,n.initCallback()},1e3)},5e3),{init:function(e){if(!e.iframeUrls)throw"You must specify iframeUrls";c?console.log("xdLocalStorage was already initialized!"):(c=!0,"complete"===document.readyState?f(e):window.onload=function(){f(e)})},setItem:function(e,n,t){m()&&u("set",e,n,t)},getItem:function(e,n){m()&&u("get",e,null,n)},removeItem:function(e,n){m()&&u("remove",e,null,n)},key:function(e,n){m()&&u("key",e,null,n)},getSize:function(e){m()&&u("size",null,null,e)},getLength:function(e){m()&&u("length",null,null,e)},clear:function(e){m()&&u("clear",null,null,e)},wasInit:function(){return c}}}();




/* web/pkgs/xdLocalStorage/xd-utils.min.js */
"use strict";window.XdUtils=window.XdUtils||function(){return{extend:function(n,t){var r,i=t||{};for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}}}();