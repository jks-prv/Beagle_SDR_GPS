

/* web/extensions/ext.min.js */
var extint={ws:null,extname:null,param:null,override_pb:!1,displayed:!1,help_displayed:!1,current_ext_name:null,using_data_container:!1,default_w:525,default_h:300,prev_mode:null,seq:0,no_lockout:["noise_blank","noise_filter","ant_switch","iframe","colormap","devl"],excl_devl:["sig_gen","devl","s4285"]},devl={in1:1,in2:0,in3:0};function ext_switch_to_client(e,t,n){recv_websocket(extint.ws,n),ext_send("SET ext_switch_to_client="+e+" first_time="+(t?1:0)+" rx_chan="+rx_chan),w3_call(e+"_focus")}function ext_send(e,t){null==t&&(t=extint.ws);try{return t.send(e),0}catch(e){console.log("CATCH ext_send('"+s+"') ex="+e),kiwi_trace()}}function ext_panel_show(e,t,n){extint_panel_show(e,t,n)}function ext_set_data_height(e){var t=w3_el("id-ext-data-container");e?t&&(t.style.height=px(e)):t&&(t.style.height="")}function ext_set_controls_width_height(e,t){panel_set_width_height("ext-controls",e,t)}var EXT_SAVE=!0,EXT_NO_SAVE=!1;function ext_get_cfg_param(e,t,n){var _;e=w3_add_toplevel(e);try{_=getVarFromString(e)}catch(e){_=null}return null!=_&&null!=_||null==t||(_=t,setVarFromString(e,_),null!=n&&n!=EXT_SAVE||cfg_save_json(e,extint.ws)),_}function ext_get_cfg_param_string(e,t,n){return decodeURIComponent(ext_get_cfg_param(e,t,n))}function ext_set_cfg_param(e,t,n){e=w3_add_toplevel(e),setVarFromString(e,t),null!=n&&n==EXT_SAVE&&cfg_save_json(e,extint.ws)}function ext_get_freq_range(){var e=cfg.freq_offset;return{lo_kHz:cfg.sdr_hu_lo_kHz+e,hi_kHz:cfg.sdr_hu_hi_kHz+e,offset_kHz:e}}var extint_isAdmin_cb,extint_authkey_cb,ext_zoom={TO_BAND:0,IN:1,OUT:-1,ABS:2,WHEEL:3,NOM_IN:8,MAX_IN:9,MAX_OUT:-9},extint_ext_is_tuning=!1;function ext_tune(e,t,n,_,i,o){var a=null!=i&&null!=o;extint_ext_is_tuning=!0,freqmode_set_dsp_kHz(e,t),a&&ext_set_passband(i,o),null!=n?zoom_step(n,_):zoom_step(ext_zoom.TO_BAND),extint_ext_is_tuning=!1}function ext_get_freq_Hz(){return{displayed:freq_displayed_Hz,carrier:freq_car_Hz,passband_center:freq_passband_center()}}function ext_get_freq(){return freq_displayed_Hz}function ext_get_freq_kHz(){return(freq_displayed_Hz/1e3).toFixed(2)}function ext_get_carrier_freq(){return freq_car_Hz}function ext_get_passband_center_freq(){return freq_passband_center()}function ext_get_mode(){return cur_mode}function ext_is_IQ_or_stereo_mode(){return"drm"==cur_mode||"iq"==cur_mode||"sas"==cur_mode}function ext_get_prev_mode(){return extint.prev_mode}function ext_set_mode(e,t,n){var _="drm"==e;_&&(extint.prev_mode=cur_mode),demodulator_analog_replace(e,t);var i=w3_opt(n,"open_ext",!1),o=w3_opt(n,"no_drm_proc",!1),a="undefined"!=typeof drm&&drm.active;o||(_&&i?a?toggle_panel("ext-controls",1):extint_open("drm"):!_&&a&&(extint_panel_hide(),demodulator_analog_replace(e,t)))}function ext_get_passband(){var e=demodulators[0];return{low:e.low_cut,high:e.high_cut}}function ext_set_passband(e,t,n,_){var i=demodulators[0],o=i.filter;null==e&&(e=i.low_cut),null==t&&(t=i.high_cut);Math.abs(t-e);e=e<o.low_cut_limit?o.low_cut_limit:e,t=t>o.high_cut_limit?o.high_cut_limit:t;var a=!1;Math.abs(t-e)>=o.min_passband&&e<t&&(i.low_cut=e,i.high_cut=t,a=!0),isArg(n)&&n&&a&&(passbands[cur_mode].last_lo=e,passbands[cur_mode].last_hi=t),null!=_&&null!=_&&(_*=1e3,freq_car_Hz=freq_dsp_to_car(_)),extint_ext_is_tuning=!0,demodulator_set_offset_frequency(0,freq_car_Hz-center_freq),extint_ext_is_tuning=!1}function ext_get_tuning(){return{low:demod.low_cut,high:demod.high_cut,mode:cur_mode,freq_dial_kHz:freq_displayed_Hz/1e3}}function ext_get_zoom(){return zoom_level}function ext_get_optbar(){return readCookie("last_optbar")}function ext_set_optbar(e){extint.optbars[e]&&(writeCookie("last_optbar",e),w3_el("id-nav-"+e).click())}function ext_hasCredential(e,t,n,_){var i;"mfg"==e&&(e="admin"),"admin"==e?(deleteCookie("admin"),deleteCookie("admin-pwd"),i=""):i=(i=readCookie(e))?decodeURIComponent(i):"",extint_pwd_cb=t,extint_pwd_cb_param=n,ext_valpwd(e,i,_)}function ext_valpwd(e,t,n){t=encodeURIComponent(t),"admin"!=e&&writeCookie(e,t),extint_conn_type=e,t=""!=t?t:"#";var _=null,i=readCookie("iplimit"),o=kiwi_url_param(["pwd","password"],"","");""!=o?_=o:i&&""!=i&&(_=i),_=_?" ipl="+_:"",null!=kiwi_url_param(["p","prot","protected"],"true",null)&&"admin"!=e&&(e="prot"),ext_send("SET auth t="+e+" p="+t+_,n)}function ext_isAdmin(e){extint_isAdmin_cb=e,ext_send("SET is_admin")}function ext_get_authkey(e){ext_send("SET get_authkey"),extint_authkey_cb=e}extint.optbars={"optbar-wf":0,"optbar-audio":1,"optbar-agc":2,"optbar-users":3,"optbar-status":4,"optbar-off":5};var extint_adc_clock_Hz=0;function ext_adc_clock_Hz(){return extint_adc_clock_Hz}var extint_adc_gps_clock_corr=0;function ext_adc_gps_clock_corr(){return extint_adc_gps_clock_corr}var extint_adc_clock_nom_Hz=0;function ext_adc_clock_nom_Hz(){return extint_adc_clock_nom_Hz}var extint_srate=0;function ext_sample_rate(){return extint_srate}var extint_audio_data_cb=null;function ext_register_audio_data_cb(e){extint_audio_data_cb=e}function ext_unregister_audio_data_cb(){extint_audio_data_cb=null}function ext_param(){var e=extint.param;return extint.param=null,e}function ext_panel_set_name(e){extint.current_ext_name=e}function ext_mobile_info(e){var t=window.innerWidth,n=window.innerHeight,_={width:t,height:n};_.wh_unchanged=e&&e.width==t&&e.height==n?1:0;var i=t<n||mobile_laptop_test?1:0;return _.orient_unchanged=e&&e.isPortrait==i?1:0,_.isPortrait=i?1:0,_.iPad=i&&t<=768?1:0,_.small=i&&t<768?1:0,_.narrow=i&&n<=600?1:0,_}function extint_news(e){var t=w3_el("id-news");t.style.width="400px",t.style.height="300px",t.style.visibility="visible",t.style.zIndex=9999,w3_innerHTML("id-news-inner",e)}function ext_panel_init(){w3_el("id-panels-container").innerHTML+='<div id="id-ext-controls" class="class-panel" data-panel-name="ext-controls" data-panel-pos="bottom-left" data-panel-order="0" data-panel-size="'+extint.default_w+","+extint.default_h+'"></div>';var e=w3_el("id-ext-data-container");e.style.zIndex=100,(e=w3_el("id-ext-controls")).innerHTML=w3_div("id-ext-controls-container w3-relative|width:100%;height:100%;")+w3_div("id-ext-controls-vis class-vis")+w3_div("id-ext-controls-help cl-ext-help",w3_button('id-ext-controls-help-btn w3-green w3-small w3-padding-small w3-disabled||onclick="extint_help_click()"',"help")),w3_el("id-kiwi-body").addEventListener("keyup",function(e){"Escape"==e.key&&extint.displayed&&!confirmation.displayed&&1!=w3_call(extint.current_ext_name+"_escape_key_cb")&&w3_el("id-ext-controls-close").click()},!0)}function extint_panel_show(e,t,n,_){var i;extint.using_data_container=!!t,extint.using_data_container?(toggle_or_set_spec(toggle_e.SET,0),w3_hide("id-top-container"),w3_show_block(w3_innerHTML("id-ext-data-container",t))):(w3_hide("id-ext-data-container"),spectrum_display||w3_show_block("id-top-container")),1==extint.help_displayed&&(confirmation_panel_close(),extint.help_displayed=!1),(i=w3_el("id-ext-controls-close")).onclick=function(){toggle_panel("ext-controls"),extint_panel_hide()},w3_el("id-ext-controls").style.zIndex=150,w3_attribute("id-ext-controls-close-img","src","icons/close.24.png"),(i=w3_el("id-ext-controls-container")).innerHTML=e,n&&n(),(i=w3_el("id-ext-controls")).style.zIndex=150,w3_visible(i,!0),i.panelShown=1,toggle_or_set_hide_panels(0),w3_el("id-confirmation-container").style.height="",_=isDefined(_)?_:w3_call(extint.current_ext_name+"_help",!1),w3_set_props("id-ext-controls-help-btn","w3-disabled",isUndefined(_)||0==_),w3_show_hide("id-ext-controls-help-btn","off"!=_),extint.displayed=!0}function ext_panel_displayed(e){return extint.displayed&&(!e||e==extint.current_ext_name)}function ext_panel_redisplay(e){w3_innerHTML("id-ext-controls-container",e)}function extint_panel_hide(){extint.using_data_container&&(w3_hide("id-ext-data-container"),w3_show_block("id-top-container"),extint.using_data_container=!1,1==extint.help_displayed&&(confirmation_panel_close(),extint.help_displayed=!1)),w3_visible("id-ext-controls",!1),extint_blur_prev(1),w3_select_value("id-select-ext",-1),resize_waterfall_container(!0),freqset_select(),extint.displayed=!1}function extint_help_click(){w3_contains("id-ext-controls-help-btn","w3-disabled")||(console.log(extint.current_ext_name+"_help_click CLICKED"),extint.help_displayed=w3_call(extint.current_ext_name+"_help",!0))}function extint_environment_changed(e){setTimeout(function(){extint.current_ext_name&&w3_call(extint.current_ext_name+"_environment_changed",e),w3_call("injection_environment_changed",e)},100)}var extint_pwd_cb=null,extint_pwd_cb_param=null,extint_conn_type=null;function extint_valpwd_cb(e){extint_pwd_cb&&extint_pwd_cb(e,extint_pwd_cb_param)}function extint_open_ws_cb(){ext_hasCredential("kiwi",null,null),setTimeout(function(){setInterval(function(){ext_send("SET keepalive")},5e3)},5e3)}function extint_connect_server(){return extint.ws=open_websocket("EXT",extint_open_ws_cb,null,extint_msg_cb),extint.ws}function extint_msg_cb(e,t){switch(e[0]){case"keepalive":break;case"ext_client_init":console.log("ext_client_init is_locked="+ +e[1]),extint_focus(+e[1]);break;default:return!1}return!0}function extint_blur_prev(e){null!=extint.current_ext_name&&(w3_call(extint.current_ext_name+"_blur"),recv_websocket(extint.ws,null),e&&ext_set_controls_width_height(),extint.current_ext_name=null,time_display_setup("id-topbar-right-container")),extint.ws&&ext_send("SET ext_blur="+rx_chan)}function extint_focus(e){var t=extint.current_ext_name;if(console.log("extint_focus: loading "+t+".js"),e&&!extint.no_lockout.includes(t))return extint_panel_show(w3_text("w3-medium w3-text-css-yellow","Cannot use extensions while <br> another channel is in DRM mode."),null,null,"off"),void ext_set_controls_width_height(300,75);kiwi_load_js_dir("extensions/"+t+"/"+t,[".js",".css"],function(){console.log("extint_focus: calling "+t+"_main()"),ext_set_controls_width_height(),w3_call(t+"_main")},function(e){if(console.log("extint_focus: "+t+" loaded="+e),e){extint_panel_show("loading extension...",null,null,"off"),ext_set_controls_width_height(325,45),kiwi.is_locked&&console.log("==== IS_LOCKED =================================================")}})}var extint_names,extint_first_ext_load=!0;function extint_select(e){extint_blur_prev(0),e=+e,w3_select_value("id-select-ext",e);var t,n=w3_el("id-select-ext").childNodes[e+1].innerHTML.toLowerCase();console.log("extint_select val="+e+" name="+n),extint_names_enum(function(e,_,i,o){i.toLowerCase().includes(n)&&(console.log("extint_select HIT id="+i+" id_en="+o+" i="+e+" value="+_),t=e)}),extint.current_ext_name=extint_names[t],extint_first_ext_load?(extint.ws=extint_connect_server(),extint_first_ext_load=!1):ext_send("SET ext_is_locked_status")}function extint_list_json(e){extint_names=JSON.parse(decodeURIComponent(e))}function extint_names_enum(e){var t,n;for(t=n=0;t<extint_names.length;t++){var _=extint_names[t];if(dbgUs||!extint.excl_devl.includes(_)){"wspr"==_&&(_="WSPR");var i=_;"cw_decoder"==i&&(i="cw"),"SSTV"==i&&(i="sstv"),"TDoA"==i&&(i="tdoa"),e(t,n,_,i),n++}}}function extint_select_build_menu(){var e="";return extint_names&&isArray(extint_names)&&extint_names_enum(function(t,n,_,i){var o=ext_get_cfg_param(i+".enable");console.log("extint_select_menu id_en="+i+" en="+o),(null==o||kiwi.is_local[rx_chan])&&(o=!0),"DRM"==_&&(kiwi.DRM_enable=o),e+="<option value="+dq(n)+" kiwi_idx="+dq(t)+" "+(o?"":"disabled")+">"+_+"</option>"}),e}function extint_open(e,t){e=e.toLowerCase();var n=0;extint_names_enum(function(_,i,o,a){var l=ext_get_cfg_param(a+".enable");(null==l||kiwi.is_local[rx_chan])&&(l=!0),!n&&l&&o.toLowerCase().includes(e)&&(t?setTimeout(function(){extint_select(i)},t):extint_select(i),n=1)})}function extint_audio_data(e,t){isFunction(extint_audio_data_cb)&&extint_audio_data_cb(e,t)}




/* web/kiwi/kiwi.min.js */
var kiwi={is_local:[],loaded_files:{},WSPR_rgrid:"",GPS_fixes:0,wf_fps:0,inactivity_panel:!1,is_multi_core:0,modes_l:["am","amn","usb","lsb","cw","cwn","nbfm","iq","drm","usn","lsn","sam","sal","sau","sas"],modes_u:[],modes_s:{},RX4_WF4:0,RX8_WF2:1,RX3_WF3:2,RX14_WF0:3,cmap_s:["Kiwi","CuteSDR","grey","linear","turbo","SdrDx","custom 1","custom 2","custom 3","custom 4"],cmap_e:{kiwi:0,CuteSDR:1,greyscale:2,linear:3,turbo:4,SdrDx:5,custom_1:6,custom_2:7,custom_3:8,custom_4:9},aper_s:["man","auto"],aper_e:{man:0,auto:1}};kiwi.modes_l.forEach(function(e,i){kiwi.modes_u.push(e.toUpperCase()),kiwi.modes_s[e]=i});var rx_chans,wf_chans,wf_chans_real,rx_chan,conn_type,timestamp,gmap,WATERFALL_CALIBRATION_DEFAULT=-13,SMETER_CALIBRATION_DEFAULT=-13,try_again="",seriousError=!1,types=["active","watch-list","sub-band","DGPS","special event","interference","masked"],types_s={active:0,watch_list:1,sub_band:2,DGPS:3,special_event:4,interference:5,masked:6},type_colors={0:"cyan",16:"lightPink",32:"aquamarine",48:"lavender",64:"violet",80:"violet",96:"lightGrey"},optbar_prefix_color="w3-text-css-orange",dbgUs=!1,dbgUsFirst=!0;function kiwi_bodyonload(e){if(""!=e)kiwi_serious_error(e);else{initCookie("ident","").startsWith("ZL/KF6VO")&&(dbgUs=!0),"undefined"==(conn_type=html("id-kiwi-container").getAttribute("data-type"))&&(conn_type="kiwi"),console.log("conn_type="+conn_type),w3int_init();var i=new Date;timestamp=i.getTime(),extint.ws="kiwi"==conn_type?owrx_ws_open_snd(kiwi_open_ws_cb,{conn_type:conn_type}):kiwi_ws_open(conn_type,kiwi_open_ws_cb,{conn_type:conn_type})}}function kiwi_open_ws_cb(e){"kiwi"!=e.conn_type&&setTimeout(function(){setInterval(function(){ext_send("SET keepalive")},5e3)},5e3),seriousError||ext_hasCredential(e.conn_type,kiwi_valpwd1_cb,e)}function kiwi_load_js_polled(e,i){return e.started||(kiwi_load_js(i,function(){e.finished=!0}),e.started=!0,e.finished=!1),e.finished}function kiwi_load_js_dir(e,i,t,r){for(var s=0;s<i.length;s++)i[s]=e+i[s];kiwi_load_js(i,t,r)}function kiwi_load_js(e,i,t){console.log("DYNLOAD START"),e.push("kiwi/kiwi_js_load.js"),console.log(e);var r=!1;e.forEach(function(t){if(kiwi.loaded_files[t])console.log("already loaded: "+t);else{if(t.includes("kiwi_js_load.js")){if(!r)return}else kiwi.loaded_files[t]=1,r=!0;var s,o=!1;t.endsWith(".js")||t.includes("/js?key=")?((s=document.createElement("script")).src=t,s.type="text/javascript","kiwi/kiwi_js_load.js"==t&&(s.kiwi_js=e[0],s.kiwi_cb=i)):t.endsWith(".css")?((s=document.createElement("link")).rel="stylesheet",s.href=t,s.type="text/css"):o=!0,o?console.log("UNKNOWN FILETYPE "+t):(s.async=!1,document.head.appendChild(s),console.log("loading "+t))}}),console.log("DYNLOAD FINISH"),r?t&&w3_call(t,!0):(t&&w3_call(t,!1),i&&w3_call(i))}function kiwi_ask_pwd(e){console.log("kiwi_ask_pwd chan_no_pwd="+chan_no_pwd+" client_public_ip="+client_public_ip);var i="";e&&chan_no_pwd&&(i="All channels busy that don't require a password ("+chan_no_pwd+"/"+rx_chans+")<br>"),kiwi_url_param(["p","prot","protected"],!0,!1)&&e&&(i="You have requested a password protected channel<br>"),kiwi_show_msg("KiwiSDR: software-defined receiver <br>"+i+"<form name='pform' style='display:inline-block' action='#' onsubmit='ext_valpwd(\""+conn_type+"\", this.pwd.value); return false;'>"+try_again+w3_input('w3-label-inline w3-label-not-bold/kiwi-pw|padding:1px|name="pwd" size=40 onclick="this.focus(); this.select()"',"Password:")+"</form>"),document.pform.pwd.focus(),document.pform.pwd.select()}var override_freq,override_mode,override_zoom,override_max_dB,override_min_dB,override_9_10,body_loaded=!1;function kiwi_valpwd1_cb(e,i){if(!seriousError)if(1==e)kiwi_ask_pwd("kiwi"==i.conn_type),try_again="Try again. ";else{if(2==e)return void kiwi_show_msg("Still determining local interface address.<br>Please try reloading page in a few moments.");if(3==e)return void kiwi_show_msg("Admin connections not allowed from this ip address.");if(4==e)return void kiwi_show_msg("No admin password set. Can only connect from same local network as Kiwi.<br>Client ip = "+client_public_ip);if(5==e)return void kiwi_show_msg("Multiple connections from the same ip address not allowed.<br>Client ip = "+client_public_ip);0==e&&("kiwi"==i.conn_type?extint.ws=owrx_ws_open_wf(kiwi_open_ws_cb2,i):kiwi_valpwd2_cb(0,i))}}function kiwi_open_ws_cb2(e){ext_hasCredential(e.conn_type,kiwi_valpwd2_cb,e)}function kiwi_valpwd2_cb(e,i){if(!seriousError)if(kiwi_show_msg(""),body_loaded)console.log("kiwi_valpwd2_cb: body_loaded previously!");else{body_loaded=!0,"kiwi"!=i.conn_type&&(w3_hide("id-kiwi-msg-container"),w3_show_block("id-kiwi-container"),w3_el("id-kiwi-body").style.overflow="hidden");try{kiwi_init(),w3_call(i.conn_type+"_main")}catch(e){console.log("EX: "+e),console.log("kiwi_valpwd2_cb: no interface routine for "+i.conn_type+"?")}}}function kiwi_init(){}function kiwi_xdLocalStorage_init(){if(dbgUs){for(var e=[],i=0;i<5;i++)e[i]=dbgUs&&0==i?"http://kiwisdr.com/pkgs/xdLocalStorage/xdLocalStorage-min.html":"http://pub"+i+".kiwisdr.com:8073/pkgs/xdLocalStorage/xdLocalStorage-min.html";xdLocalStorageHA.init({iframeUrls:e,initCallback:function(){console.log("xdLocalStorageHA READY")}})}}function kiwi_get_init_settings(){var e=null==init_frequency?7020:init_frequency;e=ext_get_cfg_param("init.freq",e,EXT_NO_SAVE),init_frequency=override_freq||e;var i=null==init_mode?kiwi.modes_s.lsb:kiwi.modes_s[init_mode];i=ext_get_cfg_param("init.mode",i,EXT_NO_SAVE),init_mode=override_mode||kiwi.modes_l[i],"drm"===init_mode&&(init_mode="am");var t=null==init_zoom?0:init_zoom;t=ext_get_cfg_param("init.zoom",t,EXT_NO_SAVE),init_zoom=override_zoom||t;var r=null==init_max_dB?-10:init_max_dB;r=ext_get_cfg_param("init.max_dB",r,EXT_NO_SAVE),init_max_dB=override_max_dB||r;var s=null==init_min_dB?-110:init_min_dB;s=ext_get_cfg_param("init.min_dB",s,EXT_NO_SAVE),init_min_dB=override_min_dB||s,console.log("INIT f="+init_frequency+" m="+init_mode+" z="+init_zoom+" min="+init_min_dB+" max="+init_max_dB),w3_call("init_scale_dB");var o=ext_get_cfg_param("rx_antenna"),n=w3_el("rx-antenna");null!=n&&o&&(n.innerHTML="Antenna: "+decodeURIComponent(o)),kiwi.WSPR_rgrid=ext_get_cfg_param_string("WSPR.grid","",EXT_NO_SAVE)}var cfg={},adm={};function cfg_save_json(e,i){var t;null!=i&&null!=i&&(e.startsWith("adm.")?(t=encodeURIComponent(JSON.stringify(adm)),i.send("SET save_adm="+t)):(t=encodeURIComponent(JSON.stringify(cfg)),i.send("SET save_cfg="+t)),console.log("cfg_save_json: DONE"))}var server_time_utc,server_time_local,server_time_tzid,server_time_tzname,server_tz,geo={geo:"",json:"",retry:0};function kiwi_geolocate(e){var i=kiwi_isFirefox();if(!(i&&i<=28)){var t;switch(null==e&&(e=(new Date).getSeconds()),e%=3){case 0:t="ipapi.co/json";break;case 1:t="extreme-ip-lookup.com/json";break;case 2:t="get.geojs.io/v1/ip/geo.json"}kiwi_ajax("https://"+t,function(i){void 0===i.AJAX_error?(console.log("GEOLOC "+t),console.log(i),geoloc_json(i)):geo.retry++<=3&&kiwi_geolocate(e+1)},null,5e3)}}function geoloc_json(e){if(null==e.AJAX_error){window.JSON&&window.JSON.stringify?geo.json=JSON.stringify(e):geo.json=e.toString();var i=e.country_name||e.country;"United States"==i&&e.region&&(i=e.region+", USA"),geo.geo="",e.city&&(geo.geo+=e.city),i&&(geo.geo+=(e.city?", ":"")+i),console.log("GEOLOC "+geo.geo)}}function kiwi_geo(){return encodeURIComponent(geo.geo)}function kiwi_geojson(){return encodeURIComponent(geo.json)}var time_display_current=!0;function time_display_cb(e){isUndefined(e.tu)||(server_time_utc=e.tu,server_time_local=e.tl,server_time_tzid=decodeURIComponent(e.ti),server_time_tzname=decodeURIComponent(e.tn).replace(/\\/g,"").replace(/_/g," "),server_tz=server_time_tzname,server_time_tzid&&(server_tz+=" ("+server_time_tzid+")"),time_display_started?time_display(time_display_current):(time_display_periodic(),time_display_started=!0))}function time_display(e){if(w3_el("id-time-display-text-inner")){var i=""==server_time_local||"null"==server_time_tzname;w3_set_innerHTML("id-time-display-UTC",server_time_utc||"?"),w3_set_innerHTML("id-time-display-local",i?"?":server_time_local),w3_set_innerHTML("id-time-display-tzname",i?"Lat/lon needed for local time":server_tz),w3_el("id-time-display-logo-inner").style.opacity=e?0:1,w3_el("id-time-display-inner").style.opacity=e?1:0}}function time_display_periodic(){time_display(time_display_current),time_display_current^=1,setTimeout(function(){time_display_periodic()},time_display_current?5e4:1e4)}var time_display_prev,time_display_started=!1;function time_display_setup(e){var i;0==e.startsWith("id-")&&(e+="-time-display"),time_display_prev&&(i=w3_el(time_display_prev))&&(i.innerHTML=""),time_display_prev=e,(i=w3_el(e)).innerHTML=w3_div("id-time-display-inner",w3_div("id-time-display-text-inner",w3_inline("",w3_div("id-time-display-UTC"),w3_div("cl-time-display-text-suffix","UTC")),w3_inline("",w3_div("id-time-display-local"),w3_div("cl-time-display-text-suffix","Local")),w3_div("id-time-display-tzname")))+w3_div("id-time-display-logo-inner",w3_div("id-time-display-logo-text","Powered by"),'<a href="https://github.com/ha7ilm/openwebrx" target="_blank"><img id="id-time-display-logo" src="gfx/openwebrx-top-logo.png" /></a>'),time_display(time_display_current)}function time_display_width(){return 200}function time_display_html(e){return w3_div(e+"-time-display|top:50px; background-color:black; position:relative;")}var perf_status_anim,perf_status_timeout,pref={},pref_default={p:"default-p"};function show_pref(){pref_load(function(){var e=w3_divs("w3-text-css-yellow/w3-tspace-16",w3_div("w3-medium w3-text-aqua","<b>User preferences</b>"),w3_col_percent("",w3_input("","Pref","pref.p",pref.p,"pref_p_cb","something"),30),w3_div("w3-show-inline-block w3-hspace-16",w3_button("","Export","pref_export_btn_cb"),w3_button("","Import","pref_import_btn_cb"),"<b>Status:</b> "+w3_div("id-pref-status w3-show-inline-block w3-snap-back")));extint_panel_hide(),ext_panel_set_name("show_pref"),ext_panel_show(e,null,show_pref_post),ext_set_controls_width_height(1024,250),freqset_select()})}function pref_p_cb(e,i){w3_string_cb(e,i),pref_save()}function pref_refresh_ui(){w3_set_value("pref.p",pref.p)}function pref_status(e,i){var t=w3_el("id-pref-status");if(perf_status_anim)return kiwi_clearTimeout(perf_status_timeout),w3_remove_then_add(t,"w3-fade-out","w3-snap-back"),void setTimeout(function(){perf_status_anim=!1,pref_status(e,i)},1e3);t.style.color=e,t.innerHTML=i,w3_remove_then_add(t,"w3-snap-back","w3-fade-out"),perf_status_anim=!0,perf_status_timeout=setTimeout(function(){t.innerHTML="",w3_remove_then_add(t,"w3-fade-out","w3-snap-back"),perf_status_anim=!1},1500)}function pref_export_btn_cb(e,i){console.log("pref_export_btn_cb"),pref_save(function(){console.log("msg_send pref_export"),msg_send("SET pref_export id="+encodeURIComponent(pref.id)+" pref="+encodeURIComponent(JSON.stringify(pref)))}),pref_status("lime","preferences exported")}function pref_import_btn_cb(e,i){console.log("pref_import_btn_cb");var t=ident_user||"_blank_";msg_send("SET pref_import id="+encodeURIComponent(t))}function pref_import_cb(e,i){var t=decodeURIComponent(e);console.log("pref_import_cb "+t),"null"!=t?(pref=JSON.parse(t),console.log(pref),pref_save(),pref_refresh_ui(),pref_status("lime","preferences successfully imported from RX"+i)):pref_status("yellow","no preferences previously exported")}function pref_load(e){var i=ident_user||"_blank_";xdLocalStorageHA.getItem("pref."+i,function(t){console.log("xdLocalStorage.getItem pref."+i),console.log(t),pref=null==t.value?pref_default:JSON.parse(t.value),console.log(pref),e&&e()})}function pref_save(e){var i=ident_user||"_blank_";pref.id=i;var t=JSON.stringify(pref);xdLocalStorageHA.setItem("pref."+i,t,function(t){console.log("xdLocalStorage.setItem pref."+i),console.log(t),e&&e()})}function show_pref_post(){console.log("show_pref_post")}function show_pref_blur(){console.log("show_pref_blur")}var ansi={colors:[[0,0,0],[194,54,33],[37,188,36],[173,173,39],[73,46,225],[211,56,211],[51,187,200],[203,204,205],[129,131,131],[252,57,31],[49,231,34],[234,236,35],[88,51,255],[249,53,248],[20,240,240],[233,235,235]]};function kiwi_output_msg(e,i,t){var r=w3_el(e);if(r){var s;try{s=decodeURIComponent(t.s)}catch(e){console.log("decodeURIComponent FAIL:"),console.log(t.s),s=t.s}t.init||(t.el=w3_appendElement(r,"pre",""),t.esc={s:"",state:0},t.sgr={span:0,bright:0,fg:null,bg:null},t.init=!0);var o="",n=w3_el(i),_=null;isUndefined(t.tstr)&&(t.tstr=""),isUndefined(t.col)&&(t.col=0),!t.process_return_alone||"\r"!=s.charAt(0)||1!=s.length&&"\n"==s.charAt(1)||(s=s.substring(1),t.tstr=o="",t.col=0),t.remove_returns&&(s=s.replace(/\r/g,""));for(var a=0;a<s.length;a++){var c=s.charAt(a);if("\f"==c){for(;r.firstChild;)r.removeChild(r.firstChild);t.el=w3_appendElement(r,"pre",""),t.tstr=o="",t.col=0}else if("\t"==c)for(o+="&nbsp;",t.col++;0!=(7&t.col);)o+="&nbsp;",t.col++;else if(""==c)t.esc.s="",t.esc.state=1;else if(1==t.esc.state)if(c<"@"||"["==c)t.esc.s+=c;else{t.esc.s+=c;var l=t.esc.s.charAt(0),d=t.esc.s.charAt(1),p=0;if("["==l)if("m"==c){for(var w,f=0,u=0,m=t.esc.s.substr(1).split(";"),g=m.length,b=0;b<g&&0==p;b++)if(0==(w=""==m[b]||"m"==m[b]?0:parseInt(m[b])))t.sgr.fg=t.sgr.bg=null,f=1;else if(isNaN(w))p=2;else if(1==w)t.sgr.bright=8;else if(2==w)t.sgr.bright=0;else if(22==w)t.sgr.bright=0;else if(7==w){var k=t.sgr.fg;t.sgr.fg=t.sgr.bg,t.sgr.bg=k,null==t.sgr.fg&&(t.sgr.fg=[255,255,255]),null==t.sgr.bg&&(t.sgr.bg=[0,0,0]),u=1}else if(27==w)t.sgr.fg=t.sgr.bg=null,u=1;else if(w>=30&&w<=37)t.sgr.fg=ansi.colors[w-30+t.sgr.bright],u=1;else if(w>=90&&w<=97)t.sgr.fg=ansi.colors[w-90+8],u=1;else if(39==w)t.sgr.fg=null,u=1;else if(w>=40&&w<=47)t.sgr.bg=ansi.colors[w-40+t.sgr.bright],u=1;else if(w>=100&&w<=107)t.sgr.bg=ansi.colors[w-100+8],u=1;else if(49==w)t.sgr.bg=null,u=1;else if(38==w||48==w){var v,h,x,y,S,T;3!=g||5!=parseInt(m[1])||isNaN(v=parseInt(m[2]))?5!=g||2!=parseInt(m[1])||isNaN(h=parseInt(m[2]))||isNaN(x=parseInt(m[3]))||isNaN(y=parseInt(m[4]))?p=2:(S=[h=w3_clamp(h,0,255),x=w3_clamp(x,0,255),y=w3_clamp(y,0,255)],38==w?t.sgr.fg=S:t.sgr.bg=S,u=1):(b+=2,v<=15?(S=ansi.colors[v],38==w?t.sgr.fg=S:t.sgr.bg=S,u=1):v<=231?(v-=16,v-=36*(h=Math.floor(v/36)),y=v-=6*(x=Math.floor(v/6)),S=[h=Math.floor(255*h/5),x=Math.floor(255*x/5),y=Math.floor(255*y/5)],38==w?t.sgr.fg=S:t.sgr.bg=S,u=1):v<=255?(S=[T=8+10*(v-232),T,T],38==w?t.sgr.fg=S:t.sgr.bg=S,u=1):p=2)}else p=2;f?t.sgr.span&&(o+="</span>",t.sgr.span=0):u?(t.sgr.span&&(o+="</span>"),o+='<span style="'+(t.sgr.fg?"color:"+kiwi_rgb(t.sgr.fg)+";":"")+(t.sgr.bg?"background-color:"+kiwi_rgb(t.sgr.bg)+";":"")+'">',t.sgr.span=1):p=2}else"K"==c?p="erase in line":"P"==c?p="del # chars":"?"==d?p="set/reset mode":"r"==c||(p="l"==c?"reset mode":"J"==c?"2"==d||"3"==d?"erase whole display":"1"==d?"erase start to cursor":2:"H"==c?"move row,col":"d"==c?"move row":"G"==c?"move col":2);else"("==l||(p=2);1===p?console.log("ESC "+JSON.stringify(t.esc.s)+" IGNORED"):2===p?console.log("ESC "+JSON.stringify(t.esc.s)+" UNKNOWN"):isString(p)&&console.log("ESC "+JSON.stringify(t.esc.s)+" "+p),t.esc.state=0}else(c>=" "&&c<="~"||"\n"==c)&&("<"==c?(o+="&lt;",t.col++):">"==c?(o+="&gt;",t.col++):("\n"!=c&&(o+=c,t.col++),"\n"!=c&&t.col!=t.ncol||(_=kiwi_isScrolledDown(n),t.tstr+=o,""==t.tstr&&(t.tstr="&nbsp;"),t.el.innerHTML=t.tstr,t.tstr=o="",t.el=w3_appendElement(r,"pre",""),t.col=0,w3_contains(n,"w3-scroll-down")&&(!t.scroll_only_at_bottom||t.scroll_only_at_bottom&&_)&&(n.scrollTop=n.scrollHeight))))}_=kiwi_isScrolledDown(n),t.tstr+=o,t.el.innerHTML=t.tstr,w3_contains(n,"w3-scroll-down")&&(!t.scroll_only_at_bottom||t.scroll_only_at_bottom&&_)&&(n.scrollTop=n.scrollHeight)}else console.log("kiwi_output_msg NOT_FOUND id="+e)}function gps_stats_cb(e,i,t,r,s,o){var n=(e?"yes":"pause")+", track "+i+", good "+t+", fixes "+r.toUnits();w3_el_softfail("id-msg-gps").innerHTML="GPS: acquire "+n,w3_innerHTML("id-status-gps",w3_text(optbar_prefix_color,"GPS"),w3_text("","acq "+n)),extint_adc_clock_Hz=1e6*s,extint_adc_gps_clock_corr=o,o&&(n=s.toFixed(6)+" ("+o.toUnits()+" avgs)",w3_el_softfail("id-msg-gps").innerHTML+=", ADC clock "+n,w3_innerHTML("id-status-adc",w3_text(optbar_prefix_color,"ADC clock "),w3_text("",n)))}function admin_stats_cb(e,i,t,r,s,o,n,_){if(null!=e){var a=w3_el("id-msg-errors");if(a&&(a.innerHTML="Stats: "+e.toUnits()+" dropped, "+i.toUnits()+" underruns, "+t.toUnits()+" sequence, "+r.toUnits()+" realtime"),a=w3_el("id-status-dp-hist")){for(var c="Datapump: ",l=0;l<s;l++)c+=(l?", ":"")+o[l].toUnits();a.innerHTML=c}if(a=w3_el("id-status-in-hist")){for(c="SoundInQ: ",l=0;l<n;l++)c+=(l?", ":"")+_[l].toUnits();a.innerHTML=c}}}function kiwi_too_busy(e){kiwi_show_msg("Sorry, the KiwiSDR server is too busy right now ("+e+(e>1?" users":" user")+' max). <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.')}function kiwi_exclusive_use(){kiwi_show_msg('Sorry, this Kiwi has been locked for special use. <br>This happens when using an extension (e.g. DRM decoder) that requires all available resources. <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide. <br><br>Áî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ„Åì„ÅÆ„Ç≠„Éº„Ç¶„Ç£„ÅØÁâπÂà•„Å™‰ΩøÁî®„ÅÆ„Åü„ÇÅ„Å´„É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ <br>„Åì„Çå„ÅØ„ÄÅÂà©Áî®ÂèØËÉΩ„Å™„Åô„Åπ„Å¶„ÅÆ„É™„ÇΩ„Éº„Çπ„ÇíÂøÖË¶Å„Å®„Åô„ÇãÊã°ÂºµÊ©üËÉΩÔºàDRM „Éá„Ç≥„Éº„ÉÄ„Éº„Å™„Å©Ôºâ„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´Áô∫Áîü„Åó„Åæ„Åô„ÄÇ <br>‰∏ñÁïå‰∏≠„ÅßÂà©Áî®„Åß„Åç„Çã KiwiSDR „É¨„Ç∑„Éº„Éê„Éº„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ<a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> „ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ')}function kiwi_ip_limit_pwd_cb(e){console.log("kiwi_ip_limit_pwd_cb pwd="+e),writeCookie("iplimit",encodeURIComponent(e)),window.location.reload(!0)}function kiwi_show_error_ask_exemption(e){kiwi_show_msg(e+='<br><br>If you have an exemption password from the KiwiSDR owner/admin <br> please enter it here: <form name="pform" style="display:inline-block" action="#" onsubmit="kiwi_ip_limit_pwd_cb(this.pinput.value); return false">'+w3_input('w3-label-inline w3-label-not-bold/kiwi-pw|padding:1px|name="pinput" size=40 onclick="this.focus(); this.select()"',"Password:")+"</form>"),document.pform.pinput.focus(),document.pform.pinput.select()}function kiwi_inactivity_timeout(e){kiwi_show_msg("Sorry, this KiwiSDR has an inactivity timeout after "+e+" minutes.<br>Reload the page to continue.")}function kiwi_24hr_ip_limit(e,i){kiwi_show_error_ask_exemption("Sorry, this KiwiSDR can only be used for "+e+' minutes every 24 hours by each IP address.<br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.')}function kiwi_password_entry_timeout(){kiwi_show_msg("Timeout. Please reload page to continue.")}function kiwi_up(e){seriousError||(w3_hide("id-kiwi-msg-container"),w3_show_block("id-kiwi-container"),w3_el("id-kiwi-body").style.overflow="hidden")}function kiwi_down(e,i,t){var r;1==(e=+e)?(r='Sorry, software update in progress. Please check back in a few minutes.<br>Or check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.',i>0&&i<9e3?r+="<br>Build: compiling file #"+i:9997==i?r+="<br>Build: linking":9998==i?r+="<br>Build: installing":9999==i&&(r+="<br>Build: done")):2==e?r="Backup in progress.":(null!=t&&""!=t||(t='Sorry, this KiwiSDR server is being used for development right now. <br>Please check <a href="http://rx.kiwisdr.com" target="_self">rx.kiwisdr.com</a> for more KiwiSDR receivers available world-wide.'),r=t),kiwi_show_msg(r)}var stats_interval=1e4,need_config=!0;function stats_init(){need_config&&(msg_send("SET GET_CONFIG"),need_config=!1),stats_update()}function stats_update(){msg_send("SET STATS_UPD ch="+rx_chan);var e=new Date,i=Math.ceil(e/stats_interval)*stats_interval-e;i<stats_interval/2&&(i+=stats_interval),setTimeout(stats_update,i)}function status_periodic(){w3_innerHTML("id-status-stats-cpu",kiwi_cpu_stats_str),w3_innerHTML("id-status-stats-xfer",kiwi_xfer_stats_str),w3_innerHTML("id-msg-stats-cpu",kiwi_cpu_stats_str_long),w3_innerHTML("id-msg-stats-xfer",kiwi_xfer_stats_str_long)}var kiwi_xfer_stats_str="",kiwi_xfer_stats_str_long="";function xfer_stats_cb(e,i,t,r,s){kiwi_xfer_stats_str=w3_text(optbar_prefix_color,"Net")+w3_text("","aud "+e.toFixed(0)+", wf "+i.toFixed(0)+", http "+r.toFixed(0)+", total "+s.toFixed(0)+" kB/s"),kiwi_xfer_stats_str_long="Network (all channels): audio "+e.toFixed(0)+" kB/s, waterfall "+i.toFixed(0)+" kB/s ("+t.toFixed(0)+" fps), http "+r.toFixed(0)+" kB/s, total "+s.toFixed(0)+" kB/s ("+(8*s).toFixed(0)+" kb/s)"}var kiwi_cpu_stats_str="",kiwi_cpu_stats_str_long="",kiwi_config_str="",kiwi_config_str_long="";function cpu_stats_cb(e,i,t,r){d%=100;var s=e.cc?e.cc:0,o=9*s/5+32,n=e.cc?e.cc>=60?"w3-text-css-red w3-bold":e.cc>=50?"w3-text-css-yellow":"w3-text-css-lime":"",_=s?s.toFixed(0)+"&deg;C "+o.toFixed(0)+"&deg;F ":"",a=e.cf>=1e3?(e.cf/1e3).toFixed(1)+" GHz":e.cf.toFixed(0)+" MHz";kiwi_cpu_stats_str=w3_text(optbar_prefix_color,"BB ")+w3_text("",e.cu[0]+","+e.cs[0]+","+e.ci[0]+" usi% ")+(s?w3_text(n,_):"")+w3_text("",a+" ")+w3_text(optbar_prefix_color,"FPGA")+w3_text("",t.toFixed(0)+"%"),kiwi.wf_fps=r;for(var c="",l="",d="",p=!0,w=0;w<e.cu.length;w++)c+=(p?"":" ")+e.cu[w]+"%",l+=(p?"":" ")+e.cs[w]+"%",d+=(p?"":" ")+e.ci[w]+"%",p=!1;var f="cpu";if(e.cu.length>1){f+="0";for(w=1;w<e.cu.length;w++)f+=" cpu"+w}kiwi_cpu_stats_str_long=w3_inline("",w3_text("w3-text-black","Beagle: "+f+" "+c+" usr | "+l+" sys | "+d+" idle,"+(s?"":" "))+(s?"&nbsp;"+w3_text(n+" w3-text-outline w3-large",_)+"&nbsp;":"")+w3_text("w3-text-black",a+", ")+w3_text("w3-text-black","FPGA eCPU: "+t.toFixed(0)+"%"));var u=i,m=Math.trunc(u%60);u=Math.trunc(u/60);var g=Math.trunc(u%60);u=Math.trunc(u/60);var b=Math.trunc(u%24),k=u=Math.trunc(u/24),v=" ";k&&(v+=k+"d:"),v+=b+":"+g.leadingZeros(2)+":"+m.leadingZeros(2),w3_innerHTML("id-status-config",w3_text(optbar_prefix_color,"Up"),w3_text("",v+", "+kiwi_config_str)),v=" | Uptime: ",k&&(v+=k+" "+(k>1?"days":"day")+" "),v+=b+":"+g.leadingZeros(2)+":"+m.leadingZeros(2);var h=""==server_time_local||"null"==server_time_tzname;server_time_utc&&(v+=" | UTC: "+server_time_utc),isDefined(server_time_tzname)&&(v+=" | Local: ",h||(v+=server_time_local+" "),v+=h?"Lat/lon needed for local time":server_tz),w3_innerHTML("id-msg-config",kiwi_config_str_long+v)}function config_str_update(e,i,t,r){kiwi_config_str="v"+t+"."+r+", "+e+" SDR ch, "+i+" GPS ch",w3_innerHTML("id-status-config",kiwi_config_str),kiwi_config_str_long="Config: v"+t+"."+r+", "+e+" SDR channels, "+i+" GPS channels",w3_innerHTML("id-msg-config",kiwi_config_str)}var config_net={};function config_cb(e,i,t,r,s,o,n,_,a,c,l){config_str_update(e,i,c,l);var d=w3_el("id-net-config");d&&(d.innerHTML=w3_div("",w3_col_percent("",w3_div("","Public IP address (outside your firewall/router): "+r+" [port "+s+"]"),50,w3_div("","Ethernet MAC address: "+a.toUpperCase()),30,w3_div("","KiwiSDR serial number: "+t),20),w3_col_percent("",w3_div("","Private IP address (inside your firewall/router): "+o+" [port "+n+"]"),50,w3_div("","Private netmask: /"+_),50)),config_net.pub_ip=r,config_net.pub_port=s,config_net.pvt_ip=r,config_net.pvt_port=n,config_net.mac=a,config_net.serno=t)}function update_cb(e,i,t,r,s,o,n,_,a,c,l){config_str_update(r,s,o,n);var d,p=w3_el("id-msg-update");p&&(d="Installed version: v"+o+"."+n+", built "+c+" "+l,d+=e?"<br>Cannot build, filesystem is FULL!":t?"<br>Update to version v"+ +_+"."+a+" in progress":i?"<br>Update check pending":-1==_?"<br>Error determining the latest version -- check log":o==_&&n==a?"<br>Running most current version":"<br>Available version: v"+_+"."+a,p.innerHTML=d)}var users_interval=2500,user_init=!1;function users_init(e){console.log("users_init #rx="+rx_chans);for(var i=0;i<rx_chans;i++)divlog("RX"+i+': <span id="id-user-'+i+'"></span> '+(e?w3_button("id-user-kick-"+i+" w3-small w3-white w3-border w3-border-red w3-round-large w3-padding-0 w3-padding-LR-8","Kick","status_user_kick_cb",i):""));users_update(),w3_call("users_setup"),user_init=!0}function users_update(){msg_send("SET GET_USERS"),setTimeout(users_update,users_interval)}function user_cb(e){e.forEach(function(e){var i="",t="",r=e.i,s=e.n,o=e.f,n=e.g,_=isDefined(e.a)&&""!=e.a?e.a+", ":"",a=e.m,c=e.z,l=e.t,d="";if(e.rt){var p=1==e.rt?" act":" 24h";d=" "+w3_text("w3-text-css-orange|vertical-align:bottom",e.rs+p)}var w=e.e;if(isDefined(s)){var f=kiwi_strip_tags(decodeURIComponent(s),"");""!=f&&(f='"'+f+'" ');var u="(null)"==n||""==n?"unknown location":decodeURIComponent(n);u="("+(_=_.replace(/::ffff:/,""))+u+") ";var m,g=(m=((m=o+1e3*cfg.freq_offset)/1e3).toFixed(m>1e8?1:2))+" kHz ",b='<a href="javascript:tune('+(o/1e3).toFixed(2)+","+sq(a)+","+c+');">';""!=w&&(w=decodeURIComponent(w)+" "),i=f+u,t=b+g+a+" z"+c+"</a> "+w+l+d}if(user_init){w3_innerHTML("id-user-"+r,i+t);var k="id-user-kick-"+r;w3_el(k)&&(""!=i?w3_show_inline_block(k):w3_hide(k)),w3_innerHTML("id-optbar-user-"+r,""!=i?i+"<br>"+t:"")}if(e.c){var v=w3_el("id-sam-carrier");v&&w3_innerHTML(v,"carrier "+e.c.toFixed(1)+" Hz")}if(r==rx_chan&&e.rn&&e.rn<=55&&!kiwi.inactivity_panel){confirmation_show_content("Inactivity timeout in one minute.<br>Close this panel to avoid disconnection.",350,55,function(){msg_send("SET inactivity_ack"),confirmation_panel_close(),kiwi.inactivity_panel=!1},"red"),kiwi.inactivity_panel=!0}e.rn>55&&kiwi.inactivity_panel&&(confirmation_panel_close(),kiwi.inactivity_panel=!1)})}var toggle_e={SET:1,SET_URL:2,FROM_COOKIE:4,WRITE_COOKIE:8};function kiwi_toggle(e,i,t,r){var s=null;if(e&toggle_e.SET_URL&&(null!=i||null!=i))s=i;else if(e&toggle_e.FROM_COOKIE&&null!=(s=readCookie(r))){var o=parseFloat(s);isNaN(o)||(s=o)}return null==s&&e&toggle_e.SET&&(s=i),null==s&&(s=t),s}function kiwi_plot_max(e){var i=bi[e];return 1024/(i.samplerate/i.plot_samplerate)}function kiwi_fft_mode(){setmaxdb(-30)}function kiwi_mapPinSymbol(e,i){return{path:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z",fillColor:e=e||"red",fillOpacity:1,strokeColor:i=i||"white",strokeWeight:1,scale:1}}var comp_ctr,chan_no_pwd,pref_import_ch,client_public_ip,reason_disabled="",version_maj=-1,version_min=-1,tflags={INACTIVITY:1,WF_SM_CAL:2,WF_SM_CAL2:4},kiwi_output_msg_p={scroll_only_at_bottom:!0,process_return_alone:!1};function kiwi_msg(e,i){var t=!0;switch(e[0]){case"version_maj":version_maj=parseInt(e[1]);break;case"version_min":version_min=parseInt(e[1]);break;case"client_public_ip":client_public_ip=e[1].replace(/::ffff:/,""),console.log("client public IP: "+client_public_ip);break;case"badp":console.log("badp="+e[1]),extint_valpwd_cb(parseInt(e[1]));break;case"chan_no_pwd":chan_no_pwd=parseInt(e[1]);break;case"rx_chans":rx_chans=parseInt(e[1]);break;case"wf_chans":wf_chans=parseInt(e[1]);break;case"wf_chans_real":wf_chans_real=parseInt(e[1]);break;case"rx_chan":rx_chan=parseInt(e[1]);break;case"load_cfg":var r=decodeURIComponent(e[1]);cfg=JSON.parse(r),owrx_cfg();break;case"load_adm":var s=decodeURIComponent(e[1]);adm=JSON.parse(s);break;case"request_dx_update":dx_update();break;case"mkr":dx_label_cb(JSON.parse(e[1]));break;case"user_cb":user_cb(JSON.parse(e[1]));break;case"config_cb":config_cb((o=JSON.parse(e[1])).r,o.g,o.s,o.pu,o.pe,o.pv,o.pi,o.n,o.m,o.v1,o.v2,o.ai);break;case"update_cb":update_cb((o=JSON.parse(e[1])).f,o.p,o.i,o.r,o.g,o.v1,o.v2,o.p1,o.p2,decodeURIComponent(o.d),decodeURIComponent(o.t));break;case"stats_cb":try{var o;null!=(o=JSON.parse(e[1])).ce&&cpu_stats_cb(o,o.ct,o.ce,o.fc),xfer_stats_cb(o.ac,o.wc,o.fc,o.ah,o.as),extint_srate=o.sr,gps_stats_cb(o.ga,o.gt,o.gg,o.gf,o.gc,o.go),o.gr&&(kiwi.WSPR_rgrid=decodeURIComponent(o.gr),kiwi.GPS_fixes=o.gf),admin_stats_cb(o.ad,o.au,o.ae,o.ar,o.an,o.ap,o.an2,o.ai),time_display_cb(o)}catch(i){console.log("<"+e[1]+">"),console.log("kiwi_msg() stats_cb: JSON parse fail"),console.log(i)}break;case"status_msg_text":kiwi_output_msg_p.s=e[1],kiwi_output_msg("id-output-msg","id-output-msg",kiwi_output_msg_p);break;case"status_msg_html":var n=decodeURIComponent(e[1]);w3_innerHTML("id-status-msg",n),w3_innerHTML("id-msg-status",n);break;case"is_admin":extint_isAdmin_cb(e[1]);break;case"is_local":var _=e[1].split(",");console.log("kiwi_msg rx_chan="+_[0]+" is_local="+_[1]),kiwi.is_local[+_[0]]=+_[1];break;case"is_multi_core":kiwi.is_multi_core=1;break;case"authkey_cb":extint_authkey_cb(e[1]);break;case"down":kiwi_down(e[1],comp_ctr,reason_disabled);break;case"too_busy":kiwi_too_busy(parseInt(e[1]));break;case"exclusive_use":kiwi_exclusive_use();break;case"inactivity_timeout":kiwi_inactivity_timeout(e[1]);break;case"ip_limit":_=decodeURIComponent(e[1]).split(",");kiwi_24hr_ip_limit(parseInt(_[0]),_[1]);break;case"password_timeout":kiwi_password_entry_timeout();break;case"comp_ctr":comp_ctr=e[1];break;case"reason_disabled":reason_disabled=decodeURIComponent(e[1]);break;case"sample_rate":extint_srate=parseFloat(e[1]);break;case"pref_import_ch":pref_import_ch=+e[1];break;case"pref_import":pref_import_cb(e[1],pref_import_ch);break;case"adc_clk_nom":extint_adc_clock_nom_Hz=+e[1];break;default:t=!1}return t}function kiwi_debug(e){console.log(e),msg_send("SET dbug_msg="+encodeURIComponent(e))}function divlog(e,i){isDefined(i)&&i&&(e='<span class="class-error">'+e+"</span>"),w3_el_softfail("id-debugdiv").innerHTML+=e+"<br />"}function kiwi_show_msg(e){html("id-kiwi-msg").innerHTML=e,""==e?(w3_hide("id-kiwi-msg-container"),w3_el("id-kiwi-body").style.overflow="hidden"):(w3_hide("id-kiwi-container"),w3_show_block("id-kiwi-msg-container"),w3_el("id-kiwi-body").style.overflow="scroll")}function kiwi_server_error(e){kiwi_show_msg('Hmm, there seems to be a problem. <br>The server reported the error: <span style="color:red">'+e+"</span>"),seriousError=!0}function kiwi_serious_error(e){kiwi_show_msg(e),seriousError=!0,console.log(e)}function kiwi_trace(e){e&&console.log("console.trace: "+e);try{console.trace()}catch(e){}}function kiwi_trace_mobile(e){alert(e+" "+Error().stack)}




/* web/kiwi/kiwi_ui.min.js */
var DX_MODE=15,DX_TYPE=240,DX_TYPE_SFT=4,DX_FLAG=65280,dxo={};function dx_update_check(o){if(-1!=(o=+o)){console.log("### dx_update_check idx="+o),dxo.gid=o;var d=dxo.tags[o];dxo.tag=d;var _=function(d){return w3_get_value("dxo."+d+"_"+o)};dxo.f=+_("f"),dxo.o=+_("o"),console.log("dxo:"),console.log(dxo);var x=dxo.m;x|=dxo.y<<DX_TYPE_SFT,dxo.f-=cfg.freq_offset,dxo.f<0&&(dxo.f=0),console.log("SET DX_UPD g="+dxo.gid+" f="+dxo.f+" lo="+dxo.lo.toFixed(0)+" hi="+dxo.hi.toFixed(0)+" o="+dxo.o.toFixed(0)+" m="+x+" t="+d+" i="+dxo.i+" n="+dxo.n+" p="+dxo.p)}}function dx_num_cb(o,d,_){if(!_){var x=w3_remove_trailing_index(o,"_");w3_num_cb(x.el,d),dx_update_check(x.idx)}}function dx_sel_cb(o,d,_){if(!_){console.log("dx_sel_cb path="+o+" val="+d+" first="+_);var x=w3_remove_trailing_index(o,"_");w3_string_cb(x.el,d),dx_update_check(x.idx)}}function dx_string_cb(o,d,_){if(!_){var x=w3_remove_trailing_index(o,"_");w3_string_cb(x.el,d),dx_update_check(x.idx)}}function dx_passband_cb(o,d,_){if(!_){var x=d.split(/[,\s]/),i=x.length;if(console.log("dx_passband_cb path="+o+" val="+d+" a.len="+i),console.log(x),1==i&&""!=x[0]){var e=Math.round(x[0].parseFloatWithUnits("kM")/2);dxo.lo=-e,dxo.hi=e}else i>=1&&""!=x[0]&&""!=x[i-1]?(dxo.lo=Math.round(x[0].parseFloatWithUnits("kM")),dxo.hi=Math.round(x[i-1].parseFloatWithUnits("kM"))):dxo.lo=dxo.hi=0;console.log("dx_passband_cb lo="+dxo.lo+" hi="+dxo.hi),dx_update_check(w3_remove_trailing_index(o,"_").idx)}}

/* web/kiwi/kiwi_util.min.js */
function isUndefined(i){return void 0===i}function isDefined(i){return void 0!==i}function isNull(i){return null===i}function isNumber(i){return"number"==typeof i}function isBoolean(i){return"boolean"==typeof i}function isString(i){return"string"==typeof i}function isArray(i){return Array.isArray(i)}function isFunction(i){return"function"==typeof i}function isObject(i){return"object"==typeof i}function isArg(i){return!isUndefined(i)&&!isNull(i)}try{String.prototype.includes||(String.prototype.includes=function(i){return this.indexOf(i)>=0})}catch(i){console.log("kiwi_util: String.prototype.includes")}try{String.prototype.startsWith||(String.prototype.startsWith=function(i){return 0==this.indexOf(i)})}catch(i){console.log("kiwi_util: String.prototype.startsWith")}try{String.prototype.endsWith||(String.prototype.endsWith=function(i,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-i.length,e)===i})}catch(i){console.log("kiwi_util: String.prototype.endsWith")}var kiwi_iOS,kiwi_OSX,kiwi_linux,kiwi_Windows,kiwi_android,kiwi_safari,kiwi_firefox,kiwi_chrome,kiwi_opera,kiwi_smartTV,kiwi_util={};function kiwi_is_iOS(){return kiwi_iOS}function kiwi_isOSX(){return kiwi_OSX}function kiwi_isWindows(){return kiwi_Windows}function kiwi_isLinux(){return kiwi_linux}function kiwi_isAndroid(){return kiwi_android}function kiwi_isMobile(){return kiwi_isAndroid()||kiwi_is_iOS()}function kiwi_isSafari(){return kiwi_safari?kiwi_safari[1]:NaN}function kiwi_isFirefox(){return kiwi_firefox?kiwi_firefox[1]:NaN}function kiwi_isChrome(){return kiwi_chrome?kiwi_chrome[1]:NaN}function kiwi_isOpera(){return kiwi_opera?kiwi_opera[1]:NaN}function kiwi_isSmartTV(){return kiwi_smartTV?kiwi_smartTV[1]:NaN}document.onreadystatechange=function(){if("complete"==document.readyState){var i=navigator.userAgent;console.log(i),kiwi_iOS=i.includes("iPhone")||i.includes("iPad"),kiwi_OSX=i.includes("OS X"),kiwi_linux=i.includes("Linux"),kiwi_Windows=i.includes("Win"),kiwi_android=i.includes("Android"),kiwi_safari=/safari\/([0-9]+)/i.exec(i),kiwi_browserVersion=/version\/([0-9]+)/i.exec(i),kiwi_firefox=/firefox\/([0-9]+)/i.exec(i),kiwi_chrome=/chrome\/([0-9]+)/i.exec(i),(kiwi_opera=/opera\/([0-9]+)/i.exec(i))||(kiwi_opera=/OPR\/([0-9]+)/i.exec(i)),kiwi_smartTV=/SmartTV\/([0-9]+)/i.exec(i),console.log("iOS="+kiwi_iOS+" OSX="+kiwi_OSX+" Linux="+kiwi_linux+" Windows="+kiwi_Windows+" android="+kiwi_android),kiwi_opera?kiwi_chrome=kiwi_safari=null:kiwi_chrome?kiwi_safari=null:kiwi_safari&&kiwi_browserVersion&&(kiwi_safari[1]=kiwi_browserVersion[1]),console.log("safari="+kiwi_isSafari()+" firefox="+kiwi_isFirefox()+" chrome="+kiwi_isChrome()+" opera="+kiwi_isOpera()),"undefined"!=typeof kiwi_check_js_version?kiwi_ajax("/VER","kiwi_version_cb"):"undefined"!=typeof kiwi_bodyonload&&kiwi_bodyonload("")}};var kiwi_version_fail=!1;function kiwi_version_cb(i){version_maj=i.maj,version_min=i.min;var e="";kiwi_check_js_version.forEach(function(i){i.VERSION_MAJ==version_maj&&i.VERSION_MIN==version_min||(0==kiwi_version_fail&&(e="Your browser is trying to use incorrect versions of the KiwiSDR Javascript files.<br>Please clear your browser cache and try again.<br>Or click the button below to continue anyway.<br><br>v"+version_maj+"."+version_min+": KiwiSDR server<br>",kiwi_version_fail=!0),e+="v"+i.VERSION_MAJ+"."+i.VERSION_MIN+": "+i.file+"<br>")}),kiwi_version_fail&&(e+="<br>"+w3_button("w3-css-yellow","Continue anyway","kiwi_version_continue_cb")),kiwi_bodyonload(e)}function kiwi_version_continue_cb(){seriousError=!1,kiwi_bodyonload("")}function sq(i){return"'"+i+"'"}function dq(i){return'"'+i+'"'}function arrayBufferToString(i){return String.fromCharCode.apply(null,new Uint8Array(i))}function arrayBufferToStringLen(e,r){var n=new Uint8Array(e),t=String();for(r=Math.min(r,n.length),i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function getFirstChars(i,e){arrayBufferToStringLen(i,e)}function kiwi_inet4_d2h(i){var e=i.split(".");return(255&e[0])<<24|(255&e[1])<<16|(255&e[2])<<8|255&e[3]}function kiwi_h2n_32(i,e){var r;switch(e){case 0:r=i>>24;break;case 1:r=i>>16;break;case 2:r=i>>8;break;case 3:r=i;break;default:r=0}return 255&r}function kiwi_ip_str(i){var e="";return isNumber(i)?e=kiwi_h2n_32(i,0)+"."+kiwi_h2n_32(i,1)+"."+kiwi_h2n_32(i,2)+"."+kiwi_h2n_32(i,3):isArray(i)?e=i[3]+"."+i[2]+"."+i[1]+"."+i[0]:isObject(i)&&(e=i.a+"."+i.b+"."+i.c+"."+i.d),e}function kiwi_clearTimeout(i){try{clearTimeout(i)}catch(i){}}function kiwi_clearInterval(i){try{clearInterval(i)}catch(i){}}Number.prototype.leadingZeros=function(i){var e=String(this);for(isNumber(i)||(i=2);e.length<i;)e="0"+e;return e},String.prototype.leadingZeros=function(i){var e=String(this);for(isNumber(i)||(i=2);e.length<i;)e="0"+e;return e},String.prototype.fieldWidth=function(i){var e=String(this);if(!isNumber(i))return e;for(;e.length<i;)e=" "+e;return e},String.prototype.filterInt=function(){var i=String(this);return/^(\-|\+)?([0-9]+|Infinity)$/.test(i)?Number(i):NaN},String.prototype.withSign=function(){var i=this;return Number(i)<0?i:"+"+i},String.prototype.positiveWithSign=function(){var i=this;return Number(i)<=0?i:"+"+i},Number.prototype.toHex=function(i){isNumber(i)||(i=0);var e=i<0?0:1;i=Math.abs(i);for(var r=Number(this),n=(r>>>=0).toString(16);n.length<i;)n="0"+n;return e&&(n="0x"+n),n},Number.prototype.toUnits=function(){var i=Number(this);return i<1e3?i.toString():i<1e6?(i/1e3).toFixed(1)+"k":i<1e9?(i/1e6).toFixed(1)+"M":(i/1e9).toFixed(1)+"G"},String.prototype.parseFloatWithUnits=function(i,e){var r=String(this),n=parseFloat(r);return isNaN(n)?NaN:(i&&!i.includes("k")||new RegExp("([-0-9.]*k)").test(r)&&(n*=1e3,e&&(n*=e)),i&&!i.includes("M")||new RegExp("([-0-9.]*M)").test(r)&&(n*=1e6,e&&(n*=e)),n)},Number.prototype.withSign=function(){var i=Number(this),e=i.toString();return i<0?e:"+"+e};var littleEndian=function(){var i=new ArrayBuffer(2);return new DataView(i).setInt16(0,256,!0),256===new Int16Array(i)[0]}();function _nochange(i){if(0!=arguments.length)return void 0===i}function _default(i){return 0==arguments.length?NaN:isNaN(i)}function _change(i){return!_nochange(i)&&!_default(i)}function console_log(){for(var i,e=0;e<arguments.length;e++){var r=arguments[e];0==e?i=r+": ":i+="arg"+(e-1)+"="+r+" "}console.log("CONSOLE_LOG "+i)}function console_log_fqn(){for(var i,e=0;e<arguments.length;e++){var r=arguments[e];if(0==e)i=r+": ";else{var n;try{n=getVarFromString(r)}catch(i){n="[not defined]"}var t=r.lastIndexOf(".");i+=(-1==t?r:r.substr(t+1))+"="+n+" "}}console.log("FQN "+i)}function console_log_dbgUs(){if(dbgUs){s="";for(var i=0;i<arguments.length;i++)s+=arguments[i].toString();console.log(s)}}function kiwi_log(i){setTimeout(function(i){console.log(i)},1,i)}function kiwi_rateLimit(i,e){var r=!1;return function(){if(!r){r=!0;var n=arguments;setTimeout(function(){r=!1,i.apply(this,n)},e)}}}function kiwi_UTC_minutes(){var i=new Date;return 60*i.getUTCHours()+i.getUTCMinutes()}function kiwi_hh_mm(i){if(isNumber(i))return i;if(isString(i)){var e=i.split(":"),r=+e[0];if(e.length>1){var n=+e[1]/60;r=r<0?r-n:r+n}return"-0"!=e[0]&&"-00"!=e[0]||(r=-r),r}return null}function kiwi_clean_html(i){return i.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function kiwi_clean_newline(i){return i.replace(/[\r\n\f\v]/g,"").replace(/\t/g," ")}function kiwi_isScrolledDown(i){return i.scrollHeight-i.scrollTop===i.clientHeight}function kiwi_url_origin(){var i;try{i=window.location.origin}catch(e){i=(i=this.location.href).split("?")[0]}return i}function kiwi_url_param(i,e,r){var n=isArray(i);null==e&&(e=!0),null==r&&(r=null);var t=window.location&&window.location.search&&window.location.search.substr(1);if(!t)return r;var o=r;return t.split("&").forEach(function(r){var t=r.split("=");n?i.forEach(function(i){i==t[0]&&(o=t.length>=2?t[1]:e)}):i==t[0]&&(o=t.length>=2?t[1]:e)}),o}var kiwiint_dummy_elem={};function html(i){var e=w3_el(i);try{e.value}catch(r){console.log("html('"+i+"')="+e+" FAILED"),dbgUs&&dbgUsFirst&&(dbgUsFirst=!1)}return null==e&&(e=kiwiint_dummy_elem),e}function px(i){if(!isArg(i)||""==i)return"0";var e=parseFloat(i);return isNaN(e)?(console.log("px num="+i),kiwi_trace(),"0"):e.toFixed(0)+"px"}function css_style(i,e){return getComputedStyle(i,null).getPropertyValue(e)}function css_style_num(i,e){var r=parseInt(css_style(i,e));return isNaN(r)&&(r=0),r}function html_LR_border_pad(i){return css_style_num(i,"border-left-width")+css_style_num(i,"border-right-width")+css_style_num(i,"padding-left")+css_style_num(i,"padding-right")}function cancelEvent(i){return(i=i||window.event).stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),i.cancelBubble=!0,i.cancel=!0,i.returnValue=!1,!1}function ignore(i){return cancelEvent(i)}function kiwi_rgb(i,e,r){return null==i?"":(isArray(i)&&(e=i[1],r=i[2],i=i[0]),"rgb("+Math.floor(i)+","+Math.floor(e)+","+Math.floor(r)+")")}function hsl(i,e,r){return(e=Math.floor(e))<0&&(e=0),e>100&&(e=100),(r=Math.floor(r))<0&&(r=0),r>100&&(r=100),"hsl("+Math.round(i)+","+e+"%,"+r+"%)"}function createCookie(i,e,r){var n="";if(r){var t=new Date;t.setTime(t.getTime()+24*r*60*60*1e3),n="; expires="+t.toGMTString()}document.cookie=i+"="+e+n+"; path=/"}function readCookie(i,e){for(var r=i+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var o=n[t];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return isDefined(e)?e:null}function writeCookie(i,e){createCookie(i,e,15330)}function initCookie(i,e){var r=readCookie(i);return null==r?(writeCookie(i,e),e):r}function updateCookie(i,e){var r=readCookie(i);return(null==r||r!=e)&&(writeCookie(i,e),!0)}function deleteCookie(i){null!=readCookie(i)&&createCookie(i,0,-1)}function getVarFromString(e){var r=window,n=e.split(".");for(i=0;i<n.length-1;i++){var t=n[i];if(isUndefined(r=r[t]))throw console.log("getVarFromString: NO SCOPE "+e+" scope_name="+t),"no scope"}return r[n[n.length-1]]}function setVarFromString(e,r){var n=window,t=e.split(".");for(i=0;i<t.length-1;i++)null==n[t[i]]&&(n[t[i]]={}),n=n[t[i]];n[t[t.length-1]]=r}function getType(i){return i&&i.constructor&&i.constructor.name}function kiwi_parseQuery(i){var e=new Object;if(!i)return e;for(var r=i.split(/[;&]/),n=0;n<r.length;n++){var t=r[n].split("=");if(t&&2==t.length){var o=unescape(t[0]),a=unescape(t[1]);a=a.replace(/\+/g," "),e[o]=a}}return e}function kiwi_GETrequest(i,e,r){var n=w3_opt(r,"debug",0),t=document.createElement("iframe"),o=i+"_"+(new Date).toUTCString().substr(17,8);document.body.appendChild(t),t.style.display="none",t.contentWindow.name=o,w3_add(t,"id-kiwi_GETrequest");var a=document.createElement("form");return a.target=o,a.action=e,a.method="GET",w3_add(a,"id-kiwi_GETrequest"),n&&console.log("kiwi_GETrequest: "+o),{iframe:t,form:a,debug:n}}function kiwi_GETrequest_submit(i,e){var r=w3_opt(e,"no_submit",0),n=w3_opt(e,"gc",0);r?console.log("kiwi_GETrequest_submit: NO SUBMIT"):(document.body.appendChild(i.form),i.form.submit(),i.debug&&console.log("kiwi_GETrequest_submit: SUBMITTED")),n&&setTimeout(function(){document.body.removeChild(i.form),document.body.removeChild(i.iframe)},6e4)}function kiwi_GETrequest_param(i,e,r){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=r,i.form.appendChild(n),i.debug&&console.log("kiwi_GETrequest_param: "+e+"="+r)}var ajax_state={DONE:4};function kiwi_ajax(i,e,r,n,t){kiwi_ajax_prim("GET",null,i,e,r,n,void 0,void 0,t)}function kiwi_ajax_progress(i,e,r,n,t,o,a){kiwi_ajax_prim("GET",null,i,e,r,n,t,o,a)}function kiwi_ajax_send(i,e,r,n,t,o){kiwi_ajax_prim("PUT",i,e,r,n,t,void 0,void 0,o)}var ajax_id=0,ajax_requests={};function kiwi_ajax_prim(i,e,r,n,t,o,a,s,u){var c;ajax_id++;var l=function(i){u&&console.log(i)};try{c=new XMLHttpRequest}catch(i){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(i){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){return!1}}}return c.kiwi_id=ajax_id,ajax_requests[ajax_id]={},ajax_requests[ajax_id].didTimeout=!1,ajax_requests[ajax_id].timer=-1,(o=o||0)&&(ajax_requests[ajax_id].timer=setTimeout(function(){var i=c.kiwi_id;ajax_requests[i].didTimeout=!0,ajax_requests[i].timer=-1,l("AJAX TIMEOUT occurred, recovered id="+i+" url="+r);var e={AJAX_error:"timeout"};isFunction(n)?n(e,t):isString(n)&&w3_call(n,e,t),c.abort(),delete ajax_requests[i]},Math.abs(o))),a&&(l("AJAX with progress_cb="+a),c.onprogress=function(){var i=c.responseText.toString()||"";l("XHR.onprogress="+i),isFunction(a)?a(i,s):isString(a)&&w3_call(a,i,s)}),c.onerror=function(i){l("XHR.onerror="+i),u&&console.log(i)},c.onabort=function(i){l("XHR.onabort="+i),u&&console.log(i)},c.onload=function(i){l("XHR.onload="+i),u&&console.log(i)},c.onloadstart=function(i){l("XHR.onloadstart="+i),u&&console.log(i)},c.onreadystatechange=function(){if(l("XHR.onreadystatechange readyState="+c.readyState),c.readyState!=ajax_state.DONE)return!1;var i=c.kiwi_id,e=ajax_requests[i].timer;if(l("AJAX ORSC ENTER recovered id="+i+" timer="+e+" cb="+n),-1!=e&&(l("AJAX ORSC CLEAR_TIMER recovered id="+i+" timer="+e),kiwi_clearTimeout(e),ajax_requests[i].timer=-1),ajax_requests[i].didTimeout)l("AJAX ORSC TIMED_OUT recovered id="+i);else{var o;if(l("XHR.status="+c.status),l("XHR.statusText="+c.statusText),l("XHR.responseType="+c.responseType),l("XHR.response="+c.response),l("XHR.responseText="+c.responseText),l("XHR.responseURL="+c.responseURL),u&&console.log(c),200!=c.status)l("AJAX bad status="+c.status+" url="+r),o={AJAX_error:"status",status:c.status};else{var a=c.responseText.toString();if(null==a&&(a=""),a.startsWith("<?xml"))o={XML:!0,text:a};else{var s=a.charAt(0);if("{"!=s&&"["!=s)l("AJAX: response didn't begin with JSON '{' or '[' ? "+a),o={AJAX_error:"JSON prefix",response:a};else try{for(;-1!=(cb=a.indexOf("\n//"));)ce=a.indexOf("\n",cb+3),a=a.slice(0,cb)+a.slice(ce),!0;o=JSON.parse(a),l("AJAX JSON response:"),l(a),l(o)}catch(i){l("AJAX response JSON.parse failed: <"+a+">"),l(i),o={AJAX_error:"JSON parse",JSON_ex:i.toString(),response:a}}}}l("AJAX ORSC CALLBACK recovered id="+i+" callback="+typeof n),isFunction(n)?n(o,t):isString(n)&&w3_call(n,o,t)}l("AJAX ORSC ABORT/DELETE"),c.abort(),delete ajax_requests[i]},o>=0&&(c.open(i,r,!0),l("AJAX SEND id="+ajax_id+" url="+r),c.send(e)),!0}function kiwi_scrollbar_width(){return kiwi_isOSX()?10:15}function kiwi_strip_tags(i,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return i.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(i,r){return e.indexOf("<"+r.toLowerCase()+">")>-1?i:""})}function kiwi_pie(i,e,r,n){var t=2*e;return'<svg width="'+t+'" height="'+t+'" viewbox="0 0 '+t+" "+t+'"><circle cx="'+e+'" cy="'+e+'" r="'+e+'" fill="'+r+'" /><path class="'+i+'" style="fill:'+n+'" transform="translate('+e+", "+e+')" /></svg>'}function kiwi_draw_pie(i,e,r){var n=360*r,t=n*Math.PI/180,o=Math.sin(t)*e,a=Math.cos(t)*-e,s=n>=180?1:0;360==n&&(s=1,o=-.1,a=-e);var u="M 0 0 v "+-e+" A "+e+" "+e+" 1 "+s+" 1 "+o+" "+a+" z";w3_iterate_classname(i,function(i){i.setAttribute("d",u)})}function enc(i){return i.replace(/./gi,function(i){return String.fromCharCode(3^i.charCodeAt(0))})}var sendmail=function(i,e){var r="mailto:"+enc(decodeURIComponent(i))+(isDefined(e)?"?subject="+e:"");window.location.href=r};function line_stroke(i,e,r,n,t,o,a,s){var u=Math.floor(r/2),c=e?r:a-t+1,l=e?s-o+1:r,_=t-(e?u:0),f=o-(e?0:u);i.fillStyle=n,i.fillRect(_,f,c,l)}var wsockets=[];function msg_send(i){for(var e=0;e<wsockets.length;e++){var r=wsockets[e].ws;if(r.up)try{return r.send(i),0}catch(e){return console.log("CATCH msg_send('"+i+"') ex="+e),kiwi_trace(),-1}}return-1}function open_websocket(i,e,r,n,t,o){if(!("WebSocket"in window&&"CLOSING"in WebSocket))return console.log("WEBSOCKET TEST"),kiwi_serious_error("Your browser does not support WebSocket, which is required for OpenWebRX to run. <br> Please use an HTML5 compatible browser."),null;var a=kiwi_url_origin().split("://")[1],s="ws://";"https:"===window.location.protocol&&(s="wss://");var u=window.location.href.includes("?no_wf")||window.location.href.includes("&no_wf");a=s+a+"/"+(u?"no_wf/":"kiwi/")+timestamp+"/"+i,u&&(wf.no_wf=!0);var c=new WebSocket(a);return wsockets.push({ws:c,name:i}),c.up=!1,c.stream=i,c.open_cb=e,c.open_cb_param=r,c.msg_cb=n,c.recv_cb=t,c.error_cb=o,c.onopen=function(){if(c.up=!0,c.open_cb)try{c.open_cb(c.open_cb_param)}catch(i){console.log(i)}},c.onmessage=function(i){try{on_ws_recv(i,c)}catch(i){console.log(i)}},c.onclose=function(i){c.up=!1,console.log("WS-CLOSE: "+c.stream)},c.binaryType="arraybuffer",c.onerror=function(i){if(c.error_cb)try{c.error_cb(i,c)}catch(i){console.log(i)}},c}var kiwi_flush_recv_input=!0;function recv_websocket(i,e){"SND"!=i.stream&&"W/F"!=i.stream&&(i.recv_cb=e,null==e&&(kiwi_flush_recv_input=!0))}function on_ws_recv(i,e){var r=i.data;if(r instanceof ArrayBuffer){if(!seriousError){var n=arrayBufferToStringLen(r,3);if("CLI"!=n){var t=!1;if("MSG"==n){var o=arrayBufferToString(r);params=o.substring(4).split(" ");for(var a=0;a<params.length;a++){var s=params[a].split("=");"EXT"==e.stream&&"EXT-STOP-FLUSH-INPUT"==s[0]&&(kiwi_flush_recv_input=!1),0==(t=kiwi_msg(s,e))&&e.msg_cb&&(t=e.msg_cb(s,e)),0==t&&console.log(">>> "+e.stream+": message not claimed: "+params[a])}}else!e.recv_cb||"EXT"==e.stream&&0!=kiwi_flush_recv_input||(e.recv_cb(r,e,n),isDefined(kiwi_gc_recv)&&kiwi_gc_recv&&(r=null))}}}else console.log("on_ws_recv: not an ArrayBuffer?")}window.onbeforeunload=function(){var i;for(i=0;i<wsockets.length;i++){var e=wsockets[i].ws;e&&(e.onclose=function(){},e.close())}};




/* web/kiwi/w3_util.min.js */
function visible_block(){}function w3_console_obj(t,n){var e=n?n+" ":"";isObject(t)?e+=JSON.stringify(t,null,1):isString(t)?e+='"'+t.toString()+'"':e+=t.toString(),console.log(e),isObject(t)&&console.log(t)}function w3_strip_quotes(t){return!isString(t)||-1==t.indexOf("'")&&-1==t.indexOf('"')?t:t.replace(/'/g,"").replace(/"/g,"")+" [quotes stripped]"}function w3_esc_dq(t){return isString(t)&&-1!=t.indexOf('"')?t.replace(/"/g,"&quot;"):t}function w3_call(t,n,e,i,r,l){var o=void 0;if(!isArg(t))return o;try{if(isString(t)){var _=getVarFromString(t);isFunction(_)&&(o=_(n,e,i,r,l))}else isFunction(t)?o=t(n,e,i,r,l):console.log("w3_call: func not a string or function")}catch(t){console.log("w3_call: while in func this exception occured:"),console.log(t)}return o}function w3_first_value(t){if(null==t)return"null";var n=typeof t;return"number"===n||"boolean"===n||"string"===n?t:isArray(t)?t[0]:"object"===n?w3_obj_seq_el(t,0):n}function w3_opt(t,n,e){return isDefined(t)&&isDefined(t[n])?t[n]:e}function w3_obj_num(t){return isUndefined(t)||isNull(t)||isObject(t)?t:isNumber(t)?{num:t}:isBoolean(t)?{num:t?1:0}:isString(t)?{num:parseFloat(t)}:t}function w3_obj_seq_el(t,n){return t[Object.keys(t)[n]]}function w3_obj_enum(t,n,e){var i=w3_opt(e,"key_match",void 0),r=w3_opt(e,"value_match",void 0);Object.keys(t).forEach(function(e,l){isDefined(i)?e==i&&n(e,l):isDefined(r)?t[e]==r&&n(e,l):n(e,l)})}function w3_ext_param_array_match_str(t,n,e){var i=!1;return t.forEach(function(t,r){var l=t.toString().toLowerCase();!i&&l.startsWith(n)&&(e&&e(r,t.toString()),i=!0)}),i}function w3_ext_param_array_match_num(t,n,e){var i=!1;return t.forEach(function(t,r){var l=parseFloat(t);i||l!=n||(e&&e(r,n),i=!0)}),i}function w3_ext_param(t,n){return p=n.toLowerCase().split(":"),t.startsWith(p[0])?(rv={match:!0},p.length>1?(rv.has_value=!0,rv.num=parseFloat(p[1]),rv.string=p[1]):(rv.has_value=!1,rv.num=0,rv.string=""),rv):{match:!1}}function w3_clamp(t,n,e,i){if(isObject(n)){var r=n;try{void 0===r.clamp?t=Math.max(r.min,Math.min(r.max,t)):(t<r.min||t>r.max)&&(t=r.clamp)}catch(t){return console.log("w3_clamp: bad obj:"),void console.log(r)}}else null==i?t=Math.max(n,Math.min(e,t)):(t<n||t>e)&&(t=i);return t}function w3_add_id(t){return t?t.startsWith("id-")?t:"id-"+t:""}function w3int_w3_el(t){if(!t||""==t)return null;var n=document.getElementById(t);return null==n&&null!=(n=document.getElementsByName(t))&&(n=n[0]),null==n&&null!=(n=document.getElementsByClassName(t))&&(n=n[0]),n}function w3int_w3_els(t){if(!t||""==t)return null;var n,e=document.getElementById(t);return null!=e?n=[e]:(null!=(e=document.getElementsByName(t))&&0!=e.length||(e=document.getElementsByClassName(t)),n=e),0==n.length&&(n=null),n}function w3_el(t){if(isString(t)){if(""==t)return null;if("body"==t)return document.body;var n=w3int_w3_el(t);return null==n&&null==(n=w3int_w3_el("id-"+t))&&null==(n=w3int_w3_el(t=w3_add_toplevel(t)))&&(n=w3int_w3_el("id-"+t)),n}return t}function w3_els(t){if(isString(t)){if(""==t)return null;if("body"==t)return document.body;var n=w3int_w3_els(t);return null==n&&null==(n=w3int_w3_els("id-"+t))&&null==(n=w3int_w3_els(t=w3_add_toplevel(t)))&&(n=w3int_w3_els("id-"+t)),n}return t}function w3_el_softfail(t){var n=w3_el(t);try{n.innerHTML}catch(n){console.log('w3_el_softfail("'+t+'") SOFTFAIL')}return null==n&&((n=document.createElement("div")).id=t,n.classList.add("NB-SOFTFAIL"),n.style.display="none",document.body.appendChild(n)),n}function w3_id(t){var n=w3_el(t);if(!n)return null;if(n.id&&n.id.startsWith("id-"))return n.id;var e=!1,i=null;return w3_iterate_classList(n,function(t,n){t.startsWith("id-")&&!e&&(i=t,e=!0)}),i}function w3_innerHTML(t){for(var n=w3_el_softfail(t),e="",i=arguments.length,r=1;r<i;r++)e+=arguments[r];return n.innerHTML=e,n}function w3_set_innerHTML(t){var n=w3_el(t);if(!n)return null;for(var e="",i=arguments.length,r=1;r<i;r++)e+=arguments[r];return n.innerHTML=e,n}function w3_get_innerHTML(t){var n=w3_el(t);return n?n.innerHTML:null}function w3_iterate_classname(t,n){var e=document.getElementsByClassName(t);if(null!=e)for(var i=0;i<e.length;i++)n(e[i],i)}function w3_iterate_classList(t,n){var e=w3_el(t);if(e&&e.classList)for(var i=0;i<e.classList.length;i++)n(e.classList.item(i),i);return e}function w3_appendElement(t,n,e){var i=document.createElement(n);return w3_innerHTML(i,e),w3_el(t).appendChild(i),i}function w3_iterate_parent(t,n){var e=w3_el(t),i=0;do{if(null!=n(e,i))break;e=e.parentNode,i++}while(e)}function w3_iterate_children(t,n){for(var e=w3_el(t),i=0;i<e.children.length;i++){n(e.children[i],i)}}function w3_iterateDeep_children(t,n){for(var e=w3_el(t),i=0;i<e.children.length;i++){var r=e.children[i];n(r),r.hasChildNodes&&w3_iterateDeep_children(r,n)}}function w3_iterate_childNodes(t,n){for(var e=w3_el(t),i=0;i<e.childNodes.length;i++){n(e.childNodes[i],i)}}function w3_boundingBox_children(t,n){var e={x1:1e99,x2:0,y1:1e99,y2:0,w:0,h:0};return w3_iterateDeep_children(t,function(t){if("DIV"==t.nodeName||"IMG"==t.nodeName){var i=css_style(t,"position");if("static"!=i&&0!=t.offsetHeight){n&&console.log(t),n&&console.log(t.nodeName+" el.oL="+t.offsetLeft+" el.oW="+t.offsetWidth+" el.oT="+t.offsetTop+" el.oH="+t.offsetHeight+" "+i),e.x1=Math.min(e.x1,t.offsetLeft);var r=t.offsetLeft+t.offsetWidth;e.x2=Math.max(e.x2,r),e.y1=Math.min(e.y1,t.offsetTop);var l=t.offsetTop+t.offsetHeight;e.y2=Math.max(e.y2,l)}}}),e.w=e.x2-e.x1,e.h=e.y2-e.y1,n&&console.log("BBOX x1="+e.x1+" x2="+e.x2+" y1="+e.y1+" y2="+e.y2+" w="+e.w+" h="+e.h),e}function w3_center_in_window(t,n){var e=w3_el(t);return window.innerHeight/2-e.clientHeight/2}function w3_field_select(t,n){var e=w3_el(t);if(e=e&&isFunction(e.select)?e:null){var i=0,r=0,l=0;n.mobile&&kiwi_isMobile()?l=1:i=r=1,n.blur&&(l=1),n.focus_select&&(i=r=1),n.focus_only&&(i=1,r=0),n.select_only&&(r=1),i&&e.focus(),r&&e.select(),l&&e.blur()}}function w3_add(t,n){var e=w3_el(t);return e&&n?((n=n.replace(/\s+/g," ").split(" ")).forEach(function(t){e.classList.add(t)}),e):null}function w3_remove(t,n){var e=w3_el(t);return e&&n?((n=n.replace(/\s+/g," ").split(" ")).forEach(function(t){e.classList.remove(t)}),e):null}function w3_remove_wildcard(t,n){var e=w3_el(t);if(!e)return null;for(var i=0;i<e.classList.length;i++){var r=e.classList.item(i);r.startsWith(n)&&e.classList.remove(r)}return e}function w3_set_props(t,n,e){return e?w3_add(t,n):w3_remove(t,n),t}function w3_remove_then_add(t,n,e){w3_remove(t,n),w3_add(t,e)}function w3_contains(t,n){var e=w3_el(t);if(!e)return 0;var i=e.classList;return i&&i.contains(n)?1:0}function w3_parent_with(t,n){var e=w3_el(t);if(e){var i=null;return w3_iterate_parent(e,function(t){!i&&w3_contains(t,n)&&(i=t)}),i}}function w3_toggle(t,n){var e=w3_el(t);if(e)return w3_contains(e,n)?w3_remove(e,n):w3_add(e,n),e}function w3_appendAllClass(t,n){w3_iterate_classname(t,function(t){t.classList.add(n)})}function w3_setAllHref(t,n){w3_iterate_classname(t,function(t){t.href=n})}function w3_show(t,n){var e=w3_el(t);return w3_remove(e,"w3-hide"),w3_add(e,n||"w3-show-inline-block"),e}function w3_attribute(t,n,e){var i=w3_el(t);if(null!=i){var r=document.createAttribute(n);r.value=e,i.setAttributeNode(r)}}function w3_show_block(t){return w3_show(t,"w3-show-block")}function w3_show_inline_block(t){return w3_show(t,"w3-show-inline-block")}function w3_show_inline(t){return w3_show(t,"w3-show-inline-new")}function w3_show_table_cell(t){return w3_show(t,"w3-show-table-cell")}function w3_hide(t){return w3_add(t=w3_iterate_classList(t,function(n,e){n.startsWith("w3-show-")&&w3_remove(t,n)}),"w3-hide"),t}function w3_show_hide(t,n,e){return n?w3_show(t,e||"w3-show-block"):w3_hide(t)}function w3_show_hide_inline(t,n){w3_show_hide(t,n,"w3-show-inline-new")}function w3_visible(t,n){var e=w3_el(t);return e.style.visibility=n?"visible":"hidden",e}var w3_highlight_time=250,w3_highlight_color="w3-selection-green",w3_selection_green="#4CAF50";function w3_highlight(t){var n=w3_el(t);w3_add(n,n.w3int_highlight_color||w3_highlight_color)}function w3_unhighlight(t){var n=w3_el(t);w3_remove(n,n.w3int_highlight_color||w3_highlight_color)}function w3_isHighlighted(t){var n=w3_el(t);return w3_contains(n,n.w3int_highlight_color||w3_highlight_color)}function w3_set_highlight_color(t,n){var e=w3_el(t);return e?(w3_isHighlighted(e)?(w3_unhighlight(e),e.w3int_highlight_color=n,w3_highlight(e)):e.w3int_highlight_color=n,e):null}var w3_flag_color="w3-override-yellow";function w3_flag(t){w3_add(w3_el(t),w3_flag_color)}function w3_unflag(t){w3_remove(w3_el(t),w3_flag_color)}function w3_color(t,n,e,i){var r=w3_el(t);if(!r)return null;var l=r.style.color,o=r.style.backgroundColor;return i=isUndefined(i)||i,isArg(n)&&(r.style.color=i?n:""),isArg(e)&&(r.style.backgroundColor=i?e:""),{color:l,backgroundColor:o}}function w3_background_color(t,n){var e=w3_el(t),i=e.style.backgroundColor;return null!=n&&null!=n&&(e.style.backgroundColor=n),i}function w3_colors(t,n){var e=w3_el(t);if(!e)return null;var i=n?n.split(","):null,r=null,l=null;i&&i.length>0&&(r=i[0]),i&&i.length>1&&(l=i[1]),r&&r.startsWith("w3-")?w3_add(e,r):e.style.backgroundColor=r,l&&l.startsWith("w3-")?w3_add(e,l):e.style.color=l}function w3_check_restart_reboot(t){var n=w3_el(t);n&&w3_iterate_parent(n,function(t){return w3_contains(t,"w3-restart")?(w3_restart_cb(),t):w3_contains(t,"w3-reboot")?(w3_reboot_cb(),t):null})}function w3_set_value(t,n){var e=w3_el(t);e&&(e.value=n)}function w3_set_decoded_value(t,n){var e=w3_el(t);e&&(e.value=decodeURIComponent(n))}function w3_get_value(t){var n=w3_el(t);return n?n.value:null}function w3_add_toplevel(t){return t.startsWith("cfg.")||t.startsWith("adm.")?t:"cfg."+t}function w3_not_toplevel(t){return t.startsWith("cfg.")||t.startsWith("adm.")?t.substr(t.indexOf(".")+1):t}function w3_basename(t){var n=t.lastIndexOf(".");return n>=0?t.substr(n+1):t}function w3_psa3(t){return t=t||"",arr=t.split("/"),1==arr.length?{left:"",middle:"",right:arr[0]}:2==arr.length?{left:"",middle:arr[0],right:arr[1]}:3==arr.length?{left:arr[0],middle:arr[1],right:arr[2]}:{left:"",middle:"",right:""}}function w3_psa(t,n,e,i){if(t&&t.startsWith("class="))return t;var r=function(t){return t&&""!=t?t:""},l=function(t){return t&&""!=t?" ":""},o=t?t.split("|"):[];t="";var _=r(o[0]);n&&(_+=l(_)+n),""!=_&&(t="class="+dq(_));var a=r(o[1]);e&&(a+=l(a)+e),""!=a&&(t+=l(t)+"style="+dq(a));var w=r(o[2]);return i&&(w+=l(w)+i),""!=w&&(t+=l(t)+w),t}function w3_psa_mix(t,n,e,i){var r=function(t){return t&&""!=t?t:""},l=function(t){return t&&""!=t?" ":""},o=t?t.split("|"):[];t="";var _=r(o[0]);n&&(_+=l(_)+n),""!=_&&(t+=_);var a,w=r(o[1]);e&&(w+=((a=w)&&""!=a?"; ":"")+e),""!=w&&(t+="|"+w);var c=r(o[2]);return i&&(c+=l(c)+i),""!=c&&(t+="|"+c),t}function w3int_init(){}function w3int_post_action(){w3_call("freqset_select")}function w3_fillText(t,n,e,i,r,l,o,_){r&&(t.fillStyle=r),l&&(t.font=l),o&&(t.textAlign=o),_&&(t.textBaseline=_);var a=t.measureText(i).width;t.fillText(i,n-a/2,e)}function w3_copy_to_clipboard(t){var n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",t),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}function w3_click_nav(t,n,e){var i="id-nav-"+t,r=null,l=null,o=null;w3_iterate_children(w3_el(i).parentNode,function(t,n){"A"==t.nodeName&&(w3_contains(t,"w3int-cur-sel")&&(r=t.id.substring(7),w3_remove(t,"w3int-cur-sel"),w3_iterate_classList(t,function(t,n){t.startsWith("id-nav-cb-")&&(o=t.substring(10))})),t.id==i&&(l=t))}),r&&w3_toggle(r,"w3-show-block"),r&&o&&w3_call(o+"_blur",r),l&&(w3_add(l,"w3int-cur-sel"),w3_check_restart_reboot(l)),w3_toggle(t,"w3-show-block"),"null"!=n&&w3_call(n+"_focus",t,e)}function w3int_anchor(t,n,e,i,r){return void 0===i&&(i=e),"<a "+w3_psa(t,(i?"id-nav-cb-"+i:"")+(r?" w3int-cur-sel":""),"",'id="id-nav-'+e+'" onclick="w3_click_nav('+sq(e)+", "+sq(i)+')"')+' href="javascript:void(0)">'+n+"</a>"}function w3_navbar(t){for(var n="<nav "+w3_psa(t,"w3-navbar")+">",e=arguments.length,i=1;i<e;i++)n+=arguments[i];return n+="</nav>"}function w3_sidenav(t){for(var n="<nav "+w3_psa(t,"w3-sidenav w3-static w3-left w3-sidenav-full-height w3-light-grey")+">",e=arguments.length,i=1;i<e;i++)n+=arguments[i];return n+="</nav>"}function w3_nav(t,n,e,i,r){return w3int_anchor(t,n,e,i,r)}function w3_navdef(t,n,e,i){return setTimeout(function(){w3_toggle(e,"w3-show-block")},w3_highlight_time),w3int_anchor(t,n,e,i,!0)}function w3_label(t,n,e,i){return arguments.length>=4&&console.log("### w3_label ext="+i),t&&""!=t||n&&""!=n||i&&""!=i?n&&n.startsWith("<label ")?n:"<label "+w3_psa(t,e=e?"id-"+e+"-label":"")+">"+(n=n||"")+(i||"")+"</label>":""}function w3_set_label(t,n){w3_el(n+"-label").innerHTML=t}function w3int_link_click(t,n,e){console.log("w3int_link_click cb="+n+" cb_param="+e),console.log(t);var i=t.currentTarget;console.log(i),w3_check_restart_reboot(i),n&&w3_call(n,i,e,!1),w3int_post_action()}function w3_link(t,n,e,i,r,l){var o=n;n.startsWith("http://")||n.startsWith("https://")||(o="http://"+n),e=e||"",i=i&&""!=i?" title="+dq(i):"";var _=r&&""!=r?"w3-pointer":"";l=l||0;var a=r?' onclick="w3int_link_click(event, '+sq(r)+", "+sq(l)+')"':"";return"<a "+w3_psa(t,_,"","href="+dq(o)+' target="_blank"'+i+a)+">"+e+"</a>"}var w3_SELECTED=!0,w3_NOT_SELECTED=!1;function w3_radio_unhighlight(t){w3_iterate_classname("id-"+t,function(t){w3_unhighlight(t)})}function w3int_radio_click(t,n,e,i){w3_radio_unhighlight(n),w3_highlight(t.currentTarget);var r=-1;w3_iterate_classname("id-"+n,function(t,n){w3_isHighlighted(t)&&(r=n)}),w3_check_restart_reboot(t.currentTarget),e&&w3_call(e,n,r,!1,i),w3int_post_action()}function w3_radio_btn(t,n,e,i,r){r=arguments.length>4?arguments[4]:null;return'<button class="w3-btn w3-ext-btn'+(" id-"+n+(e?" "+w3_highlight_color:"")+(r?" "+r:""))+'" '+('onclick="w3int_radio_click(event, '+sq(n)+", "+sq(i)+')"')+">"+t+"</button>"}function w3_radio_button(t,n,e,i,r,l){l=l||0;var o=r?'onclick="w3int_radio_click(event, '+sq(e)+", "+sq(r)+", "+sq(l)+')"':"";return"<button "+w3_psa(t,"id-"+e+(i?" "+w3_highlight_color:"")+" w3-btn w3-ext-btn","",o)+">"+n+"</button>"}function w3_radio_button_get_param(t,n,e,i,r,l,o){return w3_radio_button(t,n,e,ext_get_cfg_param(e,null==r?null:r)==i?w3_SELECTED:w3_NOT_SELECTED,l,o)}var w3_SWITCH_YES_IDX=0,w3_SWITCH_NO_IDX=1;function w3_switch(t,n,e,i,r,l,o){return w3_radio_button(w3_psa_mix(t,"w3int-switch-0"),n,i,r?1:0,l,o)+w3_radio_button(w3_psa_mix(t,"w3int-switch-1"),e,i,r?0:1,l,o)}function w3_switch_get_param(t,n,e,i,r,l,o,_){var a=ext_get_cfg_param(i,null==l?null:l)==r?w3_SELECTED:w3_NOT_SELECTED;return w3_radio_button(w3_psa_mix(t,"w3int-switch-0"),n,i,a?1:0,o,_)+w3_radio_button(w3_psa_mix(t,"w3int-switch-1"),e,i,a?0:1,o,_)}function w3_switch_set_value(t,n){var e="w3int-switch-"+n;w3_iterate_classname("id-"+t,function(t,n){w3_contains(t,e)&&t.click()})}function w3int_button_click(t,n,e,i){w3_contains(n,"w3-disabled")||(w3_check_restart_reboot(t.currentTarget),e&&w3_call(e,n,i,!1)),w3int_post_action()}var w3int_btn_grp_uniq=0;function w3_btn(t,n){return console.log("### DEPRECATED: w3_btn"),w3_button("",t,n)}function w3_button(t,n,e,i){var r="id-btn-grp-"+w3int_btn_grp_uniq.toString();w3int_btn_grp_uniq++,i=i||0;var l=e?'onclick="w3int_button_click(event, '+sq(r)+", "+sq(e)+", "+sq(i)+')"':"";e&&t.includes("w3-momentary")&&(l+=' onmousedown="w3int_button_click(event, '+sq(r)+", "+sq(e)+', 0)"',l+=' ontouchstart="w3int_button_click(event, '+sq(r)+", "+sq(e)+', 0)"');var o=t.includes("w3-round-")?"":" w3-round-large",_=w3_psa3(t),a=w3_psa(_.left),w="<button "+w3_psa(_.right,r+" w3-btn w3-ext-btn"+o,"",l)+">"+n+"</button>";return""!=a&&(w="<div "+a+">"+w+"</div>"),w}function w3_button_text(t,n,e,i){var r=w3_el(t);return r?(r.innerHTML=n,e&&(e.startsWith("w3-")?(w3_remove(r,i),w3_add(r,e)):r.style.color=e),r):null}function w3_icon(t,n,e,i,r,l){var o=r&&""!=r?" w3-pointer":"",_="id-btn-grp-"+w3int_btn_grp_uniq.toString();w3int_btn_grp_uniq++,l=l||0;var a=null;isNumber(e)&&e>=0?a=px(e):isString(e)&&(a=e),a=a?" font-size:"+a+";":"",i=i&&""!=i?" color:"+i:"";var w=r?'onclick="w3int_button_click(event, '+sq(_)+", "+sq(r)+", "+sq(l)+')"':"";return r&&t.includes("w3-momentary")&&(w+=' onmousedown="w3int_button_click(event, '+sq(_)+", "+sq(r)+', 0)"',w+=' ontouchstart="w3int_button_click(event, '+sq(_)+", "+sq(r)+', 0)"'),"<i "+w3_psa(t,_+o+" fa "+n,a+i,w)+"></i>"}function w3int_input_key(t,n,e){var i=t.key.toUpperCase(),r=t.ctrlKey,l=w3_el(n);if(l){e=e.split("|"),r&&"CD\\".includes(i)&&e[1]&&w3_call(e[1],i);var o=w3_contains(l,"w3-input-any-change");"Enter"==t.key&&(o?w3_input_change(n,e[0]):""==l.value&&w3_input_change(n,e[0])),"Backspace"==t.key&&o&&0==l.selectionStart&&l.selectionEnd==l.value.length&&(l.value="",w3_input_change(n,e[0]))}}function w3_input_change(t,n,e){var i=w3_el(t);i&&(w3_check_restart_reboot(i),w3_highlight(i),setTimeout(function(){w3_unhighlight(i)},w3_highlight_time),n&&w3_call((n=n.split("|"))[0],t,i.value,!1,e)),w3_contains(i,"w3-retain-input-focus")?w3_field_select(t,{mobile:1}):w3int_post_action()}function w3_input(t,n,e,i,r,l){var o=w3_add_id(e);r=r||"";var _=l?' placeholder="'+l+'"':"",a=e?' onchange="w3_input_change('+sq(e)+", "+sq(r)+')" onkeydown="w3int_input_key(event, '+sq(e)+", "+sq(r)+')"':"",w=(i=" value="+dq(w3_esc_dq(i)||""),t.includes("w3-label-inline")),c=!t.includes("w3-label-not-bold"),s=""!=n&&w?" w3int-margin-input":"",u="type="+(t.includes("w3-password")?'"password"':'"text"'),d=w3_psa3(t),f=w3_psa(d.left,w?"w3-show-inline-new":""),v=w3_psa_mix(d.middle,""!=n&&c?"w3-bold":""),h=w3_psa(d.right,"w3-input w3-border w3-hover-shadow "+o+s,"",u+_);return"<div "+f+">"+w3_label(v,n,e)+"<input id="+dq(o)+" "+h+i+a+"></div>"}function w3_input_get(t,n,e,i,r,l){var o=ext_get_cfg_param(e,null==r?null:r);return w3_input(t,n,e,o=decodeURIComponent(o),i,l)}function w3_input_get_param(t,n,e,i,r){var l=ext_get_cfg_param(n,null==i?null:i);return w3_input("",t,n,l=decodeURIComponent(l),e,r)}function w3_textarea(t,n,e,i,r,l,o){var _=w3_add_id(e),a=""!=n?" w3-margin-T-8":"",w=' onchange="w3_input_change('+sq(e)+", "+sq(o)+')" onkeydown="w3int_input_key(event, '+sq(e)+", "+sq(o)+')"';i=i||"";return w3_div("",n,"<textarea "+w3_psa(t,"w3-input w3-border w3-hover-shadow "+_+a,"",'rows="'+r+'" cols="'+l+'"')+w+">"+i+"</textarea>")}function w3_textarea_get_param(t,n,e,i,r,l,o){var _=ext_get_cfg_param(e,null==o?null:o);return w3_textarea(t,n,e,_=decodeURIComponent(_),i,r,l)}function w3int_checkbox_change(t,n,e){var i=w3_el(t);w3_check_restart_reboot(i),n&&(w3_highlight(i),setTimeout(function(){w3_unhighlight(i)},w3_highlight_time),w3_call(n,t,i.checked,!1,e)),w3_contains(i,"w3-retain-input-focus")?w3_field_select(t,{mobile:1}):w3int_post_action()}function w3_checkbox(t,n,e,i,r,l){var o=w3_add_id(e),_=' onchange="w3int_checkbox_change('+sq(e)+", "+sq(r)+", "+sq(l)+')"',a=i?" checked":"",w=t.includes("w3-label-inline"),c=t.includes("w3-label-left"),s=!t.includes("w3-label-not-bold"),u=""!=n&&w?c?" w3-margin-L-8":" w3-margin-R-8":"",d=w3_psa3(t),f=w3_psa(d.left,w?"w3-show-inline-new":""),v=w3_psa_mix(d.middle,""!=n&&s?"w3-bold":""),h=w3_psa(d.right,"w3-input w3-width-auto w3-border w3-pointer w3-hover-shadow "+o+u,"",'type="checkbox"'),p=w3_label(v,n,e),g="<input "+h+a+_+">",m="<div "+f+">"+(c?p+g:g+p)+"</div>";return r&&setTimeout(function(){w3_call(r,e,i,!0,l)},500),m}function w3_checkbox_get_param(t,n,e,i,r){return w3_checkbox(t,n,e,ext_get_cfg_param(e,null==r?null:r),i)}function w3_checkbox_get(t){var n=w3_el(t);if(n)return!!n.checked}function w3_checkbox_set(t,n){var e=w3_el(t);e&&(e.checked=!!n)}var w3int_menu_close_cur_id,W3_SELECT_SHOW_TITLE=-1;function w3int_select_change(t,n,e,i){var r=t.currentTarget;w3_check_restart_reboot(r),e&&w3_call(e,n,r.value,!1,i),w3int_post_action()}function w3int_select(t,n,e,i,r,l,o,_){var a=w3_add_id(i),w="";""!=e?w='<option value="-1" '+(r==W3_SELECT_SHOW_TITLE?"selected":"")+" disabled>"+e+"</option>":r==W3_SELECT_SHOW_TITLE&&(r=0);var c=t.includes("w3-label-inline"),s=!t.includes("w3-label-not-bold"),u=""==n||c?"":" w3-margin-T-8";c&&(u+=" w3-margin-left"),null==o&&(o="");var d='onchange="w3int_select_change(event, '+sq(i)+", "+sq(o)+", "+sq(_)+')"',f=w3_psa3(t),v=w3_psa(f.left,c?"w3-show-inline-new":""),h=w3_psa_mix(f.middle,""!=n&&s?"w3-bold":""),p=w3_psa(f.right,a+" w3-pointer"+u,"",d),g="<div "+v+">"+w3_label(h,n,i)+(c||""==n?"":"<br>")+"<select "+p+">"+w+l+"</select></div>";return o&&r!=W3_SELECT_SHOW_TITLE&&setTimeout(function(){w3_call(o,i,r,!0,_)},500),g}function w3int_select_options(t,n){var e="";if(isString(n)){var i=n.split(":");if(2==i.length)for(var r=+i[0],l=+i[1],o=0,_=r;_<=l;_++)e+="<option value="+dq(o)+" "+(o==t?"selected":"")+">"+_+"</option>",o++}else isArray(n)?n.forEach(function(n,i){isObject(n)&&(n=n[Object.keys(n)[0]]);e+="<option value="+dq(i)+" "+(i==t?"selected":"")+">"+n+"</option>"}):isObject(n)&&w3_obj_enum(n,function(i,r){e+="<option value="+dq(r)+" "+(r==t?"selected":"")+">"+n[i]+"</option>"});return e}function w3_select(t,n,e,i,r,l,o,_){return w3int_select(t,n,e,i,r,w3int_select_options(r,l),o,_)}function w3_select_hier(t,n,e,i,r,l,o,_){var a="",w=0;if(isObject(l))return w3_obj_enum(l,function(t,n){as=t.split("\\"),as.forEach(function(t){a+="<option value="+dq(w++)+" disabled>"+t+"</option> "});var e=l[t];isArray(e)&&e.forEach(function(t,e){var i=w3_first_value(t);a+="<option value="+dq(w++)+' id="id-'+n+"-"+e+'">'+i.toString()+"</option> "})}),w3int_select(t,n,e,i,r,a,o,_)}function w3_select_conditional(t,n,e,i,r,l,o,_){var a="",w=0;if(isArray(l))return l.forEach(function(t){isArray(t)&&(a+="<option value="+dq(w++)+" "+(t[1]?"":"disabled")+">"+t[0]+"</option> ")}),w3int_select(t,n,e,i,r,a,o,_)}function w3_select_set_disabled(t,n,e){w3_iterate_children("id-"+t,function(t,i){t.value==n&&(t.disabled=!!e)})}function w3_select_get_param(t,n,e,i,r,l,o){return w3_select(t,n,e,i,ext_get_cfg_param(i,null==o?0:o),r,l)}function w3_select_enum(t,n){(t=w3_el(t))&&w3_iterate_children(t,n)}function w3_select_value(t,n,e){if(w3_opt(e,"all")){var i=w3_els(t);if(!i)return;for(var r=0;r<i.length;r++)i[r].value=n}else{var l=w3_el(t);if(!l)return;l.value=n}}function w3_select_set_if_includes(t,n){var e=!1,i=RegExp(n);return w3_select_enum(t,function(n){i.test(n.innerHTML)&&(e||(w3_select_value(t,n.value),e=!0))}),e}function w3int_slider_change(t,n,e,i,r){var l=t.currentTarget;w3_check_restart_reboot(l),i&&w3_call(i,e,l.value,n,!1,r),n&&w3int_post_action()}function w3_slider_old(t,n,e,i,r,l,o){e=null==e?"":w3_strip_quotes(e);var _='oninput="w3int_slider_change(event, 0, '+sq(n)+", "+sq(o)+')" ',a='onchange="w3int_slider_change(event, 1, '+sq(n)+", "+sq(o)+')" ',w=w3_label("w3-bold",t,n)+'<br><input id="id-'+n+'" class="" value=\''+e+'\' type="range" min="'+i+'" max="'+r+'" step="'+l+'" '+_+a+">";return o&&setTimeout(function(){w3_call(o,n,e,!0,!0)},500),w}function w3_slider(t,n,e,i,r,l,o,_,a){var w=w3_add_id(e),c=t.includes("w3-label-inline"),s=!t.includes("w3-label-not-bold"),u=""!=n&&c?" w3-margin-L-8":"";c&&(u+=" w3-margin-left"),value=null==i?"":w3_strip_quotes(i),value="value="+dq(value),a=a||0;var d=' oninput="w3int_slider_change(event, 0, '+sq(e)+", "+sq(_)+", "+sq(a)+')"',f=' onchange="w3int_slider_change(event, 1, '+sq(e)+", "+sq(_)+", "+sq(a)+')"',v=w3_psa3(t),h=w3_psa(v.left,c?"w3-show-inline-new":""),p=w3_psa_mix(v.middle,""!=n&&s?"w3-bold":""),g=w3_psa(v.right,w+u,"",value+' type="range" min='+dq(r)+" max="+dq(l)+" step="+dq(o)+d+f),m="<div "+h+">"+w3_label(p,n,e)+(c||""==n?"":"<br>")+"<input "+g+"></div>";return _&&setTimeout(function(){w3_call(_,e,i,!0,!0,a)},500),m}function w3_slider_set(t,n,e){w3_set_value(t,n),w3_call(e,t,n,!0,!1)}function w3_slider_setup(t,n,e,i,r){var l=w3_el(t);return l?(l.min=n,l.max=e,l.step=i,l.value=r,l):l}function w3_menu(t,n){var e=t.replace(/\s+/g," ").split(" |")[0];n=n||"";var i="<div "+w3_psa(t,"w3-menu w3-round-large","",'onclick="w3int_menu_onclick(event, '+sq(e)+", "+sq(n)+')" oncontextmenu="w3int_menu_onclick(event, '+sq(e)+", "+sq(n)+')"')+"></div>";w3_el("id-w3-main-container").innerHTML+=i}function w3_menu_items(t,n){var e,i,r,l="",o=0;if(isArray(n))r=n;else{r=[];for(var _=1;_<arguments.length;_++)r.push(arguments[_])}for(_=0;_<r.length;_++)"<hr>"==r[_]?(e="w3-menu-item-hr",i=""):"!"==r[_].charAt(0)?(e="w3-menu-item-disabled",i="id="+dq(o),r[_]=r[_].substr(1),o++):(e="w3-menu-item",i="id="+dq(o),o++),l+=w3_div(e+"||"+i,r[_]);w3_el(t).innerHTML=l}function w3_menu_popup(t,n,e){var i=w3_el(t);-1==n&&(n=window.innerWidth/2),-1==e&&(e=window.innerHeight/2),i.style.top=px(e),i.style.left=px(n),i.style.visibility="visible",i.w3_menu_x=n,w3int_menu_close_cur_id=t,window.addEventListener("keyup",w3int_menu_close,!1),window.addEventListener("click",w3int_menu_close,!1)}function w3int_menu_onclick(t,n,e){var i=w3_el(n);if(i.style.visibility="hidden",window.removeEventListener("keyup",w3int_menu_close,!1),window.removeEventListener("click",w3int_menu_close,!1),null!=t&&null!=e){var r=t.target.id,l=+r;(""==r||isNaN(l))&&(r=t.target.parentNode.id),l=+r,(""==r||isNaN(l))&&(l=-1),w3_call(e,l,i.w3_menu_x)}if(null!=t)return cancelEvent(t)}function w3int_menu_close(t){("keyup"==t.type&&"Escape"==t.key||"click"==t.type&&2!=t.button)&&w3int_menu_onclick(null,w3int_menu_close_cur_id)}function w3_num_cb(t,n){var e=parseFloat(n);""==n&&(e=0),isNaN(e)&&(w3_set_value(t,0),e=0),setVarFromString(t,e)}function w3_bool_cb(t,n){v=+n,setVarFromString(t,v)}function w3_string_cb(t,n){setVarFromString(t,n.toString())}function w3_num_set_cfg_cb(t,n,e){var i=parseFloat(n);isNaN(i)&&(i=0),ext_set_cfg_param(t,i,null==e||!e)}function w3_bool_set_cfg_cb(t,n,e){var i;i=1==n||1==n,ext_set_cfg_param(t,i,null==e||!e)}function w3_string_set_cfg_cb(t,n,e){var i=null==e||!e;ext_set_cfg_param(t,encodeURIComponent(n.toString()),i)}function w3_remove_trailing_index(t,n){n=n||"-";var e,i=new RegExp("(.*)"+n+"([-]?[0-9]+)").exec(t);return i?(e=i[2],i=i[1]):(e=-1,i=t),{el:i,idx:e}}function w3_table(t){for(var n="<table "+w3_psa(t,"w3-table w3-table-default")+">",e=1;e<arguments.length;e++)n+=arguments[e];return n+="</table>"}function w3_table_heads(t){for(var n=w3_psa(t,"w3-table-head"),e="",i=1;i<arguments.length;i++)null!=arguments[i]&&(e+="<th "+n+">",e+=arguments[i],e+="</th>");return e}function w3_table_row(t){for(var n="<tr "+w3_psa(t,"w3-table-row")+">",e=1;e<arguments.length;e++)null!=arguments[e]&&(n+=arguments[e]);return n+="</tr>"}function w3_table_cells(t){for(var n=w3_psa(t,"w3-table-cell"),e="",i=1;i<arguments.length;i++)null!=arguments[i]&&(e+="<td "+n+">",e+=arguments[i],e+="</td>");return e}function w3_inline(t,n){var e=arguments.length;if(""==t&&""==n&&e>2){console.log("### w3_inline OLD API DEPRECATED");var i=Array.prototype.splice.call(arguments,0);return i.splice(0,1),w3_inline.apply(null,i)}for(var r=w3_psa3(t),l=w3_psa(r.middle,"w3-show-inline-new"),o=w3_psa(r.right),_="<div w3d-inlo "+l+">",a=1;a<e;a++){var w=arguments[a],c=!1;w.startsWith("w3-")||w.startsWith("id-")?(t=w3_psa(r.right,w),w=arguments[++a],c=!0):t=o,""==r.right&&!c&&w.startsWith("<div ")?_+=w:_+="<div w3d-inli-"+(a-1)+" "+t+">"+w+"</div>"}return _+="</div>"}function w3_inline_percent(t){for(var n=w3_psa3(t),e=w3_psa(n.middle,"w3-show-inline-new"),i=arguments.length,r=0,l="<div w3d-inlpo "+e+">",o=1;o<i;o+=2){var _;o+1<i?(_="width:"+arguments[o+1]+"%",r+=arguments[o+1]):_="width:"+(100-r)+"%",l+="<div w3d-inlpi-"+(o-1)/2+" "+w3_psa(n.right,"",_)+">"+arguments[o]+"</div>"}return l+="</div>"}function w3_div(t){for(var n="<div w3d-div "+w3_psa(t)+">",e=arguments.length,i=1;i<e;i++)n+=arguments[i];return n+="</div>"}function w3_span(t){for(var n="<div w3d-span "+w3_psa(t,"w3-show-span")+">",e=arguments.length,i=1;i<e;i++)n+=arguments[i];return n+="</div>"}function w3_divs(t,n){var e,i,r=arguments.length;if(""==t&&""==n)return console.log("### w3_divs OLD API 1 DEPRECATED"),e=w3_div.apply(null,Array.prototype.splice.call(arguments,1));if(""!=t&&""==n&&r>2)return console.log("### w3_divs OLD API 2 DEPRECATED"),(i=Array.prototype.splice.call(arguments,0)).splice(1,1),e=w3_div.apply(null,i);if(""==t&&n&&n.startsWith("w3-")&&r>2)return console.log("### w3_divs OLD API 3 DEPRECATED"),(i=Array.prototype.splice.call(arguments,0)).splice(0,1),e=w3_divs.apply(null,i);if(""!=t&&n&&n.startsWith("w3-")&&r>2)return console.log("### w3_divs OLD API 4 DEPRECATED"),(i=Array.prototype.splice.call(arguments,2)).splice(0,0,arguments[0]+"/"+arguments[1]),e=w3_divs.apply(null,i);var l=w3_psa3(t),o=w3_psa(l.middle),_=w3_psa(l.right);e="<div w3d-divso "+o+">";for(var a=1;a<r;a++)e+="<div w3d-divsi-"+(a-1)+" "+_+">"+arguments[a]+"</div>";return e+="</div>"}function w3_col_percent(t){for(var n=w3_psa3(t),e=w3_psa(n.middle,"w3-row"),i=arguments.length,r="<div w3d-colpo "+e+">",l=1;l<i;l+=2){var o,_;l+1<i?(o="w3-col",_="width:"+arguments[l+1]+"%"):(o="w3-rest",_=""),r+="<div w3d-colpi-"+(l-1)/2+" "+w3_psa(n.right,o,_)+">"+arguments[l]+"</div>"}return r+="</div>"}function w3_text(t,n){return w3_div(w3_psa_mix(t,"w3-text","padding:0 4px 0 0; background-color:inherit"),n||" ")}function w3_code(t,n){for(var e=arguments.length,i='<pre class="'+t+'"><code>',r=2;r<e;r++)i+='<div class="'+n+'">'+arguments[r]+"</div>";return i+="</code></pre>"}function w3_half(t,n,e,i,r,l){return null==r&&(r=""),null==l&&(l=""),'<div class="w3-row '+t+'"><div class="w3-col w3-half '+n+r+'">'+e+'</div><div class="w3-col w3-half '+n+l+'">'+(i||"")+"</div></div>"}function w3_third(t,n,e,i,r){return'<div class="w3-row '+t+'"><div class="w3-col w3-third '+n+'">'+e+'</div><div class="w3-col w3-third '+n+'">'+(i||"")+'</div><div class="w3-col w3-third '+n+'">'+(r||"")+"</div></div>"}function w3_quarter(t,n,e,i,r,l){return'<div class="w3-row '+t+'"><div class="w3-col w3-quarter '+n+'">'+e+'</div><div class="w3-col w3-quarter '+n+'">'+(i||"")+'</div><div class="w3-col w3-quarter '+n+'">'+(r||"")+'</div><div class="w3-col w3-quarter '+n+'">'+(l||"")+"</div></div>"}function w3_canvas(t,n,e,i){var r="",l=w3_opt(i,"pad",null),o=w3_opt(i,"pad_top",0),_=w3_opt(i,"pad_bottom",0);isNull(l)||(o=_=l),(l=o+_)&&(r+=sprintf(" padding-top:%dpx; padding-bottom:%dpx;",o,_));var a=w3_opt(i,"left","");""!=a&&(r+=sprintf(" left:%dpx;",a));var w=w3_opt(i,"right","");""!=w&&(r+=sprintf(" right:%dpx;",w));var c=w3_opt(i,"top","");return""!=c&&(r+=sprintf(" top:%dpx;",c)),r="<canvas "+w3_psa(t,null,"position:absolute;"+r,sprintf('width="%d" height="%d"',n,e))+"></canvas>"}




/* web/openwebrx/openwebrx.min.js */





/* web/openwebrx/audio.min.js */





/* web/openwebrx/ima_adpcm.min.js */
var indexAdjustTable=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],stepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function ImaAdpcmDecode(e,a){var p=stepSizeTable[a.index],d=p>>3;return 1&e&&(d+=p>>2),2&e&&(d+=p>>1),4&e&&(d+=p),8&e&&(d=-d),a.previousValue+=d,a.previousValue>a.pos_clamp?a.previousValue=a.pos_clamp:a.previousValue<a.neg_clamp&&(a.previousValue=a.neg_clamp),a.index+=indexAdjustTable[e],a.index<0?a.index=0:a.index>88&&(a.index=88),a.previousValue}function decode_ima_adpcm_e8_i16(e,a,p,d){d.pos_clamp=32767,d.neg_clamp=-32768;var c,i=0;for(c=0;c<p;c++){var m=e.getUint8(c);a[i++]=ImaAdpcmDecode(15&m,d),a[i++]=ImaAdpcmDecode(m>>4&15,d)}}function decode_ima_adpcm_e8_u8(e,a,p,d){d.pos_clamp=255,d.neg_clamp=0;var c,i=0;for(c=0;c<p;c++)a[i++]=ImaAdpcmDecode(15&e[c],d),a[i++]=ImaAdpcmDecode(e[c]>>4&15,d)}

/* web/pkgs/xdLocalStorage/xdLocalStorage.min.js */
"use strict";window.xdLocalStorage=window.xdLocalStorage||function(){var e,n="cross-domain-local-message",o={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},t=-1,i={},a=!1,l=!1;function r(e){var t;try{t=JSON.parse(e.data)}catch(e){}t&&t.namespace===n&&("iframe-ready"===t.id?(l=!0,t.ip&&console.log("xdLocalStorage ip="+t.ip),o.initCallback()):function(e){i[e.id]&&(i[e.id](e),delete i[e.id])}(t))}function s(o,a,l,r){i[++t]=r;var s={namespace:n,etag:0,server:0,id:t,action:o,key:a,value:l};e.contentWindow.postMessage(JSON.stringify(s),"*")}function c(n){o=XdUtils.extend(n,o);var t=document.createElement("div");window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),t.innerHTML='<iframe id="'+o.iframeId+'" src='+o.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(t),e=document.getElementById(o.iframeId)}function d(){return a?!!l||(console.log("You must wait for iframe ready message before using the api."),!1):(console.log("You must call xdLocalStorage.init() before using it."),!1)}return{init:function(e){if(!e.iframeUrl)throw"You must specify iframeUrl";a?console.log("xdLocalStorage was already initialized!"):(a=!0,"complete"===document.readyState?c(e):window.onload=function(){c(e)})},setItem:function(e,n,o){d()&&s("set",e,n,o)},getItem:function(e,n){d()&&s("get",e,null,n)},removeItem:function(e,n){d()&&s("remove",e,null,n)},key:function(e,n){d()&&s("key",e,null,n)},getSize:function(e){d()&&s("size",null,null,e)},getLength:function(e){d()&&s("length",null,null,e)},clear:function(e){d()&&s("clear",null,null,e)},wasInit:function(){return a}}}(),window.xdLocalStorageHA=window.xdLocalStorageHA||function(){var e="cross-domain-local-message",n={iframeId:"cross-domain-iframe",iframeUrls:void 0,initCallback:function(){}},o=-1,t=[],i=[],a=0,l={},r=[],s=!1,c=!1;function d(n){var o;try{o=JSON.parse(n.data)}catch(e){}o&&o.namespace===e&&("iframe-ready"===o.id?o.ip&&console.log("xdLocalStorage ip="+o.ip):"ping"===o.action?(i[o.server]=!0,a++,console.log("XDLS ping reply server="+o.server+" seen_ct="+a)):r[o.server]=o)}function u(n,a,s,c){l[++o]=c;for(var d={namespace:e,etag:Date.now(),id:o,action:n,key:a,value:s},u=0;u<t.length;u++)("ping"==n||i[u])&&(console.log("XDLS request id="+o+" server="+u+" action="+n+" etag="+d.etag),d.server=u,r[u]=null,t[u].contentWindow.postMessage(JSON.stringify(d),"*"));"ping"!=n&&setTimeout(function(){for(var e=-1,n=-1,o=0;o<t.length;o++){var i=r[o];if(null!=i){var a=i.etag?i.etag:0;console.log("XDLS response id="+i.id+" server="+i.server+" etag="+a),a>e&&(e=a,n=o)}}-1!=n?function(e){console.log("XDLS result id="+e.id+" server="+e.server),console.log(e),l[e.id]&&(l[e.id](e),delete l[e.id])}(r[n]):console.log("XDLS wait longer for response?")},250)}function f(e){n=XdUtils.extend(e,n),window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d);var o=0;n.iframeUrls.forEach(function(e){var i="id-"+n.iframeId+"-"+o,a=document.createElement("div");w3_add(a,"id-"+n.iframeId),a.innerHTML='<iframe id="'+i+'" src='+e+' style="display: none;"></iframe>',document.body.appendChild(a),t[o]=document.getElementById(i),o++})}function m(){return s?!!c||(console.log("You must wait for iframe ready message before using the api."),!1):(console.log("You must call xdLocalStorage.init() before using it."),!1)}return setTimeout(function(){u("ping",null,null,null),setTimeout(function(){console.log("XDLS seen servers="+a),c=!0,n.initCallback()},1e3)},5e3),{init:function(e){if(!e.iframeUrls)throw"You must specify iframeUrls";s?console.log("xdLocalStorage was already initialized!"):(s=!0,"complete"===document.readyState?f(e):window.onload=function(){f(e)})},setItem:function(e,n,o){m()&&u("set",e,n,o)},getItem:function(e,n){m()&&u("get",e,null,n)},removeItem:function(e,n){m()&&u("remove",e,null,n)},key:function(e,n){m()&&u("key",e,null,n)},getSize:function(e){m()&&u("size",null,null,e)},getLength:function(e){m()&&u("length",null,null,e)},clear:function(e){m()&&u("clear",null,null,e)},wasInit:function(){return s}}}();

/* web/pkgs/xdLocalStorage/xd-utils.min.js */
"use strict";window.XdUtils=window.XdUtils||function(){return{extend:function(n,t){var r,i=t||{};for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}}}();