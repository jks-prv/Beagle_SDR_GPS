

/* web/kiwi/kiwi_util.min.js */
function isUndefined(e){return void 0===e}function isDefined(e){return void 0!==e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e&&!isNaN(e)}function isBoolean(e){return"boolean"==typeof e}function isString(e){return"string"==typeof e}function isArray(e){return Array.isArray(e)}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e}function isArg(e){return!isUndefined(e)&&!isNull(e)}function kiwi_typeof(e){return isNull(e)?"null":isArray(e)?"array":typeof e}try{String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>=0})}catch(e){console.log("kiwi_util: String.prototype.includes")}try{String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0==this.indexOf(e)})}catch(e){console.log("kiwi_util: String.prototype.startsWith")}try{String.prototype.endsWith||(String.prototype.endsWith=function(e,i){return(void 0===i||i>this.length)&&(i=this.length),this.substring(i-e.length,i)===e})}catch(e){console.log("kiwi_util: String.prototype.endsWith")}var kiwi_iOS,kiwi_OSX,kiwi_linux,kiwi_Windows,kiwi_android,kiwi_safari,kiwi_firefox,kiwi_chrome,kiwi_opera,kiwi_smartTV,kiwi_util={};function kiwi_is_iOS(){return kiwi_iOS}function kiwi_isOSX(){return kiwi_OSX}function kiwi_isWindows(){return kiwi_Windows}function kiwi_isLinux(){return kiwi_linux}function kiwi_isAndroid(){return kiwi_android}function kiwi_isMobile(){return kiwi_isAndroid()||kiwi_is_iOS()||mobile_laptop_test}function kiwi_isSafari(){return kiwi_safari?kiwi_safari[1]:NaN}function kiwi_isFirefox(){return kiwi_firefox?kiwi_firefox[1]:NaN}function kiwi_isChrome(){return kiwi_chrome?kiwi_chrome[1]:NaN}function kiwi_isOpera(){return kiwi_opera?kiwi_opera[1]:NaN}function kiwi_isSmartTV(){return kiwi_smartTV?kiwi_smartTV[1]:NaN}document.onreadystatechange=function(){if("complete"==document.readyState){var e=navigator.userAgent;console.log(e),kiwi_iOS=e.includes("iPhone")||e.includes("iPad"),kiwi_OSX=e.includes("OS X"),kiwi_linux=e.includes("Linux"),kiwi_Windows=e.includes("Win"),kiwi_android=e.includes("Android"),kiwi_safari=/safari\/([0-9]+)/i.exec(e),kiwi_browserVersion=/version\/([0-9]+)/i.exec(e),kiwi_firefox=/firefox\/([0-9]+)/i.exec(e),kiwi_chrome=/chrome\/([0-9]+)/i.exec(e),(kiwi_opera=/opera\/([0-9]+)/i.exec(e))||(kiwi_opera=/OPR\/([0-9]+)/i.exec(e)),kiwi_smartTV=/SmartTV\/([0-9]+)/i.exec(e),console.log("iOS="+kiwi_iOS+" OSX="+kiwi_OSX+" Linux="+kiwi_linux+" Windows="+kiwi_Windows+" android="+kiwi_android),kiwi_opera?kiwi_chrome=kiwi_safari=null:kiwi_chrome?kiwi_safari=null:kiwi_safari&&kiwi_browserVersion&&(kiwi_safari[1]=kiwi_browserVersion[1]),console.log("safari="+kiwi_isSafari()+" firefox="+kiwi_isFirefox()+" chrome="+kiwi_isChrome()+" opera="+kiwi_isOpera()),"undefined"!=typeof kiwi_check_js_version?kiwi_ajax("/VER","kiwi_version_cb"):"undefined"!=typeof kiwi_bodyonload&&kiwi_bodyonload("")}};var kiwi_version_fail=!1;function kiwi_version_cb(e){version_maj=e.maj,version_min=e.min;var i="";kiwi_check_js_version.forEach(function(e){e.VERSION_MAJ==version_maj&&e.VERSION_MIN==version_min||(0==kiwi_version_fail&&(i="Your browser is trying to use incorrect versions of the KiwiSDR Javascript files.<br>Please clear your browser cache and try again.<br>Or click the button below to continue anyway.<br><br>v"+version_maj+"."+version_min+": KiwiSDR server<br>",kiwi_version_fail=!0),i+="v"+e.VERSION_MAJ+"."+e.VERSION_MIN+": "+e.file+"<br>")}),kiwi_version_fail&&(i+="<br>"+w3_button("w3-css-yellow","Continue anyway","kiwi_version_continue_cb")),kiwi_bodyonload(i)}function kiwi_version_continue_cb(){seriousError=!1,kiwi_bodyonload("")}function ord(e,i){return isString(i)?e.charCodeAt(0)-i.charCodeAt(0):e.charCodeAt(0)}function chr(e){return String.fromCharCode(e)}function sq(e){return"'"+e+"'"}function dq(e){return'"'+e+'"'}function dqc(e){return'"'+e+'":'}function plural(e,i){return 1==e?i:i+"s"}function arrayBufferToString(e){var i;try{var r=new Uint8Array(e);i="";for(var t=0;t<r.length;t++)i+=String.fromCharCode(r[t])}catch(r){console.log(e),console.log(r),kiwi_trace("arrayBufferToString"),i=null}return i}function arrayBufferToStringLen(e,i){var r=new Uint8Array(e),t=String();i=Math.min(i,r.length);for(var n=0;n<i;n++)t+=String.fromCharCode(r[n]);return t}function kiwi_dup_array(e){return e.slice()}function kiwi_shallow_copy(e){return Object.assign({},e)}function kiwi_deep_copy(e){return JSON.parse(JSON.stringify(e))}function getFirstChars(e,i){arrayBufferToStringLen(e,i)}function kiwi_inet4_d2h(e){var i=e.split(".");return(255&i[0])<<24|(255&i[1])<<16|(255&i[2])<<8|255&i[3]}function kiwi_h2n_32(e,i){var r;switch(i){case 0:r=e>>24;break;case 1:r=e>>16;break;case 2:r=e>>8;break;case 3:r=e;break;default:r=0}return 255&r}function kiwi_ip_str(e){var i="";return isNumber(e)?i=kiwi_h2n_32(e,0)+"."+kiwi_h2n_32(e,1)+"."+kiwi_h2n_32(e,2)+"."+kiwi_h2n_32(e,3):isArray(e)?i=e[3]+"."+e[2]+"."+e[1]+"."+e[0]:isObject(e)&&(i=e.a+"."+e.b+"."+e.c+"."+e.d),i}function isHexDigit(e){return"0123456789ABCDEFabcdef".indexOf(e)>-1}Number.prototype.leadingZeros=function(e){var i=String(this);for(isNumber(e)||(e=2);i.length<e;)i="0"+i;return i},String.prototype.leadingZeros=function(e){var i=String(this);for(isNumber(e)||(e=2);i.length<e;)i="0"+i;return i},Number.prototype.fieldWidth=function(e){var i=String(this);if(!isNumber(e))return i;for(;i.length<e;)i=" "+i;return i},String.prototype.fieldWidth=function(e){var i=String(this);if(!isNumber(e))return i;for(;i.length<e;)i=" "+i;return i},String.prototype.filterInt=function(){var e=String(this);return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):NaN},String.prototype.withSign=function(){var e=this;return Number(e)<0?e:"+"+e},String.prototype.positiveWithSign=function(){var e=this;return Number(e)<=0?e:"+"+e},Number.prototype.toHex=function(e){isNumber(e)||(e=0);var i=e<0?0:1;e=Math.abs(e);for(var r=Number(this),t=(r>>>=0).toString(16);t.length<e;)t="0"+t;return i&&(t="0x"+t),t},Number.prototype.toFixedNZ=function(e){for(var i=Number(this).toFixed(e);i.endsWith("0");)i=i.slice(0,-1);return i.endsWith(".")&&(i=i.slice(0,-1)),i},Number.prototype.toUnits=function(){var e=Number(this);return e<1e3?e.toString():e<1e6?(e/1e3).toFixed(1)+"k":e<1e9?(e/1e6).toFixed(1)+"M":(e/1e9).toFixed(1)+"G"},String.prototype.parseFloatWithUnits=function(e,i){var r=String(this),t=parseFloat(r);return isNaN(t)?NaN:(e&&!e.includes("k")||new RegExp("([-0-9.]*k)").test(r)&&(t*=1e3,i&&(t*=i)),e&&!e.includes("M")||new RegExp("([-0-9.]*M)").test(r)&&(t*=1e6,i&&(t*=i)),t)},Number.prototype.withSign=function(){var e=Number(this),i=e.toString();return e<0?i:"+"+i};var kHz=function(e){return(e/1e3).toFixed(3)+"k"};function kiwi_setTimeout(e,i,r){return e(r),setTimeout(e,i,r)}function kiwi_clearTimeout(e){try{clearTimeout(e)}catch(e){}}function kiwi_setInterval(e,i,r){return e(r),setInterval(e,i,r)}function kiwi_clearInterval(e){try{clearInterval(e)}catch(e){}}var littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();function _nochange(e){if(0!=arguments.length)return void 0===e}function _default(e){return 0==arguments.length?NaN:isNaN(e)}function _change(e){return!_nochange(e)&&!_default(e)}function console_log(){for(var e,i=0;i<arguments.length;i++){var r=arguments[i];0==i?e=r+": ":e+="arg"+(i-1)+"="+r+" "}console.log("CONSOLE_LOG "+e)}function console_log_fqn(){for(var e,i=0;i<arguments.length;i++){var r=arguments[i];if(0==i)e=r+": ";else{var t;try{t=getVarFromString(r)}catch(e){t="[not defined]"}var n=r.lastIndexOf(".");e+=(-1==n?r:r.substr(n+1))+"="+t+" "}}console.log("FQN "+e)}function console_log_dbgUs(){if(dbgUs){s="";for(var e=0;e<arguments.length;e++)s+=arguments[e].toString();console.log(s)}}function kiwi_log(e){setTimeout(function(e){console.log(e)},1,e)}function kiwi_trace_log(e){setTimeout(function(e){kiwi_trace(e)},1,e)}function kiwi_rateLimit(e,i){var r=!1;return function(){if(!r){r=!0;var t=arguments;setTimeout(function(){r=!1,e.apply(this,t)},i)}}}function kiwi_UTC_minutes(){var e=new Date;return 60*e.getUTCHours()+e.getUTCMinutes()}function kiwi_hh_mm(e){if(isNumber(e))return e;if(isString(e)){var i=e.split(":"),r=+i[0];if(i.length>1){var t=+i[1]/60;r=r<0?r-t:r+t}return"-0"!=i[0]&&"-00"!=i[0]||(r=-r),r}return null}function kiwi_UTCdoyToDate(e,i,r,t,n){return new Date(Date.UTC(i,0,e,r,t,n))}function kiwi_decodeURIComponent(e,i){var r=null,t=!1;if(dbgUs&&2!=arguments.length)return alert("kiwi_decodeURIComponent: requires exactly two args"),kiwi_trace(),null;for(;null==r;)try{r=decodeURIComponent(i)}catch(c){if(console.log("$kiwi_decodeURIComponent("+e+"): decode fail"),console.log(i),t)return console.log("kiwi_decodeURIComponent("+e+"): DOUBLE DECODE FAIL"),console.log(i),console.log(c),null;for(var n=0;n<i.length-2;n++){var o=i.charAt(n+1),a=i.charAt(n+2);if("%"==i.charAt(n)&&isHexDigit(o)&&isHexDigit(a)&&o>="8"){var s=i.charAt(n-1);s=s.charCodeAt(0),i=i.substr(0,n)+i.substr(n+3),n=0,t=!0}}r=null}return r}kiwi_util.str_recode_lookup=[];var e1=function(e){kiwi_util.str_recode_lookup[ord(e)]=1},e2=function(e){kiwi_util.str_recode_lookup[ord(e)]=2},er=function(e,i,r){for(var t=e;t<=i;t++)kiwi_util.str_recode_lookup[t]=r};function kiwi_str_decode_selective_inplace(e,i){var r,t="",n=e.length,o=(e.length,/[0-9a-fA-F]/);for(r=0;r<n;r++)if("%"==e[r]&&r+2<n&&e[r+1].match(o)&&e[r+2].match(o)){var a=parseInt(e[r+1],16)<<4|parseInt(e[r+2],16);a<128&&(0==kiwi_util.str_recode_lookup[a]||i&&1==kiwi_util.str_recode_lookup[a])?(t+=chr(a),r+=2):t+="%"}else t+=e[r];return t}function kiwi_JSON_parse(e,i){var r;try{r=JSON.parse(i)}catch(t){console.log("kiwi_JSON_parse("+e+"): JSON parse fail"),console.log(i),console.log(t),r=null}return r}function kiwi_remove_ANSI_escape_sequences(e){for(var i=e.split(""),r=[],t=!1,n=0;n<i.length;n++)t?"m"==i[n]&&(t=!1):""==i[n]&&n+1<i.length&&"["==i[n+1]?(n++,t=!0):r.push(i[n]);return r.join("")}function kiwi_clean_html(e){return e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function kiwi_clean_newline(e){return e.replace(/[\r\n\f\v]/g,"").replace(/\t/g," ")}function kiwi_SSL(){return window.location.protocol+"//"}function kiwi_url_origin(){return window.location.origin}function kiwi_host_port(){return window.location.host}function kiwi_host(){return window.location.hostname}function kiwi_url_param(e,i,r){var t=isArray(e);isUndefined(i)&&(i=!0),isUndefined(r)&&(r=null);var n=window.location&&window.location.search&&window.location.search.substr(1);if(!n)return r;var o=r;return n.split("&").forEach(function(r){var n=r.split("=");t?e.forEach(function(e){e==n[0]&&(o=n.length>=2?n[1]:i)}):e==n[0]&&(o=n.length>=2?n[1]:i)}),o}function kiwi_add_search_param(e,i){var r=e.search;return console.log("qs=<"+r+">"),(""==r?"/?":r.includes("?")?"&":"/?")+i}function kiwi_remove_search_param(e,i){return e=e.replace("?"+i+"&","?").replace("&"+i+"&","&").replace("?"+i,"").replace("&"+i,"")}er(0,127,0),e1("&"),e1("'"),e1("+"),e1(";"),e1("<"),e1(">"),e1("`"),e2('"'),e2("%"),e2("\\"),er(0,31,2),er(127,127,2);var kiwiint_dummy_elem={};function html(e){var i=w3_el(e);try{i.value}catch(r){console.log("html('"+e+"')="+i+" FAILED"),dbgUs&&dbgUsFirst&&(dbgUsFirst=!1)}return null==i&&(i=kiwiint_dummy_elem),i}function px(e){if(!isArg(e)||""==e)return"0";var i=parseFloat(e);return isNaN(i)?(console.log("px num="+e),kiwi_trace(),"0"):i.toFixed(0)+"px"}function unpx(e){return parseFloat(e)}function css_style(e,i){return(e=w3_el(e))?getComputedStyle(e,null).getPropertyValue(i):null}function css_style_num(e,i){if(!(e=w3_el(e)))return null;var r=parseInt(css_style(e,i));return isNaN(r)&&(r=0),r}function html_LR_border_pad(e){return css_style_num(e,"border-left-width")+css_style_num(e,"border-right-width")+css_style_num(e,"padding-left")+css_style_num(e,"padding-right")}function cancelEvent(e){return(e=e||window.event).stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function ignore(e){return cancelEvent(e)}function kiwi_rgb(e,i,r){return null==e?"":(isArray(e)&&(i=e[1],r=e[2],e=e[0]),"rgb("+Math.floor(e)+","+Math.floor(i)+","+Math.floor(r)+")")}function hsl(e,i,r){return(i=Math.floor(i))<0&&(i=0),i>100&&(i=100),(r=Math.floor(r))<0&&(r=0),r>100&&(r=100),"hsl("+Math.round(e)+","+i+"%,"+r+"%)"}function createCookie(e,i,r){var t="";if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),t="; expires="+n.toGMTString()}document.cookie=e+"="+i+t+"; path=/; SameSite=Lax;"}function readCookie(e,i){for(var r=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return isDefined(i)?i:null}function writeCookie(e,i){createCookie(e,i,15330)}function initCookie(e,i){var r=readCookie(e);return null==r?(writeCookie(e,i),i):r}function updateCookie(e,i){var r=readCookie(e);return(null==r||r!=i)&&(writeCookie(e,i),!0)}function deleteCookie(e){null!=readCookie(e)&&createCookie(e,0,-1)}function kiwi_localStorage_getItem(e){var i;try{if(null==localStorage)return null;i=localStorage.getItem(e)}catch(e){i=null}return i}function kiwi_localStorage_setItem(e,i){var r;try{if(null==localStorage)return null;r=localStorage.setItem(e,i)}catch(e){r=null}return r}function getVarFromString(e){var r=window,t=e.split(".");for(i=0;i<t.length-1;i++){var n=t[i];if(isUndefined(r=r[n]))throw console.log("getVarFromString: NO SCOPE "+e+" scope_name="+n),"no scope"}return r[t[t.length-1]]}function setVarFromString(e,r){var t=window,n=e.split(".");for(i=0;i<n.length-1;i++)null==t[n[i]]&&(t[n[i]]={}),t=t[n[i]];t[n[n.length-1]]=r}function getType(e){return e&&e.constructor&&e.constructor.name}function kiwi_parseQuery(e){var i=new Object;if(!e)return i;for(var r=e.split(/[;&]/),t=0;t<r.length;t++){var n=r[t].split("=");if(n&&2==n.length){var o=unescape(n[0]),a=unescape(n[1]);a=a.replace(/\+/g," "),i[o]=a}}return i}function getTextWidth(e,i){var r=(getTextWidth.canvas||(getTextWidth.canvas=document.createElement("canvas"))).getContext("2d");return r.font=i,r.measureText(e).width}function kiwi_GETrequest(e,i,r){var t=w3_opt(r,"debug",0),n=document.createElement("iframe"),o=e+"_"+(new Date).toUTCString().substr(17,8);document.body.appendChild(n),n.style.display="none",n.contentWindow.name=o,w3_add(n,"id-kiwi_GETrequest");var a=document.createElement("form");return a.target=o,a.action=i,a.method="GET",w3_add(a,"id-kiwi_GETrequest"),t&&console.log("kiwi_GETrequest: "+o),{iframe:n,form:a,debug:t}}function kiwi_GETrequest_submit(e,i){var r=w3_opt(i,"no_submit",0),t=w3_opt(i,"gc",0);r?console.log("kiwi_GETrequest_submit: NO SUBMIT"):(document.body.appendChild(e.form),e.form.submit(),e.debug&&console.log("kiwi_GETrequest_submit: SUBMITTED")),t&&setTimeout(function(){document.body.removeChild(e.form),document.body.removeChild(e.iframe)},6e4)}function kiwi_GETrequest_param(e,i,r){var t=document.createElement("input");t.type="hidden",t.name=i,t.value=r,e.form.appendChild(t),e.debug&&console.log("kiwi_GETrequest_param: "+i+"="+r)}var ajax_state={DONE:4};function kiwi_ajax(e,i,r,t,n){kiwi_ajax_prim("GET",null,e,i,r,t,void 0,void 0,n)}function kiwi_ajax_progress(e,i,r,t,n,o,a){kiwi_ajax_prim("GET",null,e,i,r,t,n,o,a)}function kiwi_ajax_send(e,i,r,t,n,o){kiwi_ajax_prim("PUT",e,i,r,t,n,void 0,void 0,o)}var ajax_id=0,ajax_requests={};function kiwi_ajax_prim(e,i,r,t,n,o,a,s,c){var u;ajax_id++;var l=function(e){c&&console.log(e)};try{u=new XMLHttpRequest}catch(e){try{u=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{u=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}}return u.kiwi_id=ajax_id,ajax_requests[ajax_id]={},ajax_requests[ajax_id].didTimeout=!1,ajax_requests[ajax_id].timer=-1,(o=o||0)&&(ajax_requests[ajax_id].timer=setTimeout(function(){var e=u.kiwi_id;ajax_requests[e].didTimeout=!0,ajax_requests[e].timer=-1,console.log("$AJAX TIMEOUT url="+r);w3_call(t,{AJAX_error:"timeout"},n),u.abort(),delete ajax_requests[e]},Math.abs(o))),a&&(l("AJAX with progress_cb="+a),u.onprogress=function(){var e=u.responseText.toString()||"";l("XHR.onprogress="+e),w3_call(a,e,s)}),u.onerror=function(e){l("XHR.onerror="+e),c&&console.log(e)},u.onabort=function(e){l("XHR.onabort="+e),c&&console.log(e)},u.onload=function(e){l("XHR.onload="+e),c&&console.log(e)},u.onloadstart=function(e){l("XHR.onloadstart="+e),c&&console.log(e)},u.onreadystatechange=function(){if(l("XHR.onreadystatechange readyState="+u.readyState),u.readyState!=ajax_state.DONE)return!1;var e=u.kiwi_id,i=ajax_requests[e].timer;if(l("AJAX ORSC ENTER recovered id="+e+" timer="+i+" cb="+t),-1!=i&&(l("AJAX ORSC CLEAR_TIMER recovered id="+e+" timer="+i),kiwi_clearTimeout(i),ajax_requests[e].timer=-1),ajax_requests[e].didTimeout)l("AJAX ORSC TIMED_OUT recovered id="+e);else{var o;if(l("XHR.status="+u.status),l("XHR.statusText="+u.statusText),l("XHR.responseType="+u.responseType),l("XHR.response="+u.response),l("XHR.responseText="+u.responseText),l("XHR.responseURL="+u.responseURL),c&&console.log(u),200!=u.status)console.log("$AJAX BAD STATUS="+u.status+" url="+r),o={AJAX_error:"status",status:u.status};else{var a=u.responseText.toString();if(null==a&&(a=""),a.startsWith("<?xml"))o={XML:!0,text:a};else{var s=a.charAt(0);if("{"==s||"["==s||s>="0"&&s<="9")try{a=kiwi_remove_cjson_comments(a),o=JSON.parse(a),l("AJAX JSON response:"),l(a),l(o)}catch(e){l("AJAX response JSON.parse failed: <"+a+">"),l(e),o={AJAX_error:"JSON parse",JSON_ex:e.toString(),response:a}}else l("AJAX: response didn't begin with JSON '{', '[' or digit? "+a),o={AJAX_error:"JSON prefix",response:a}}}l("AJAX ORSC CALLBACK recovered id="+e+" callback="+typeof t),w3_call(t,o,n)}l("AJAX ORSC ABORT/DELETE"),u.abort(),delete ajax_requests[e]},o>=0&&(u.open(e,r,!0),l("AJAX SEND id="+ajax_id+" url="+r),u.send(i)),!0}function kiwi_remove_cjson_comments(e){for(var i,r;-1!=(i=e.indexOf("\n//"));)r=e.indexOf("\n",i+3),e=e.slice(0,i)+e.slice(r),!0;return e}function kiwi_scrollbar_width(){return kiwi_isOSX()?10:15}function kiwi_strip_tags(e,i){i=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,r){return i.indexOf("<"+r.toLowerCase()+">")>-1?e:""})}function kiwi_pie(e,i,r,t){var n=2*i;return'<svg width="'+n+'" height="'+n+'" viewbox="0 0 '+n+" "+n+'"><circle cx="'+i+'" cy="'+i+'" r="'+i+'" fill="'+r+'" /><path class="'+e+'" style="fill:'+t+'" transform="translate('+i+", "+i+')" /></svg>'}function kiwi_draw_pie(e,i,r){var t=360*r,n=t*Math.PI/180,o=Math.sin(n)*i,a=Math.cos(n)*-i,s=t>=180?1:0;360==t&&(s=1,o=-.1,a=-i);var c="M 0 0 v "+-i+" A "+i+" "+i+" 1 "+s+" 1 "+o+" "+a+" z";w3_iterate_classname(e,function(e){e.setAttribute("d",c)})}function enc(e){return e.replace(/./gi,function(e){return String.fromCharCode(3^e.charCodeAt(0))})}var sendmail=function(e,i){var r="mailto:"+enc(decodeURIComponent(e))+(isDefined(i)?"?subject="+i:"");window.location.href=r};function line_stroke(e,i,r,t,n,o,a,s){var c=Math.floor(r/2),u=i?r:a-n+1,l=i?s-o+1:r,_=n-(i?c:0),f=o-(i?0:c);e.fillStyle=t,e.fillRect(_,f,u,l)}var wsockets=[];function msg_send(e){for(var i=0;i<wsockets.length;i++){var r=wsockets[i].ws;if(r.up)try{return r.send(e),0}catch(i){return console.log("CATCH msg_send('"+e+"') ex="+i),kiwi_trace(),-1}}return-1}function open_websocket(e,i,r,t,n,o,a){if(!("WebSocket"in window&&"CLOSING"in WebSocket))return console.log("WEBSOCKET TEST"),kiwi_serious_error("Your browser does not support WebSocket, which is required for OpenWebRX to run. <br> Please use an HTML5 compatible browser."),null;var s=kiwi_url_origin().split("://")[1],c="ws://";"https:"===window.location.protocol&&(c="wss://");var u=window.location.href.includes("?no_wf")||window.location.href.includes("&no_wf");s=c+s+"/"+(u?"no_wf/":"kiwi/")+timestamp+"/"+e,u&&(wf.no_wf=!0);var l=new WebSocket(s);return wsockets.push({ws:l,name:e}),l.up=!1,l.stream=e,l.open_cb=i,l.open_cb_param=r,l.msg_cb=t,l.recv_cb=n,l.error_cb=o,l.close_cb=a,l.onopen=function(){if(l.up=!0,l.open_cb)try{l.open_cb(l.open_cb_param)}catch(e){console.log(e)}},l.onmessage=function(e){on_ws_recv(e,l)},l.onclose=function(e){if(l.up=!1,console.log("WS-CLOSE: "+l.stream),l.close_cb)try{l.close_cb(l)}catch(e){console.log(e)}},l.binaryType="arraybuffer",l.onerror=function(e){if(l.error_cb)try{l.error_cb(e,l)}catch(e){console.log(e)}},l}var kiwi_flush_recv_input=!0;function recv_websocket(e,i){"SND"!=e.stream&&"W/F"!=e.stream&&(e.recv_cb=i,null==i&&(kiwi_flush_recv_input=!0))}function on_ws_recv(e,i){var r=e.data;if(r instanceof ArrayBuffer){if(!seriousError){var t=arrayBufferToStringLen(r,3);if("CLI"!=t){var n=!1;if("MSG"==t){var o=arrayBufferToString(r);params=o.substring(4).split(" ");for(var a=0;a<params.length;a++){var s=params[a].split("=");"EXT"==i.stream&&"EXT-STOP-FLUSH-INPUT"==s[0]&&(kiwi_flush_recv_input=!1),0==(n=kiwi_msg(s,i))&&i.msg_cb&&(n=i.msg_cb(s,i)),0==n&&console.log(">>> "+i.stream+": message not claimed: "+params[a])}}else!i.recv_cb||"EXT"==i.stream&&0!=kiwi_flush_recv_input||(i.recv_cb(r,i,t),isDefined(kiwi_gc_recv)&&kiwi_gc_recv&&(r=null))}}}else console.log("on_ws_recv: not an ArrayBuffer?")}window.onbeforeunload=function(){var e;for(e=0;e<wsockets.length;e++){var i=wsockets[e].ws;i&&(i.onclose=function(){},i.close())}};


