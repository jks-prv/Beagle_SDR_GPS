

/* web/kiwi/kiwi_ui.min.js */
function dx_get_value(d){return w3_get_value("dx.o."+d+"_"+dx.o.gid)}function dx_update_check(d,o,x){if(d!=dx.IDX_USER){d=+d,dx.o.gid=d,console.log("### dx_update_check gid(idx)="+d+" "+(o==dx.UPD_ADD?"ADD":"MODIFY")),dx.o.fr=+dx_get_value("fr"),dx.o.fm=+dx_get_value("fm"),dx.o.ft=+dx_get_value("ft"),dx.o.fd=dx.o.last_fd[d],dx.o.b=+dx_get_value("b"),dx.o.e=+dx_get_value("e"),dx.o.o=+dx_get_value("o"),dx.o.i=dx_get_value("i"),dx.o.n=dx_get_value("n"),dx.o.p=dx_get_value("p"),x||(d>=0&&dx.o.last_pb[d]?(dx.o.lo=dx.o.last_pb[d][0],dx.o.hi=dx.o.last_pb[d][1]):dx.o.lo=dx.o.hi=0);var _=dx.o.fd<<dx.DX_DOW_SFT|dx.o.ft<<dx.DX_TYPE_SFT|dx.o.fm;if(dx.o.fr>32e3||kiwi.freq_offset_kHz){var e=dx.o.fr-kiwi.freq_offset_kHz;console.log("removing freq_offset from old_freq="+dx.o.fr+" freq_offset_kHz="+kiwi.freq_offset_kHz+" new_freq="+e),dx.o.fr=e}dx.o.fr<0&&(dx.o.fr=0),o==dx.UPD_ADD?dx.o.gid=-1:dx.ignore_dx_update=!0,console.log("dx.o:"),console.log(dx.o);var i=+dx.o.b,t=+dx.o.e;0==i&&0==t&&(t=2400),console.log("SET DX_UPD g="+dx.o.gid+" f="+dx.o.fr+" lo="+dx.o.lo+" hi="+dx.o.hi+" o="+dx.o.o.toFixed(0)+" fl="+_+"(dow="+dx.o.fd+"|ty="+dx.o.ft+"|mo="+dx.o.fm+") b="+i+" e="+t+" i="+dx.o.i+" n="+dx.o.n+" p="+dx.o.p),ext_send("SET DX_UPD g="+dx.o.gid+" f="+dx.o.fr+" lo="+dx.o.lo.toFixed(0)+" hi="+dx.o.hi.toFixed(0)+" o="+dx.o.o.toFixed(0)+" fl="+_+" b="+i+" e="+t+" i="+encodeURIComponent(dx.o.i+"x")+" n="+encodeURIComponent(dx.o.n+"x")+" p="+encodeURIComponent(dx.o.p+"x")),w3_call("dx_sched_save","id-dx-list-saved",1e3)}}function dx_num_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_num_cb path="+d+" val="+o+" o.idx="+_.idx),w3_num_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_sel_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_sel_cb path="+d+" val="+o+" o.idx="+_.idx),w3_string_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_string_cb(d,o,x){if(!x){var _=w3_remove_trailing_index(d,"_");console.log("dx_string_cb path="+d+" val="+o+" o.idx="+_.idx),w3_string_cb(_.el,o),dx_update_check(_.idx,dx.UPD_MOD)}}function dx_dow_button(d,o){var x=w3_remove_trailing_index(d,"_");console.log("dx_dow_button path="+d+" o.idx="+x.idx);var _=x.idx==dx.IDX_USER,e=1<<6-+o,i=_?dx.o.fd:dx.o.last_fd[x.idx],t=i;i^=e,_?dx.o.fd=i:dx.o.last_fd[x.idx]=i;var l=i&e;console.log("dx_dow_button day_i="+o+" dow_b="+e.toHex(2)+" sel="+l.toHex(2)+" before="+t.toHex(2)+" after="+i.toHex(2)+" o.idx="+x.idx),w3_color(d,l?"black":"white",l?dx.dow_colors[o]:"darkGrey"),dx_update_check(x.idx,dx.UPD_MOD)}function dx_sched_time_cb(d,o,x){dx_string_cb(d,o=(+o).toFixed(0).leadingZeros(4),x),w3_set_value(d,o)}function dx_passband_cb(d,o,x){if(!x){var _=o.split(/[,\s]/),e=_.length;if(console.log("dx_passband_cb path="+d+" val="+o+" a.len="+e),console.log(_),1==e&&""!=_[0]){var i=Math.round(_[0].parseFloatWithUnits("kM")/2);dx.o.lo=-i,dx.o.hi=i}else e>=1&&""!=_[0]&&""!=_[e-1]?(dx.o.lo=Math.round(_[0].parseFloatWithUnits("kM")),dx.o.hi=Math.round(_[e-1].parseFloatWithUnits("kM"))):dx.o.lo=dx.o.hi=0;var t=w3_remove_trailing_index(d,"_");console.log("dx_passband_cb lo="+dx.o.lo+" hi="+dx.o.hi+" o.idx="+t.idx),dx_update_check(t.idx,dx.UPD_MOD,!0)}}


